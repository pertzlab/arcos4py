
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://bgraedel.github.io/arcos4py/api/">
      
      
        <link rel="prev" href="../usage/">
      
      
        <link rel="next" href="../contributing/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Modules - arcos4py</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","${{ secrets.ANALYTICS_SECRET }}"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","${{ secrets.ANALYTICS_SECRET }}",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=${{ secrets.ANALYTICS_SECRET }}",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#arcos4py" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="arcos4py" class="md-header__button md-logo" aria-label="arcos4py" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            arcos4py
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Modules
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bgraedel/arcos4py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    bgraedel/arcos4py
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="arcos4py" class="md-nav__button md-logo" aria-label="arcos4py" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    arcos4py
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bgraedel/arcos4py" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    bgraedel/arcos4py
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Modules
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Modules
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arcos4py" class="md-nav__link">
    <span class="md-ellipsis">
      arcos4py
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.ARCOS" class="md-nav__link">
    <span class="md-ellipsis">
      ARCOS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ARCOS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.bin_col" class="md-nav__link">
    <span class="md-ellipsis">
      bin_col
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.id_column" class="md-nav__link">
    <span class="md-ellipsis">
      id_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.posCols" class="md-nav__link">
    <span class="md-ellipsis">
      posCols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.bin_measurements" class="md-nav__link">
    <span class="md-ellipsis">
      bin_measurements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.clip_meas" class="md-nav__link">
    <span class="md-ellipsis">
      clip_meas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.clip_measurements" class="md-nav__link">
    <span class="md-ellipsis">
      clip_measurements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.interpolate_measurements" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_measurements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.trackCollev" class="md-nav__link">
    <span class="md-ellipsis">
      trackCollev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.track_collective_events" class="md-nav__link">
    <span class="md-ellipsis">
      track_collective_events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.track_events_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_dataframe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.track_events_image" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.plotting" class="md-nav__link">
    <span class="md-ellipsis">
      plotting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="plotting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.LineagePlot" class="md-nav__link">
    <span class="md-ellipsis">
      LineagePlot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LineagePlot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.LineagePlot.draw_tree" class="md-nav__link">
    <span class="md-ellipsis">
      draw_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.LineagePlot.show" class="md-nav__link">
    <span class="md-ellipsis">
      show
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.NoodlePlot" class="md-nav__link">
    <span class="md-ellipsis">
      NoodlePlot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoodlePlot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.NoodlePlot.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots" class="md-nav__link">
    <span class="md-ellipsis">
      dataPlots
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dataPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots.density_plot" class="md-nav__link">
    <span class="md-ellipsis">
      density_plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots.histogram" class="md-nav__link">
    <span class="md-ellipsis">
      histogram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots.position_t_plot" class="md-nav__link">
    <span class="md-ellipsis">
      position_t_plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended" class="md-nav__link">
    <span class="md-ellipsis">
      plotOriginalDetrended
    </span>
  </a>
  
    <nav class="md-nav" aria-label="plotOriginalDetrended">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended.plot_detrended" class="md-nav__link">
    <span class="md-ellipsis">
      plot_detrended
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended.plot_original" class="md-nav__link">
    <span class="md-ellipsis">
      plot_original
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended.plot_original_and_detrended" class="md-nav__link">
    <span class="md-ellipsis">
      plot_original_and_detrended
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.statsPlots" class="md-nav__link">
    <span class="md-ellipsis">
      statsPlots
    </span>
  </a>
  
    <nav class="md-nav" aria-label="statsPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.statsPlots.plot_events_duration" class="md-nav__link">
    <span class="md-ellipsis">
      plot_events_duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.tools" class="md-nav__link">
    <span class="md-ellipsis">
      tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.DataFrameTracker" class="md-nav__link">
    <span class="md-ellipsis">
      DataFrameTracker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataFrameTracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.DataFrameTracker.track" class="md-nav__link">
    <span class="md-ellipsis">
      track
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.DataFrameTracker.track_iteration" class="md-nav__link">
    <span class="md-ellipsis">
      track_iteration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.ImageTracker" class="md-nav__link">
    <span class="md-ellipsis">
      ImageTracker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImageTracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.ImageTracker.track" class="md-nav__link">
    <span class="md-ellipsis">
      track
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.ImageTracker.track_iteration" class="md-nav__link">
    <span class="md-ellipsis">
      track_iteration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.Linker" class="md-nav__link">
    <span class="md-ellipsis">
      Linker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.Linker.link" class="md-nav__link">
    <span class="md-ellipsis">
      link
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.binData" class="md-nav__link">
    <span class="md-ellipsis">
      binData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="binData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.binData.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calcCollevStats" class="md-nav__link">
    <span class="md-ellipsis">
      calcCollevStats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calcCollevStats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calcCollevStats.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.clipMeas" class="md-nav__link">
    <span class="md-ellipsis">
      clipMeas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clipMeas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.clipMeas.clip" class="md-nav__link">
    <span class="md-ellipsis">
      clip
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.detectCollev" class="md-nav__link">
    <span class="md-ellipsis">
      detectCollev
    </span>
  </a>
  
    <nav class="md-nav" aria-label="detectCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.detectCollev.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.filterCollev" class="md-nav__link">
    <span class="md-ellipsis">
      filterCollev
    </span>
  </a>
  
    <nav class="md-nav" aria-label="filterCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.filterCollev.filter" class="md-nav__link">
    <span class="md-ellipsis">
      filter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      interpolation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="interpolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.interpolation.interpolate" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calculate_statistics" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calculate_statistics_per_frame" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_statistics_per_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.estimate_eps" class="md-nav__link">
    <span class="md-ellipsis">
      estimate_eps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.remove_image_background" class="md-nav__link">
    <span class="md-ellipsis">
      remove_image_background
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_image" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.validation" class="md-nav__link">
    <span class="md-ellipsis">
      validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.bootstrap_arcos" class="md-nav__link">
    <span class="md-ellipsis">
      bootstrap_arcos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_arcos_stats" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_arcos_stats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_pvalue" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_pvalue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.resample_data" class="md-nav__link">
    <span class="md-ellipsis">
      resample_data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changelog
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#arcos4py" class="md-nav__link">
    <span class="md-ellipsis">
      arcos4py
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.ARCOS" class="md-nav__link">
    <span class="md-ellipsis">
      ARCOS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ARCOS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.bin_col" class="md-nav__link">
    <span class="md-ellipsis">
      bin_col
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.id_column" class="md-nav__link">
    <span class="md-ellipsis">
      id_column
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.posCols" class="md-nav__link">
    <span class="md-ellipsis">
      posCols
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.bin_measurements" class="md-nav__link">
    <span class="md-ellipsis">
      bin_measurements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.clip_meas" class="md-nav__link">
    <span class="md-ellipsis">
      clip_meas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.clip_measurements" class="md-nav__link">
    <span class="md-ellipsis">
      clip_measurements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.interpolate_measurements" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate_measurements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.trackCollev" class="md-nav__link">
    <span class="md-ellipsis">
      trackCollev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.ARCOS.track_collective_events" class="md-nav__link">
    <span class="md-ellipsis">
      track_collective_events
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.track_events_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_dataframe
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.track_events_image" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_image
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.plotting" class="md-nav__link">
    <span class="md-ellipsis">
      plotting
    </span>
  </a>
  
    <nav class="md-nav" aria-label="plotting">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.LineagePlot" class="md-nav__link">
    <span class="md-ellipsis">
      LineagePlot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LineagePlot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.LineagePlot.draw_tree" class="md-nav__link">
    <span class="md-ellipsis">
      draw_tree
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.LineagePlot.show" class="md-nav__link">
    <span class="md-ellipsis">
      show
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.NoodlePlot" class="md-nav__link">
    <span class="md-ellipsis">
      NoodlePlot
    </span>
  </a>
  
    <nav class="md-nav" aria-label="NoodlePlot">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.NoodlePlot.plot" class="md-nav__link">
    <span class="md-ellipsis">
      plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots" class="md-nav__link">
    <span class="md-ellipsis">
      dataPlots
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dataPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots.density_plot" class="md-nav__link">
    <span class="md-ellipsis">
      density_plot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots.histogram" class="md-nav__link">
    <span class="md-ellipsis">
      histogram
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.dataPlots.position_t_plot" class="md-nav__link">
    <span class="md-ellipsis">
      position_t_plot
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended" class="md-nav__link">
    <span class="md-ellipsis">
      plotOriginalDetrended
    </span>
  </a>
  
    <nav class="md-nav" aria-label="plotOriginalDetrended">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended.plot_detrended" class="md-nav__link">
    <span class="md-ellipsis">
      plot_detrended
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended.plot_original" class="md-nav__link">
    <span class="md-ellipsis">
      plot_original
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.plotOriginalDetrended.plot_original_and_detrended" class="md-nav__link">
    <span class="md-ellipsis">
      plot_original_and_detrended
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.statsPlots" class="md-nav__link">
    <span class="md-ellipsis">
      statsPlots
    </span>
  </a>
  
    <nav class="md-nav" aria-label="statsPlots">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.plotting.statsPlots.plot_events_duration" class="md-nav__link">
    <span class="md-ellipsis">
      plot_events_duration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.tools" class="md-nav__link">
    <span class="md-ellipsis">
      tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.DataFrameTracker" class="md-nav__link">
    <span class="md-ellipsis">
      DataFrameTracker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DataFrameTracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.DataFrameTracker.track" class="md-nav__link">
    <span class="md-ellipsis">
      track
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.DataFrameTracker.track_iteration" class="md-nav__link">
    <span class="md-ellipsis">
      track_iteration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.ImageTracker" class="md-nav__link">
    <span class="md-ellipsis">
      ImageTracker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ImageTracker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.ImageTracker.track" class="md-nav__link">
    <span class="md-ellipsis">
      track
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.ImageTracker.track_iteration" class="md-nav__link">
    <span class="md-ellipsis">
      track_iteration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.Linker" class="md-nav__link">
    <span class="md-ellipsis">
      Linker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Linker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.Linker.link" class="md-nav__link">
    <span class="md-ellipsis">
      link
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.binData" class="md-nav__link">
    <span class="md-ellipsis">
      binData
    </span>
  </a>
  
    <nav class="md-nav" aria-label="binData">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.binData.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calcCollevStats" class="md-nav__link">
    <span class="md-ellipsis">
      calcCollevStats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="calcCollevStats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calcCollevStats.calculate" class="md-nav__link">
    <span class="md-ellipsis">
      calculate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.clipMeas" class="md-nav__link">
    <span class="md-ellipsis">
      clipMeas
    </span>
  </a>
  
    <nav class="md-nav" aria-label="clipMeas">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.clipMeas.clip" class="md-nav__link">
    <span class="md-ellipsis">
      clip
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.detectCollev" class="md-nav__link">
    <span class="md-ellipsis">
      detectCollev
    </span>
  </a>
  
    <nav class="md-nav" aria-label="detectCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.detectCollev.run" class="md-nav__link">
    <span class="md-ellipsis">
      run
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.filterCollev" class="md-nav__link">
    <span class="md-ellipsis">
      filterCollev
    </span>
  </a>
  
    <nav class="md-nav" aria-label="filterCollev">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.filterCollev.filter" class="md-nav__link">
    <span class="md-ellipsis">
      filter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.interpolation" class="md-nav__link">
    <span class="md-ellipsis">
      interpolation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="interpolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.interpolation.interpolate" class="md-nav__link">
    <span class="md-ellipsis">
      interpolate
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calculate_statistics" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.calculate_statistics_per_frame" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_statistics_per_frame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.estimate_eps" class="md-nav__link">
    <span class="md-ellipsis">
      estimate_eps
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.remove_image_background" class="md-nav__link">
    <span class="md-ellipsis">
      remove_image_background
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_dataframe" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_dataframe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.tools.track_events_image" class="md-nav__link">
    <span class="md-ellipsis">
      track_events_image
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arcos4py.validation" class="md-nav__link">
    <span class="md-ellipsis">
      validation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="validation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.bootstrap_arcos" class="md-nav__link">
    <span class="md-ellipsis">
      bootstrap_arcos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_arcos_stats" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_arcos_stats
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.calculate_pvalue" class="md-nav__link">
    <span class="md-ellipsis">
      calculate_pvalue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arcos4py.validation.resample_data" class="md-nav__link">
    <span class="md-ellipsis">
      resample_data
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>Modules</h1>

<div class="doc doc-object doc-module">



<a id="arcos4py"></a>
    <div class="doc doc-contents first">

      <p>Arcos4py top level module.</p>
<p>This package is a python package for the detection
and tracking of collective events intime-series data and raster images.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="arcos4py.ARCOS" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ARCOS</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="s1">&#39;meas&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.ARCOS" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">


      <p>Detects and tracks collective events in a tracked time-series dataset.</p>
<p>Requires binarized measurement column, that can be generated with the
bin_measurements method.
Tracking makes use of the dbscan algorithm, which is applied to every frame
and subsequently connects collective events between frames located
within eps distance of each other.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.data">data</span></code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Data of tracked time-series in "long format". Can be used to
acess modified dataframe at any point.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.position_columns">position_columns</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List containing position column names strings inside data e.g.
At least one dimension is required.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.frame_column">frame_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the frame column in input_data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.obj_id_column">obj_id_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the track id/id column in input_data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.measurement_column">measurement_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the measurement column in input_data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.clid_column">clid_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the column name containing the collective event ids.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.ARCOS.binarized_measurement_column">binarized_measurement_column</span></code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the binary column.
This is generated based on the name of the measurement_column after binarization.
Optionally can be set in order to provide a already binarized column to skip ARCOS binarization.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input Data of tracked time-series in "long format" containing position columns,
a measurement and an object ID column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List ontaining position column names strings inside data e.g.
At least one dimension is required.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the frame column in input_data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;time&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the track id/object id column in input_data. If None, the data is assumed to
not have a tracking column. Binarization can only be performed without detrending.</p>
              </div>
            </td>
            <td>
                  <code>&#39;id&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>measurement_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the measurement column in input_data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;meas&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the column name containing the collective event ids.</p>
              </div>
            </td>
            <td>
                  <code>&#39;clTrackID&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of workers to spawn, -1 uses all available cpus.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes old parameter names for backwards compatibility.
- posCols: List containing position column names strings inside data e.g.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;meas&#39;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with provided arguments.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): Input Data of tracked time-series in &quot;long format&quot; containing position columns,</span>
<span class="sd">            a measurement and an object ID column.</span>
<span class="sd">        position_columns (list): List ontaining position column names strings inside data e.g.</span>
<span class="sd">            At least one dimension is required.</span>
<span class="sd">        frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">        obj_id_column (str): Indicating the track id/object id column in input_data. If None, the data is assumed to</span>
<span class="sd">            not have a tracking column. Binarization can only be performed without detrending.</span>
<span class="sd">        measurement_column (str): Indicating the measurement column in input_data.</span>
<span class="sd">        clid_column (str): Indicating the column name containing the collective event ids.</span>
<span class="sd">        n_jobs (str): Number of workers to spawn, -1 uses all available cpus.</span>
<span class="sd">        kwargs (Any): Additional keyword arguments. Includes old parameter names for backwards compatibility.</span>
<span class="sd">            - posCols: List containing position column names strings inside data e.g.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;posCols&quot;</span><span class="p">,</span> <span class="s2">&quot;id_column&quot;</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;__init__() got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="c1"># Handle deprecated parameters</span>
    <span class="n">param_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;posCols&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id_column&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">param_mapping</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign updated kwargs to class attributes</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_columns&quot;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">position_columns</span> <span class="o">=</span> <span class="n">position_columns</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="o">=</span> <span class="n">measurement_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">binarized_measurement_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="c1"># to check if no measurement was provided assign None</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_check_col</span><span class="p">()</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resc_col</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="si">}</span><span class="s2">.resc&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">binarized_measurement_column</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="si">}</span><span class="s2">.bin&quot;</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="arcos4py.ARCOS.bin_col" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bin_col</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#arcos4py.ARCOS.bin_col" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Return the name of the binarized measurement column.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="arcos4py.ARCOS.id_column" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#arcos4py.ARCOS.id_column" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Return the name of the id column.</p>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="arcos4py.ARCOS.posCols" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
      <small class="doc doc-label doc-label-writable"><code>writable</code></small>
  </span>

<a href="#arcos4py.ARCOS.posCols" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Return the position columns.</p>
    </div>

</div>



<div class="doc doc-object doc-function">


<h3 id="arcos4py.ARCOS.bin_measurements" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bin_measurements</span><span class="p">(</span><span class="n">smooth_k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bias_k</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bias_method</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.ARCOS.bin_measurements" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Smooth, de-trend, and binarise the input data.</p>
<p>First a short-term median filter with size smoothK
is applied to remove fast noise from the time series.
If the de-trending method is set to "none",
smoothing is applied on globally rescaled time series.
The subsequent de-trending can be performed with a long-term median filter
with the size biasK {biasMet = "runmed"}
or by fitting a polynomial of degree polyDeg {biasMet = "lm"}.</p>
<p>After de-trending,
if the global difference between min/max is greater than the threshold
the signal is rescaled to the (0,1) range.
The final signal is binarised using the binThr threshold</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>smooth_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the short-term median smoothing filter.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the long-term de-trending median filter</p>
              </div>
            </td>
            <td>
                  <code>51</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>peak_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for rescaling of the de-trended signal.</p>
              </div>
            </td>
            <td>
                  <code>0.2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarization_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for binary classification.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>polynomial_degree</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sets the degree of the polynomial for lm fitting.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>De-trending method, one of ['runmed', 'lm', 'none'].
If no id_column is provided, only 'none' is allowed.</p>
              </div>
            </td>
            <td>
                  <code>&#39;runmed&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes old parameter names for backwards compatibility.
- smoothK: Size of the short-term median smoothing filter.
- biasK: Size of the long-term de-trending median filter
- peakThr: Threshold for rescaling of the de-trended signal.
- binThr: Threshold for binary classification.
- polyDeg: Sets the degree of the polynomial for lm fitting.
- biasMet: De-trending method, one of ['runmed', 'lm', 'none'].</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame with detrended/smoothed and binarized measurement column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bin_measurements</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">smooth_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">bias_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peak_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binarization_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polynomial_degree</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">bias_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sa">r</span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">    First a short-term median filter with size smoothK</span>
<span class="sd">    is applied to remove fast noise from the time series.</span>
<span class="sd">    If the de-trending method is set to &quot;none&quot;,</span>
<span class="sd">    smoothing is applied on globally rescaled time series.</span>
<span class="sd">    The subsequent de-trending can be performed with a long-term median filter</span>
<span class="sd">    with the size biasK {biasMet = &quot;runmed&quot;}</span>
<span class="sd">    or by fitting a polynomial of degree polyDeg {biasMet = &quot;lm&quot;}.</span>

<span class="sd">    After de-trending,</span>
<span class="sd">    if the global difference between min/max is greater than the threshold</span>
<span class="sd">    the signal is rescaled to the (0,1) range.</span>
<span class="sd">    The final signal is binarised using the binThr threshold</span>

<span class="sd">    Arguments:</span>
<span class="sd">        smooth_k (int): Size of the short-term median smoothing filter.</span>
<span class="sd">        bias_k (int): Size of the long-term de-trending median filter</span>
<span class="sd">        peak_threshold (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">        binarization_threshold (float): Threshold for binary classification.</span>
<span class="sd">        polynomial_degree (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">        bias_method (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">            If no id_column is provided, only &#39;none&#39; is allowed.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes old parameter names for backwards compatibility.</span>
<span class="sd">            - smoothK: Size of the short-term median smoothing filter.</span>
<span class="sd">            - biasK: Size of the long-term de-trending median filter</span>
<span class="sd">            - peakThr: Threshold for rescaling of the de-trended signal.</span>
<span class="sd">            - binThr: Threshold for binary classification.</span>
<span class="sd">            - polyDeg: Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">            - biasMet: De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame with detrended/smoothed and binarized measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># allowed kwargs</span>
    <span class="n">param_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;smoothK&quot;</span><span class="p">:</span> <span class="s2">&quot;smooth_k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biasK&quot;</span><span class="p">:</span> <span class="s2">&quot;bias_k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peakThr&quot;</span><span class="p">:</span> <span class="s2">&quot;peak_threshold&quot;</span><span class="p">,</span>
        <span class="s2">&quot;binThr&quot;</span><span class="p">:</span> <span class="s2">&quot;binarization_threshold&quot;</span><span class="p">,</span>
        <span class="s2">&quot;polyDeg&quot;</span><span class="p">:</span> <span class="s2">&quot;polynomial_degree&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biasMet&quot;</span><span class="p">:</span> <span class="s2">&quot;bias_method&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="c1"># allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">param_mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bin_measurements() got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">param_mapping</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">smooth_k</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;smooth_k&quot;</span><span class="p">,</span> <span class="n">smooth_k</span><span class="p">)</span>
    <span class="n">bias_k</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bias_k&quot;</span><span class="p">,</span> <span class="n">bias_k</span><span class="p">)</span>
    <span class="n">peak_threshold</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;peak_threshold&quot;</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="p">)</span>
    <span class="n">binarization_threshold</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;binarization_threshold&quot;</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="p">)</span>
    <span class="n">polynomial_degree</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;polynomial_degree&quot;</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="p">)</span>
    <span class="n">bias_method</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bias_method&quot;</span><span class="p">,</span> <span class="n">bias_method</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">binData</span><span class="p">(</span>
        <span class="n">smooth_k</span><span class="p">,</span>
        <span class="n">bias_k</span><span class="p">,</span>
        <span class="n">peak_threshold</span><span class="p">,</span>
        <span class="n">binarization_threshold</span><span class="p">,</span>
        <span class="n">polynomial_degree</span><span class="p">,</span>
        <span class="n">bias_method</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
    <span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">measurement_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">,</span>
        <span class="n">group_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.ARCOS.clip_meas" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clip_meas</span><span class="p">(</span><span class="n">clip_low</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="o">=</span><span class="mf">0.999</span><span class="p">)</span></code>

<a href="#arcos4py.ARCOS.clip_meas" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>clip_low</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lower clipping boundary (quantile).</p>
              </div>
            </td>
            <td>
                  <code>0.001</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clip_high</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Upper clipping boundary (quantile).</p>
              </div>
            </td>
            <td>
                  <code>0.999</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe with in place clipped measurement column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clip_meas</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        clip_low (float): Lower clipping boundary (quantile).</span>

<span class="sd">        clip_high (float): Upper clipping boundary (quantile).</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe with in place clipped measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Issue a deprecation warning</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;The &#39;clip_meas&#39; method is deprecated and will be removed in a future version.</span><span class="se">\</span>
<span class="s2">        Please use &#39;clip_measurements&#39; instead.&quot;</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clip_measurements</span><span class="p">(</span><span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.ARCOS.clip_measurements" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clip_measurements</span><span class="p">(</span><span class="n">clip_low</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="o">=</span><span class="mf">0.999</span><span class="p">)</span></code>

<a href="#arcos4py.ARCOS.clip_measurements" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>clip_low</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lower clipping boundary (quantile).</p>
              </div>
            </td>
            <td>
                  <code>0.001</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clip_high</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Upper clipping boundary (quantile).</p>
              </div>
            </td>
            <td>
                  <code>0.999</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe with in place clipped measurement column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clip_measurements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip measurement column to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        clip_low (float): Lower clipping boundary (quantile).</span>

<span class="sd">        clip_high (float): Upper clipping boundary (quantile).</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe with in place clipped measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">meas_column</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>
    <span class="n">meas_clipped</span> <span class="o">=</span> <span class="n">clipMeas</span><span class="p">(</span><span class="n">meas_column</span><span class="p">)</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">]</span> <span class="o">=</span> <span class="n">meas_clipped</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.ARCOS.interpolate_measurements" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">interpolate_measurements</span><span class="p">()</span></code>

<a href="#arcos4py.ARCOS.interpolate_measurements" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Interpolates NaN's in place in measurement column.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe with interpolated measurement column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate_measurements</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolates NaN&#39;s in place in measurement column.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Dataframe with interpolated measurement column.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">meas_interp</span> <span class="o">=</span> <span class="n">interpolation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">meas_interp</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.ARCOS.trackCollev" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">trackCollev</span><span class="p">(</span><span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.ARCOS.trackCollev" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Detects and tracks collective events in a tracked time-series dataset.</p>
<p>Makes use of the dbscan algorithm,
applies this to every timeframe and subsequently connects
collective events between frames located within eps distance of each other.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum distance between two samples for one to be considered as in
the neighbourhood of the other.
This is not a maximum bound on the distances of points within a cluster.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frame to frame distance, value is used to connect
collective events across multiple frames.If "None", same value as eps is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The minimum size for a cluster to be identified as a collective event</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames the tracking
algorithm looks back to connect collective events</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clustering method, one of ['dbscan', 'hdbscan'].</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clustering_method is 'hdbscan'. If None, min_samples =  min_clustersize.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Linking method, one of ['nearest', 'transportation'].</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes old parameter names for backwards compatibility.
- epsPrev: Frame to frame distance, value is used to connect
    collective events across multiple frames.
- minClsz: The minimum size for a cluster to be identified as a collective event
- nPrev: Number of previous frames the tracking
    algorithm looks back to connect collective events
- clusteringMethod: Clustering method, one of ['dbscan', 'hdbscan'].
- minSamples: The number of samples (or total weight) in a neighbourhood for a
    point to be considered as a core point. This includes the point itself.
    Only used if clustering_method is 'hdbscan'. If None, min_samples =  min_clustersize.
- linkingMethod: Linking method, one of ['nearest', 'transportation'].</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame with detected collective events across time.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">trackCollev</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nearest&quot;</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Detects and tracks collective events in a tracked time-series dataset.</span>

<span class="sd">    Makes use of the dbscan algorithm,</span>
<span class="sd">    applies this to every timeframe and subsequently connects</span>
<span class="sd">    collective events between frames located within eps distance of each other.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">            the neighbourhood of the other.</span>
<span class="sd">            This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">        eps_prev (float | None): Frame to frame distance, value is used to connect</span>
<span class="sd">            collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">        min_clustersize (int): The minimum size for a cluster to be identified as a collective event</span>
<span class="sd">        n_prev (int): Number of previous frames the tracking</span>
<span class="sd">            algorithm looks back to connect collective events</span>
<span class="sd">        clustering_method (str): Clustering method, one of [&#39;dbscan&#39;, &#39;hdbscan&#39;].</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clustering_method is &#39;hdbscan&#39;. If None, min_samples =  min_clustersize.</span>
<span class="sd">        linking_method (str): Linking method, one of [&#39;nearest&#39;, &#39;transportation&#39;].</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes old parameter names for backwards compatibility.</span>
<span class="sd">            - epsPrev: Frame to frame distance, value is used to connect</span>
<span class="sd">                collective events across multiple frames.</span>
<span class="sd">            - minClsz: The minimum size for a cluster to be identified as a collective event</span>
<span class="sd">            - nPrev: Number of previous frames the tracking</span>
<span class="sd">                algorithm looks back to connect collective events</span>
<span class="sd">            - clusteringMethod: Clustering method, one of [&#39;dbscan&#39;, &#39;hdbscan&#39;].</span>
<span class="sd">            - minSamples: The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">                point to be considered as a core point. This includes the point itself.</span>
<span class="sd">                Only used if clustering_method is &#39;hdbscan&#39;. If None, min_samples =  min_clustersize.</span>
<span class="sd">            - linkingMethod: Linking method, one of [&#39;nearest&#39;, &#39;transportation&#39;].</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame with detected collective events across time.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;The &#39;trackCollev&#39; method is deprecated and will be removed in a future version.</span><span class="se">\</span>
<span class="s2">            Please use &#39;track_collective_events&#39; instead.&quot;</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
        <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_collective_events</span><span class="p">(</span>
        <span class="n">eps</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">,</span> <span class="n">linking_method</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.ARCOS.track_collective_events" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_collective_events</span><span class="p">(</span><span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.ARCOS.track_collective_events" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Detects and tracks collective events in a tracked time-series dataset.</p>
<p>Makes use of the dbscan algorithm,
applies this to every timeframe and subsequently connects
collective events between frames located within eps distance of each other.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum distance between two samples for one to be considered as in
the neighbourhood of the other.
This is not a maximum bound on the distances of points within a cluster.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frame to frame distance, value is used to connect
collective events across multiple frames.If "None", same value as eps is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The minimum size for a cluster to be identified as a collective event</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames the tracking
algorithm looks back to connect collective events</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Clustering method, one of ['dbscan', 'hdbscan'].</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clustering_method is 'hdbscan'. If None, min_samples =  min_clustersize.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Linking method, one of ['nearest', 'transportation'].</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes old parameter names for backwards compatibility.
- epsPrev: Frame to frame distance, value is used to connect
    collective events across multiple frames.
- minClsz: The minimum size for a cluster to be identified as a collective event
- nPrev: Number of previous frames the tracking
    algorithm looks back to connect collective events
- clusteringMethod: Clustering method, one of ['dbscan', 'hdbscan'].
- minSamples: The number of samples (or total weight) in a neighbourhood for a
    point to be considered as a core point. This includes the point itself.
    Only used if clustering_method is 'hdbscan'. If None, min_samples =  min_clustersize.
- linkingMethod: Linking method, one of ['nearest', 'transportation'].</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame with detected collective events across time.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/_arcos4py.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_collective_events</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nearest&quot;</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Detects and tracks collective events in a tracked time-series dataset.</span>

<span class="sd">    Makes use of the dbscan algorithm,</span>
<span class="sd">    applies this to every timeframe and subsequently connects</span>
<span class="sd">    collective events between frames located within eps distance of each other.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">            the neighbourhood of the other.</span>
<span class="sd">            This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">        eps_prev (float | None): Frame to frame distance, value is used to connect</span>
<span class="sd">            collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">        min_clustersize (int): The minimum size for a cluster to be identified as a collective event</span>
<span class="sd">        n_prev (int): Number of previous frames the tracking</span>
<span class="sd">            algorithm looks back to connect collective events</span>
<span class="sd">        clustering_method (str): Clustering method, one of [&#39;dbscan&#39;, &#39;hdbscan&#39;].</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clustering_method is &#39;hdbscan&#39;. If None, min_samples =  min_clustersize.</span>
<span class="sd">        linking_method (str): Linking method, one of [&#39;nearest&#39;, &#39;transportation&#39;].</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes old parameter names for backwards compatibility.</span>
<span class="sd">            - epsPrev: Frame to frame distance, value is used to connect</span>
<span class="sd">                collective events across multiple frames.</span>
<span class="sd">            - minClsz: The minimum size for a cluster to be identified as a collective event</span>
<span class="sd">            - nPrev: Number of previous frames the tracking</span>
<span class="sd">                algorithm looks back to connect collective events</span>
<span class="sd">            - clusteringMethod: Clustering method, one of [&#39;dbscan&#39;, &#39;hdbscan&#39;].</span>
<span class="sd">            - minSamples: The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">                point to be considered as a core point. This includes the point itself.</span>
<span class="sd">                Only used if clustering_method is &#39;hdbscan&#39;. If None, min_samples =  min_clustersize.</span>
<span class="sd">            - linkingMethod: Linking method, one of [&#39;nearest&#39;, &#39;transportation&#39;].</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame with detected collective events across time.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">param_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;epsPrev&quot;</span><span class="p">:</span> <span class="s2">&quot;eps_prev&quot;</span><span class="p">,</span>
        <span class="s2">&quot;minClsz&quot;</span><span class="p">:</span> <span class="s2">&quot;min_clustersize&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nPrev&quot;</span><span class="p">:</span> <span class="s2">&quot;n_prev&quot;</span><span class="p">,</span>
        <span class="s2">&quot;clusteringMethod&quot;</span><span class="p">:</span> <span class="s2">&quot;clustering_method&quot;</span><span class="p">,</span>
        <span class="s2">&quot;minSamples&quot;</span><span class="p">:</span> <span class="s2">&quot;min_samples&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linkingMethod&quot;</span><span class="p">:</span> <span class="s2">&quot;linking_method&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="c1"># allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">param_mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;track_collective_events() got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">param_mapping</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;eps_prev&quot;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_clustersize&quot;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;n_prev&quot;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>
    <span class="n">clustering_method</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clustering_method&quot;</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">)</span>
    <span class="n">min_samples</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_samples&quot;</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">)</span>
    <span class="n">linking_method</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;linking_method&quot;</span><span class="p">,</span> <span class="n">linking_method</span><span class="p">)</span>

    <span class="n">data_events</span> <span class="o">=</span> <span class="n">track_events_dataframe</span><span class="p">(</span>
        <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">position_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">position_columns</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">,</span>
        <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">binarized_measurement_column</span><span class="p">,</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">eps_prev</span><span class="o">=</span><span class="n">eps_prev</span><span class="p">,</span>
        <span class="n">min_clustersize</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span>
        <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
        <span class="n">linking_method</span><span class="o">=</span><span class="n">linking_method</span><span class="p">,</span>
        <span class="n">clustering_method</span><span class="o">=</span><span class="n">clustering_method</span><span class="p">,</span>
        <span class="n">min_samples</span><span class="o">=</span><span class="n">min_samples</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">data_events</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="arcos4py.track_events_dataframe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_events_dataframe</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">allow_merges</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_splits</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stability_threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">remove_small_clusters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_size_for_split</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg_m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">cost_threshold</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.track_events_dataframe" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Function to track collective events in a dataframe.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>X</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input dataframe containing the data to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The names of the columns representing coordinates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing frame ids.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>id_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column representing IDs. None if no such column.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarized_measurement_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column representing binarized measurements,
if None all measurements are used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the output column representing collective events, will be generated.</p>
              </div>
            </td>
            <td>
                  <code>&#39;collid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for clustering, default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for linking previous clusters, if None, eps is used. Default is None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size. Default is 3.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for linking, one of ['nearest', 'transportsolver']. Default is 'nearest'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_merges</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow merges. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_splits</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow splits. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stability_threshold</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of frames to consider for stability. Default is 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>remove_small_clusters</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to remove small clusters. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_size_for_split</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size for a split. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regularization parameter for transportation solver. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg_m</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regularization parameter for transportation solver. Default is 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cost_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cost threshold for transportation solver. Default is 0.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>predictor</code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to show progress bar. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters for backwards compatibility.
- epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.
- minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.
- minSamples: Deprecated parameter for min_samples. Use min_samples instead.
- clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.
- linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.
- nPrev: Deprecated parameter for n_prev. Use n_prev instead.
- nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.
- showProgress: Deprecated parameter for show_progress. Use show_progress instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Dataframe with tracked events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_events_dataframe</span><span class="p">(</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">binarized_measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">allow_merges</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_splits</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stability_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">remove_small_clusters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">min_size_for_split</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">cost_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to track collective events in a dataframe.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        X (pd.DataFrame): The input dataframe containing the data to track.</span>
<span class="sd">        position_columns (List[str]): The names of the columns representing coordinates.</span>
<span class="sd">        frame_column (str): The name of the column containing frame ids.</span>
<span class="sd">        id_column (str | None): The name of the column representing IDs. None if no such column.</span>
<span class="sd">        binarized_measurement_column (str | None): The name of the column representing binarized measurements,</span>
<span class="sd">            if None all measurements are used.</span>
<span class="sd">        clid_column (str): The name of the output column representing collective events, will be generated.</span>
<span class="sd">        eps (float): Maximum distance for clustering, default is 1.</span>
<span class="sd">        eps_prev (float | None): Maximum distance for linking previous clusters, if None, eps is used. Default is None.</span>
<span class="sd">        min_clustersize (int): Minimum cluster size. Default is 3.</span>
<span class="sd">        min_samples (int): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clustering_method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        linking_method (str): The method used for linking, one of [&#39;nearest&#39;, &#39;transportsolver&#39;]. Default is &#39;nearest&#39;.</span>
<span class="sd">        allow_merges (bool): Whether or not to allow merges. Default is False.</span>
<span class="sd">        allow_splits (bool): Whether or not to allow splits. Default is False.</span>
<span class="sd">        stability_threshold (int): Number of frames to consider for stability. Default is 10.</span>
<span class="sd">        remove_small_clusters (bool): Whether or not to remove small clusters. Default is False.</span>
<span class="sd">        min_size_for_split (int): Minimum size for a split. Default is 1.</span>
<span class="sd">        reg (float): Regularization parameter for transportation solver. Default is 1.</span>
<span class="sd">        reg_m (float): Regularization parameter for transportation solver. Default is 10.</span>
<span class="sd">        cost_threshold (float): Cost threshold for transportation solver. Default is 0.</span>
<span class="sd">        n_prev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters for backwards compatibility.</span>
<span class="sd">            - epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.</span>
<span class="sd">            - minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.</span>
<span class="sd">            - minSamples: Deprecated parameter for min_samples. Use min_samples instead.</span>
<span class="sd">            - clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.</span>
<span class="sd">            - linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.</span>
<span class="sd">            - nPrev: Deprecated parameter for n_prev. Use n_prev instead.</span>
<span class="sd">            - nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.</span>
<span class="sd">            - showProgress: Deprecated parameter for show_progress. Use show_progress instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Dataframe with tracked events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;coordinates_column&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bin_meas_column&quot;</span><span class="p">:</span> <span class="s2">&quot;binarized_measurement_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;collid_column&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
        <span class="s1">&#39;epsPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minClSz&#39;</span><span class="p">:</span> <span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minSamples&#39;</span><span class="p">:</span> <span class="s1">&#39;min_samples&#39;</span><span class="p">,</span>
        <span class="s1">&#39;clusteringMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;linkingMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;linking_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;n_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nJobs&#39;</span><span class="p">:</span> <span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span>
        <span class="s1">&#39;showProgress&#39;</span><span class="p">:</span> <span class="s1">&#39;show_progress&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check for allowed kwargs</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid keyword argument </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Handle deprecated parameters</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign parameters</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">min_samples</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">)</span>
    <span class="n">clustering_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">)</span>
    <span class="n">linking_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linking_method&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_prev&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>
    <span class="n">n_jobs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>

    <span class="n">linker</span> <span class="o">=</span> <span class="n">Linker</span><span class="p">(</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">eps_prev</span><span class="o">=</span><span class="n">eps_prev</span><span class="p">,</span>
        <span class="n">min_clustersize</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span>
        <span class="n">min_samples</span><span class="o">=</span><span class="n">min_samples</span><span class="p">,</span>
        <span class="n">clustering_method</span><span class="o">=</span><span class="n">clustering_method</span><span class="p">,</span>
        <span class="n">linking_method</span><span class="o">=</span><span class="n">linking_method</span><span class="p">,</span>
        <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
        <span class="n">predictor</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="n">n_jobs</span><span class="p">,</span>
        <span class="n">allow_merges</span><span class="o">=</span><span class="n">allow_merges</span><span class="p">,</span>
        <span class="n">allow_splits</span><span class="o">=</span><span class="n">allow_splits</span><span class="p">,</span>
        <span class="n">stability_threshold</span><span class="o">=</span><span class="n">stability_threshold</span><span class="p">,</span>
        <span class="n">remove_small_clusters</span><span class="o">=</span><span class="n">remove_small_clusters</span><span class="p">,</span>
        <span class="n">min_size_for_split</span><span class="o">=</span><span class="n">min_size_for_split</span><span class="p">,</span>
        <span class="n">reg</span><span class="o">=</span><span class="n">reg</span><span class="p">,</span>
        <span class="n">reg_m</span><span class="o">=</span><span class="n">reg_m</span><span class="p">,</span>
        <span class="n">cost_threshold</span><span class="o">=</span><span class="n">cost_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tracker</span> <span class="o">=</span> <span class="n">DataFrameTracker</span><span class="p">(</span>
        <span class="n">linker</span><span class="o">=</span><span class="n">linker</span><span class="p">,</span>
        <span class="n">position_columns</span><span class="o">=</span><span class="n">position_columns</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
        <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="n">binarized_measurement_column</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="o">=</span><span class="n">clid_column</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">df_out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
        <span class="p">[</span><span class="n">timepoint</span> <span class="k">for</span> <span class="n">timepoint</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">tracker</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">total</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">allow_merges</span><span class="p">,</span> <span class="n">allow_splits</span><span class="p">]):</span>
        <span class="k">return</span> <span class="n">df_out</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">clid_column</span><span class="si">}</span><span class="s2"> != -1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">linker</span><span class="o">.</span><span class="n">lineage_tracker</span>
    <span class="k">return</span> <span class="n">df_out</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">clid_column</span><span class="si">}</span><span class="s2"> != -1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="arcos4py.track_events_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_events_image</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">allow_merges</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_splits</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stability_threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">remove_small_clusters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_size_for_split</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg_m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">cost_threshold</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.track_events_image" class="headerlink" title="Permanent link">&para;</a></h2>


    <div class="doc doc-contents ">

      <p>Function to track events in an image using specified linking and clustering methods.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>X</code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input array containing the images to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance for clustering. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for linking previous clusters, if None, eps is used. Default is None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>predictor</code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for linking. Default is 'nearest'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_merges</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow merges. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_splits</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow splits. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stability_threshold</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of frames required for a stable merge or split. Default is 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>remove_small_clusters</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to remove small clusters. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_size_for_split</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size for a split. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Entropy regularization parameter for unbalanced OT algorithm (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg_m</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Marginal relaxation parameter for unbalanced OT (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cost_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for filtering low-probability matches (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dims</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String of dimensions in order, such as. Default is "TXY". Possible values are "T", "X", "Y", "Z".</p>
              </div>
            </td>
            <td>
                  <code>&#39;TXY&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>downsample</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Factor by which to downsample the image. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to show progress bar. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters for backwards compatibility.
- epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.
- minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.
- minSamples: Deprecated parameter for min_samples. Use min_samples instead.
- clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.
- linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.
- nPrev: Deprecated parameter for n_prev. Use n_prev instead.
- nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.
- showProgress: Deprecated parameter for show_progress. Use show_progress instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span> | tuple[<span title="numpy.ndarray">ndarray</span>, <span title="arcos4py.tools._detect_events.LineageTracker">LineageTracker</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: Array of images with tracked events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_events_image</span><span class="p">(</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">allow_merges</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_splits</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stability_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">remove_small_clusters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">min_size_for_split</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">cost_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">,</span>
    <span class="n">downsample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">LineageTracker</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to track events in an image using specified linking and clustering methods.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        X (np.ndarray): The input array containing the images to track.</span>
<span class="sd">        eps (float): Distance for clustering. Default is 1.</span>
<span class="sd">        eps_prev (float | None): Maximum distance for linking previous clusters, if None, eps is used. Default is None.</span>
<span class="sd">        min_clustersize (int): Minimum cluster size. Default is 1.</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clustering_method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        n_prev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        linking_method (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">        allow_merges (bool): Whether or not to allow merges. Default is False.</span>
<span class="sd">        allow_splits (bool): Whether or not to allow splits. Default is False.</span>
<span class="sd">        stability_threshold (int): The number of frames required for a stable merge or split. Default is 10.</span>
<span class="sd">        remove_small_clusters (bool): Whether or not to remove small clusters. Default is False.</span>
<span class="sd">        min_size_for_split (int): Minimum size for a split. Default is 1.</span>
<span class="sd">        reg (float): Entropy regularization parameter for unbalanced OT algorithm (only for transportation linking).</span>
<span class="sd">        reg_m (float): Marginal relaxation parameter for unbalanced OT (only for transportation linking).</span>
<span class="sd">        cost_threshold (float): Threshold for filtering low-probability matches (only for transportation linking).</span>
<span class="sd">        dims (str): String of dimensions in order, such as. Default is &quot;TXY&quot;. Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">        downsample (int): Factor by which to downsample the image. Default is 1.</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters for backwards compatibility.</span>
<span class="sd">            - epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.</span>
<span class="sd">            - minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.</span>
<span class="sd">            - minSamples: Deprecated parameter for min_samples. Use min_samples instead.</span>
<span class="sd">            - clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.</span>
<span class="sd">            - linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.</span>
<span class="sd">            - nPrev: Deprecated parameter for n_prev. Use n_prev instead.</span>
<span class="sd">            - nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.</span>
<span class="sd">            - showProgress: Deprecated parameter for show_progress. Use show_progress instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Array of images with tracked events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;epsPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minClSz&#39;</span><span class="p">:</span> <span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minSamples&#39;</span><span class="p">:</span> <span class="s1">&#39;min_samples&#39;</span><span class="p">,</span>
        <span class="s1">&#39;clusteringMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;linkingMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;linking_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;n_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nJobs&#39;</span><span class="p">:</span> <span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span>
        <span class="s1">&#39;showProgress&#39;</span><span class="p">:</span> <span class="s1">&#39;show_progress&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check for allowed kwargs</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid keyword argument </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Handle deprecated parameters</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign parameters</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">min_samples</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">)</span>
    <span class="n">clustering_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">)</span>
    <span class="n">linking_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linking_method&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_prev&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>
    <span class="n">n_jobs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>

    <span class="c1"># Determine the dimensionality</span>
    <span class="n">spatial_dims</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;XYZ&quot;</span><span class="p">)</span>
    <span class="n">D</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dims</span> <span class="k">if</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">spatial_dims</span><span class="p">])</span>

    <span class="c1"># Adjust parameters based on dimensionality</span>
    <span class="n">adjusted_epsPrev</span> <span class="o">=</span> <span class="n">eps_prev</span> <span class="o">/</span> <span class="n">downsample</span> <span class="k">if</span> <span class="n">eps_prev</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">adjusted_minClSz</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_clustersize</span> <span class="o">/</span> <span class="p">(</span><span class="n">downsample</span><span class="o">**</span><span class="n">D</span><span class="p">))</span>
    <span class="n">adjusted_minSamples</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_samples</span> <span class="o">/</span> <span class="p">(</span><span class="n">downsample</span><span class="o">**</span><span class="n">D</span><span class="p">))</span> <span class="k">if</span> <span class="n">min_samples</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="n">linker</span> <span class="o">=</span> <span class="n">Linker</span><span class="p">(</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span> <span class="o">/</span> <span class="n">downsample</span><span class="p">,</span>
        <span class="n">eps_prev</span><span class="o">=</span><span class="n">adjusted_epsPrev</span><span class="p">,</span>
        <span class="n">min_clustersize</span><span class="o">=</span><span class="n">adjusted_minClSz</span><span class="p">,</span>
        <span class="n">min_samples</span><span class="o">=</span><span class="n">adjusted_minSamples</span><span class="p">,</span>
        <span class="n">clustering_method</span><span class="o">=</span><span class="n">clustering_method</span><span class="p">,</span>
        <span class="n">linking_method</span><span class="o">=</span><span class="n">linking_method</span><span class="p">,</span>
        <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
        <span class="n">predictor</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
        <span class="n">reg</span><span class="o">=</span><span class="n">reg</span><span class="p">,</span>
        <span class="n">reg_m</span><span class="o">=</span><span class="n">reg_m</span><span class="p">,</span>
        <span class="n">cost_threshold</span><span class="o">=</span><span class="n">cost_threshold</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="n">n_jobs</span><span class="p">,</span>
        <span class="n">allow_merges</span><span class="o">=</span><span class="n">allow_merges</span><span class="p">,</span>
        <span class="n">allow_splits</span><span class="o">=</span><span class="n">allow_splits</span><span class="p">,</span>
        <span class="n">stability_threshold</span><span class="o">=</span><span class="n">stability_threshold</span><span class="p">,</span>
        <span class="n">remove_small_clusters</span><span class="o">=</span><span class="n">remove_small_clusters</span><span class="p">,</span>
        <span class="n">min_size_for_split</span><span class="o">=</span><span class="n">min_size_for_split</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tracker</span> <span class="o">=</span> <span class="n">ImageTracker</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">)</span>
    <span class="c1"># find indices of T in dims</span>
    <span class="n">T_index</span> <span class="o">=</span> <span class="n">dims</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="n">T_index</span><span class="p">]),</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">):</span>
        <span class="n">out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">track_iteration</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">allow_merges</span><span class="p">,</span> <span class="n">allow_splits</span><span class="p">]):</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">,</span> <span class="n">linker</span><span class="o">.</span><span class="n">lineage_tracker</span>

    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>


<div class="doc doc-object doc-module">



<h2 id="arcos4py.plotting" class="doc doc-heading">
            <code>plotting</code>


<a href="#arcos4py.plotting" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Tools for plotting collective events.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.LineagePlot" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">LineagePlot</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">edge_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">edge_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">color_seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Cluster Lineage Tree&#39;</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Frame&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Lineage&#39;</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">curve_factor</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">orphan_color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;lineage_id&#39;</span><span class="p">,</span> <span class="n">show_node_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">main_lineage_id</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.LineagePlot" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Class to draw a lineage tree of clusters over time.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.figsize">figsize</span></code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the figure.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.node_size">node_size</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.edge_width">edge_width</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Width of the edges.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.edge_alpha">edge_alpha</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Alpha value of the edges.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.color_seed">color_seed</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Seed for the color generation.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.title">title</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Title of the plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.xlabel">xlabel</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label of the x-axis.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.ylabel">ylabel</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Label of the y-axis.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.font_size">font_size</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Font size of the labels.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.curve_factor">curve_factor</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Factor to curve the edges.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.orphan_color">orphan_color</span></code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Color of the orphan nodes.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.color_by">color_by</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Attribute to color the plot by ('lineage_id' or 'cluster_id').</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.show_node_labels">show_node_labels</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, display node labels on the plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.LineagePlot.main_lineage_id">main_lineage_id</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The lineage ID of the main lineage to be plotted on the same row.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span>
<span class="normal">661</span>
<span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span>
<span class="normal">672</span>
<span class="normal">673</span>
<span class="normal">674</span>
<span class="normal">675</span>
<span class="normal">676</span>
<span class="normal">677</span>
<span class="normal">678</span>
<span class="normal">679</span>
<span class="normal">680</span>
<span class="normal">681</span>
<span class="normal">682</span>
<span class="normal">683</span>
<span class="normal">684</span>
<span class="normal">685</span>
<span class="normal">686</span>
<span class="normal">687</span>
<span class="normal">688</span>
<span class="normal">689</span>
<span class="normal">690</span>
<span class="normal">691</span>
<span class="normal">692</span>
<span class="normal">693</span>
<span class="normal">694</span>
<span class="normal">695</span>
<span class="normal">696</span>
<span class="normal">697</span>
<span class="normal">698</span>
<span class="normal">699</span>
<span class="normal">700</span>
<span class="normal">701</span>
<span class="normal">702</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>
    <span class="n">node_size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="n">edge_width</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">edge_alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
    <span class="n">color_seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Cluster Lineage Tree&quot;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s2">&quot;Frame&quot;</span><span class="p">,</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s2">&quot;Lineage&quot;</span><span class="p">,</span>
    <span class="n">font_size</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span>
    <span class="n">curve_factor</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span>
    <span class="n">orphan_color</span><span class="o">=</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
    <span class="n">color_by</span><span class="o">=</span><span class="s1">&#39;lineage_id&#39;</span><span class="p">,</span>  <span class="c1"># &#39;lineage_id&#39; or &#39;cluster_id&#39;</span>
    <span class="n">show_node_labels</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Whether to display node labels</span>
    <span class="n">main_lineage_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># The main lineage to keep on the same row</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with given parameters.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_size</span> <span class="o">=</span> <span class="n">node_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">edge_width</span> <span class="o">=</span> <span class="n">edge_width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">edge_alpha</span> <span class="o">=</span> <span class="n">edge_alpha</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span> <span class="o">=</span> <span class="n">xlabel</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span> <span class="o">=</span> <span class="n">ylabel</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">font_size</span> <span class="o">=</span> <span class="n">font_size</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">curve_factor</span> <span class="o">=</span> <span class="n">curve_factor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">orphan_color</span> <span class="o">=</span> <span class="n">orphan_color</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">color_seed</span> <span class="o">=</span> <span class="n">color_seed</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">color_by</span> <span class="o">=</span> <span class="n">color_by</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">show_node_labels</span> <span class="o">=</span> <span class="n">show_node_labels</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">main_lineage_id</span> <span class="o">=</span> <span class="n">main_lineage_id</span>  <span class="c1"># Store the main lineage ID</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">colors</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_positions</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineage_edges</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_color</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">child_to_parent</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">Set</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">parent_to_child</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="n">Set</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineage_order</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">all_nodes</span><span class="p">:</span> <span class="n">Set</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_to_nodes</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_to_lineage_id</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_to_cluster_id</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">node_to_plot_lineage_id</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plot_lineage_id_to_lineage_id</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># New mapping</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.LineagePlot.draw_tree" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">draw_tree</span><span class="p">(</span><span class="n">tracker</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.LineagePlot.draw_tree" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Draw the lineage tree based on the processed data.</p>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">draw_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tracker</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Draw the lineage tree based on the processed data.&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_process_data</span><span class="p">(</span><span class="n">tracker</span><span class="p">)</span>

    <span class="c1"># Draw edges with assigned coloring</span>
    <span class="k">for</span> <span class="n">source</span><span class="p">,</span> <span class="n">target</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineage_edges</span><span class="p">:</span>
        <span class="n">source_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_positions</span><span class="p">[</span><span class="n">source</span><span class="p">]</span>
        <span class="n">target_pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_positions</span><span class="p">[</span><span class="n">target</span><span class="p">]</span>
        <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_color</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">orphan_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_draw_curved_edge</span><span class="p">(</span><span class="n">source_pos</span><span class="p">,</span> <span class="n">target_pos</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>

    <span class="c1"># Draw nodes</span>
    <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">minframe_nodes</span><span class="p">:</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_positions</span><span class="p">[</span><span class="n">node</span><span class="p">]</span>
        <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_color</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">orphan_color</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">node_size</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="p">[</span><span class="n">color</span><span class="p">],</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_node_labels</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># Use cluster_id as label</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">label</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size</span> <span class="o">-</span> <span class="mi">4</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">)</span>

    <span class="c1"># Set labels and title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xlabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ylabel</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Set y-ticks to plotting lineage IDs with true lineage IDs as labels</span>
    <span class="n">lineage_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">lineage_order</span>
    <span class="n">plot_lineage_id_to_y</span> <span class="o">=</span> <span class="p">{</span><span class="n">lineage_id</span><span class="p">:</span> <span class="n">idx</span> <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">lineage_id</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lineage_ids</span><span class="p">)}</span>
    <span class="n">max_idx</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lineage_ids</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">lineage_ids</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">1</span>
    <span class="n">y_ticks</span> <span class="o">=</span> <span class="p">[</span><span class="n">plot_lineage_id_to_y</span><span class="p">[</span><span class="n">lineage_id</span><span class="p">]</span> <span class="o">/</span> <span class="n">max_idx</span> <span class="k">if</span> <span class="n">max_idx</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mf">0.5</span> <span class="k">for</span> <span class="n">lineage_id</span> <span class="ow">in</span> <span class="n">lineage_ids</span><span class="p">]</span>
    <span class="c1"># Get corresponding true lineage IDs for labels</span>
    <span class="n">y_tick_labels</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">plot_lineage_id_to_lineage_id</span><span class="p">[</span><span class="n">lineage_id</span><span class="p">]</span> <span class="k">for</span> <span class="n">lineage_id</span> <span class="ow">in</span> <span class="n">lineage_ids</span><span class="p">]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y_ticks</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">y_tick_labels</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">font_size</span> <span class="o">-</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.LineagePlot.show" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show</span><span class="p">()</span></code>

<a href="#arcos4py.plotting.LineagePlot.show" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Display the plot.</p>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display the plot.&quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.NoodlePlot" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">NoodlePlot</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;obj_id&#39;</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">posx</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">posy</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">posz</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.NoodlePlot" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Create Noodle Plot of cell tracks, colored by collective event id.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.df">df</span></code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing collective events from arcos.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.colev">colev</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the collective event column in df.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.trackid">trackid</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the track column in df.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.frame">frame</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the frame column in df.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.posx">posx</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the X coordinate column in df.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.posy">posy</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the Y coordinate column in df.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.NoodlePlot.posz">posz</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the Z coordinate column in df,
or None if no z column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing collective events from arcos.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the collective event column in df.</p>
              </div>
            </td>
            <td>
                  <code>&#39;collid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the track column in df.</p>
              </div>
            </td>
            <td>
                  <code>&#39;obj_id&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the frame column in df.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>posx</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the X coordinate column in df.</p>
              </div>
            </td>
            <td>
                  <code>&#39;x&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>posy</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the Y coordinate column in df.</p>
              </div>
            </td>
            <td>
                  <code>&#39;y&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>posz</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the Z coordinate column in df,
or None if no z column.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments for plot. Includes deprecated parameters.
- colev (str): Deprecated. Use clid_column instead.
- trackid (str): Deprecated. Use obj_id_column instead.
- frame (str): Deprecated. Use frame_column instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;obj_id&quot;</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;frame&quot;</span><span class="p">,</span>
    <span class="n">posx</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;x&quot;</span><span class="p">,</span>
    <span class="n">posy</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span>
    <span class="n">posz</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with given parameters.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        df (pd.DataFrame): DataFrame containing collective events from arcos.</span>
<span class="sd">        clid_column (str): Name of the collective event column in df.</span>
<span class="sd">        obj_id_column (str): Name of the track column in df.</span>
<span class="sd">        frame_column (str): Name of the frame column in df.</span>
<span class="sd">        posx (str): Name of the X coordinate column in df.</span>
<span class="sd">        posy (str): Name of the Y coordinate column in df.</span>
<span class="sd">        posz (str | None): Name of the Z coordinate column in df,</span>
<span class="sd">            or None if no z column.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments for plot. Includes deprecated parameters.</span>
<span class="sd">            - colev (str): Deprecated. Use clid_column instead.</span>
<span class="sd">            - trackid (str): Deprecated. Use obj_id_column instead.</span>
<span class="sd">            - frame (str): Deprecated. Use frame_column instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;colev&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;trackid&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;frame&quot;</span><span class="p">:</span> <span class="s2">&quot;frame_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># allowed matplotlib kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s2">&quot;alpha&quot;</span><span class="p">,</span>
        <span class="s2">&quot;animated&quot;</span><span class="p">,</span>
        <span class="s2">&quot;c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;label&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linewidth&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linestyle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;marker&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markersize&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markeredgecolor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markerfacecolor&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markerfacecoloralt&quot;</span><span class="p">,</span>
        <span class="s2">&quot;markeredgewidth&quot;</span><span class="p">,</span>
        <span class="s2">&quot;path_effects&quot;</span><span class="p">,</span>
        <span class="s2">&quot;picker&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pickradius&quot;</span><span class="p">,</span>
        <span class="s2">&quot;solid_capstyle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;solid_joinstyle&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transform&quot;</span><span class="p">,</span>
        <span class="s2">&quot;visible&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zorder&quot;</span><span class="p">,</span>
    <span class="p">]</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs_2</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs_2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">clid_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;clid_column&quot;</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">frame_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;frame_column&quot;</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posx</span> <span class="o">=</span> <span class="n">posx</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posy</span> <span class="o">=</span> <span class="n">posy</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posz</span> <span class="o">=</span> <span class="n">posz</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">plot_kwargs</span> <span class="o">=</span> <span class="n">updated_kwargs</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.NoodlePlot.plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot</span><span class="p">(</span><span class="n">projection_axis</span><span class="p">,</span> <span class="n">color_cylce</span><span class="o">=</span><span class="n">TAB20</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.NoodlePlot.plot" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Create Noodle Plot of cell tracks, colored by collective event id.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>projection_axis</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Specify with witch coordinate the noodle
plot should be drawn. Has to be one of the posx, posy or posz arguments
passed in during the class instantiation process.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>color_cylce</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of hex color values or string names
(i.e. ['red', 'yellow']) used to color collecitve events. Cycles through list.</p>
              </div>
            </td>
            <td>
                  <code><span title="arcos4py.plotting._plotting.TAB20">TAB20</span></code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>fig</code></td>            <td>
                  <code><span title="matplotlib.figure.Figure">Figure</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib figure object for the noodle plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib axes for the nooble plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">projection_axis</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">color_cylce</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="n">TAB20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create Noodle Plot of cell tracks, colored by collective event id.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        projection_axis (str): Specify with witch coordinate the noodle</span>
<span class="sd">            plot should be drawn. Has to be one of the posx, posy or posz arguments</span>
<span class="sd">            passed in during the class instantiation process.</span>
<span class="sd">        color_cylce (list[str]): List of hex color values or string names</span>
<span class="sd">            (i.e. [&#39;red&#39;, &#39;yellow&#39;]) used to color collecitve events. Cycles through list.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object for the noodle plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes for the nooble plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">projection_axis</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;projection_axis has to be one of </span><span class="si">{</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="k">elif</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">4</span>
    <span class="k">elif</span> <span class="n">projection_axis</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projection_index</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="n">grpd_data</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">colors</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">grpd_data</span><span class="p">,</span> <span class="n">colors</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_data_noodleplot</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">,</span>
            <span class="n">color_cylce</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">posx</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">posy</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">posz</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_create_noodle_plot</span><span class="p">(</span><span class="n">grpd_data</span><span class="p">,</span> <span class="n">colors</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.dataPlots" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">dataPlots</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;obj_id&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.dataPlots" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Plot different metrics of input data.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.dataPlots.data">data</span></code></td>
            <td>
                  <code>Dataframe</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing ARCOS data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.dataPlots.frame_column">frame_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of frame column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.dataPlots.measurement_column">measurement_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of measurement column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.dataPlots.obj_id_column">obj_id_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of track id column.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>Dataframe</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing ARCOS data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of frame column in data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>measurement_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of measurement column in data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;m&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of track id column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;obj_id&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- id (str): Deprecated. Use obj_id_column instead.
- frame (str): Deprecated. Use frame_column instead.
- measurement (str): Deprecated. Use measurement_column instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;obj_id&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot different metrics such as histogram, position-t and density.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (Dataframe): containing ARCOS data.</span>
<span class="sd">        frame_column (str): name of frame column in data.</span>
<span class="sd">        measurement_column (str): name of measurement column in data.</span>
<span class="sd">        obj_id_column (str): name of track id column.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - id (str): Deprecated. Use obj_id_column instead.</span>
<span class="sd">            - frame (str): Deprecated. Use frame_column instead.</span>
<span class="sd">            - measurement (str): Deprecated. Use measurement_column instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;frame&quot;</span><span class="p">:</span> <span class="s2">&quot;frame_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;measurement&quot;</span><span class="p">:</span> <span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">frame_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;frame_column&quot;</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>
    <span class="n">measurement_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">obj_id</span> <span class="o">=</span> <span class="n">obj_id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="o">=</span> <span class="n">measurement_column</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.dataPlots.density_plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">density_plot</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.dataPlots.density_plot" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Density plot of measurement.</p>
<p>Uses Seaborn distplot to plot measurement density.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>*args</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>arguments passed on to seaborn histplot function.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>keyword arguments passed on to seaborn histplot function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>FacetGrid</code></td>            <td>
                  <code><span title="seaborn.FacetGrid">FacetGrid</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Seaborn FacetGrid of density density plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">density_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Density plot of measurement.</span>

<span class="sd">    Uses Seaborn distplot to plot measurement density.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        *args (Any): arguments passed on to seaborn histplot function.</span>
<span class="sd">        **kwargs (Any): keyword arguments passed on to seaborn histplot function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        FacetGrid (seaborn.FacetGrid): Seaborn FacetGrid of density density plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">displot</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">],</span>
        <span class="n">kind</span><span class="o">=</span><span class="s2">&quot;kde&quot;</span><span class="p">,</span>
        <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;pastel&quot;</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">,</span>
        <span class="o">*</span><span class="n">args</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="c1"># Plot formatting</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">prop</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">})</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Density Plot of Measurement&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Measurement&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Density&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.dataPlots.histogram" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">histogram</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.dataPlots.histogram" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Histogram of tracklenght.</p>
<p>Uses seaborn histplot function to plot tracklenght histogram.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>bins</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number or width of bins in histogram</p>
              </div>
            </td>
            <td>
                  <code>&#39;auto&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>*args</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>arguments passed on to seaborn histplot function.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>keyword arguments passed on to seaborn histplot function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>AxesSubplot</code></td>            <td>
                  <code><span title="matplotlib.pyplot.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib AxesSubplot of histogram.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">histogram</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bins</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Histogram of tracklenght.</span>

<span class="sd">    Uses seaborn histplot function to plot tracklenght histogram.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        bins (str): number or width of bins in histogram</span>
<span class="sd">        *args (Any): arguments passed on to seaborn histplot function.</span>
<span class="sd">        **kwargs (Any): keyword arguments passed on to seaborn histplot function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        AxesSubplot: Matplotlib AxesSubplot of histogram.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Draw histogram</span>
    <span class="n">track_length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_id</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">track_length</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Track Length&quot;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="c1"># Plot formatting</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Track length Histogram&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Track Length&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Count&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.dataPlots.position_t_plot" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">position_t_plot</span><span class="p">(</span><span class="n">position_columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">},</span> <span class="n">n</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.dataPlots.position_t_plot" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Plots X and Y over T to visualize tracklength.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>set</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing names of position columns in data.</p>
              </div>
            </td>
            <td>
                  <code>{&#39;x&#39;}</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of samples to plot.</p>
              </div>
            </td>
            <td>
                  <code>20</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- posCol (set): Deprecated. Use position_columns instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>fig</code></td>            <td>
                  <code><span title="matplotlib.figure.Figure">Figure</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib figure object of density plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib axes of density plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">position_t_plot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">},</span> <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plots X and Y over T to visualize tracklength.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        position_columns (set): containing names of position columns in data.</span>
<span class="sd">        n (int): number of samples to plot.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - posCol (set): Deprecated. Use position_columns instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object of density plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes of density plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;posCol&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_columns&quot;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>

    <span class="n">sample</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_id</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="n">pd_from_r_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_id</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">sample</span><span class="p">)]</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">df</span> <span class="ow">in</span> <span class="n">pd_from_r_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_id</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">position_columns</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">position_columns</span><span class="p">):</span>
            <span class="n">axes</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.plotOriginalDetrended" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">plotOriginalDetrended</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">detrended_column</span><span class="o">=</span><span class="s1">&#39;m_detrended&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;obj_id&#39;</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.plotOriginalDetrended" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Plot original and detrended data.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.plotOriginalDetrended.data">data</span></code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing ARCOS data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.plotOriginalDetrended.frame_column">frame_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of frame column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.plotOriginalDetrended.measurement_column">measurement_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of measurement column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.plotOriginalDetrended.detrended_column">detrended_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of detrended column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.plotOriginalDetrended.obj_id_column">obj_id_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of track id column.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.plotOriginalDetrended.seed">seed</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>seed for random number generator.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.plotting.plotOriginalDetrended.plot_detrended" href="#arcos4py.plotting.plotOriginalDetrended.plot_detrended">plot_detrended</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>plot detrended data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.plotting.plotOriginalDetrended.plot_original" href="#arcos4py.plotting.plotOriginalDetrended.plot_original">plot_original</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>plot original data.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.plotting.plotOriginalDetrended.plot_original_and_detrended" href="#arcos4py.plotting.plotOriginalDetrended.plot_original_and_detrended">plot_original_and_detrended</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>plot original and detrended data.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;frame&quot;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span>
    <span class="n">detrended_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;m_detrended&quot;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;obj_id&quot;</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with given parameters.&quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;frame&quot;</span><span class="p">:</span> <span class="s2">&quot;frame_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;detrended&quot;</span><span class="p">:</span> <span class="s2">&quot;detrended_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;measurement&quot;</span><span class="p">:</span> <span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">frame_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;frame_column&quot;</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>
    <span class="n">measurement_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span> <span class="o">=</span> <span class="n">measurement_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">detrended_column</span> <span class="o">=</span> <span class="n">detrended_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="n">seed</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.plotOriginalDetrended.plot_detrended" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_detrended</span><span class="p">(</span><span class="n">n_samples</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">plotsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">add_binary_segments</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.plotOriginalDetrended.plot_detrended" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Plots detrended data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>n_samples</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of samples to plot.</p>
              </div>
            </td>
            <td>
                  <code>25</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>subplots</code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of subplots in x and y direction.</p>
              </div>
            </td>
            <td>
                  <code>(5, 5)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plotsize</code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>size of the plot.</p>
              </div>
            </td>
            <td>
                  <code>(20, 10)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>add_binary_segments</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, binary segments are added to the plot.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>fig</code></td>            <td>
                  <code><span title="matplotlib.figure.Figure">Figure</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib figure object of plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib axes of plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_detrended</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
    <span class="n">subplots</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">plotsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">add_binary_segments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plots detrended data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        n_samples (int): number of samples to plot.</span>
<span class="sd">        subplots (tuple): number of subplots in x and y direction.</span>
<span class="sd">        plotsize (tuple): size of the plot.</span>
<span class="sd">        add_binary_segments (bool): if True, binary segments are added to the plot.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object of plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes of plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_data</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot_data</span><span class="p">(</span>
        <span class="n">grouped</span><span class="p">,</span> <span class="n">subplots</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">subplots</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">plotsize</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">detrended_column</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;detrended&quot;</span><span class="p">],</span> <span class="n">add_binary_segments</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.plotOriginalDetrended.plot_original" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_original</span><span class="p">(</span><span class="n">n_samples</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">plotsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">add_binary_segments</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.plotOriginalDetrended.plot_original" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Plots original data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>n_samples</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of samples to plot.</p>
              </div>
            </td>
            <td>
                  <code>25</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>subplots</code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of subplots in x and y direction.</p>
              </div>
            </td>
            <td>
                  <code>(5, 5)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plotsize</code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>size of the plot.</p>
              </div>
            </td>
            <td>
                  <code>(20, 10)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>add_binary_segments</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, binary segments are added to the plot.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>fig</code></td>            <td>
                  <code><span title="matplotlib.figure.Figure">Figure</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib figure object of plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib axes of plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_original</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
    <span class="n">subplots</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">plotsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">add_binary_segments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plots original data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        n_samples (int): number of samples to plot.</span>
<span class="sd">        subplots (tuple): number of subplots in x and y direction.</span>
<span class="sd">        plotsize (tuple): size of the plot.</span>
<span class="sd">        add_binary_segments (bool): if True, binary segments are added to the plot.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object of plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes of plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_data</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot_data</span><span class="p">(</span>
        <span class="n">grouped</span><span class="p">,</span>
        <span class="n">subplots</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">subplots</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">plotsize</span><span class="p">,</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;original&quot;</span><span class="p">],</span>
        <span class="n">add_binary_segments</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.plotOriginalDetrended.plot_original_and_detrended" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_original_and_detrended</span><span class="p">(</span><span class="n">n_samples</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">subplots</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">plotsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">add_binary_segments</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.plotOriginalDetrended.plot_original_and_detrended" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Plots original and detrended data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>n_samples</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of samples to plot.</p>
              </div>
            </td>
            <td>
                  <code>25</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>subplots</code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of subplots in x and y direction.</p>
              </div>
            </td>
            <td>
                  <code>(5, 5)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plotsize</code></td>
            <td>
                  <code>tuple</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>size of the plot.</p>
              </div>
            </td>
            <td>
                  <code>(20, 10)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>add_binary_segments</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>if True, binary segments are added to the plot.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>fig</code></td>            <td>
                  <code><span title="matplotlib.figure.Figure">Figure</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib figure object of plot.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib axes of plot.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_original_and_detrended</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">n_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">25</span><span class="p">,</span>
    <span class="n">subplots</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">plotsize</span><span class="p">:</span> <span class="nb">tuple</span> <span class="o">=</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
    <span class="n">add_binary_segments</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">plt</span><span class="o">.</span><span class="n">Figure</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plots original and detrended data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        n_samples (int): number of samples to plot.</span>
<span class="sd">        subplots (tuple): number of subplots in x and y direction.</span>
<span class="sd">        plotsize (tuple): size of the plot.</span>
<span class="sd">        add_binary_segments (bool): if True, binary segments are added to the plot.</span>

<span class="sd">    Returns:</span>
<span class="sd">        fig (matplotlib.figure.Figure): Matplotlib figure object of plot.</span>
<span class="sd">        axes (matplotlib.axes.Axes): Matplotlib axes of plot.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_prepare_data</span><span class="p">(</span><span class="n">n_samples</span><span class="p">)</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_plot_data</span><span class="p">(</span>
        <span class="n">grouped</span><span class="p">,</span>
        <span class="n">subplots</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
        <span class="n">subplots</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">plotsize</span><span class="p">,</span>
        <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">measurement_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">detrended_column</span><span class="p">],</span>
        <span class="p">[</span><span class="s2">&quot;original&quot;</span><span class="p">,</span> <span class="s2">&quot;detrended&quot;</span><span class="p">],</span>
        <span class="n">add_binary_segments</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.plotting.statsPlots" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">statsPlots</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.statsPlots" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Plot data generated by the stats module.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.plotting.statsPlots.data">data</span></code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing ARCOS stats data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing ARCOS stats data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot detrended vs original data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): containing ARCOS stats data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.plotting.statsPlots.plot_events_duration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">plot_events_duration</span><span class="p">(</span><span class="n">total_size</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">point_size</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.plotting.statsPlots.plot_events_duration" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Scatterplot of collective event duration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>total_size</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>name of total size column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>duration</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>, name of column with collective event duration.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>point_size</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>scatterplot point size.</p>
              </div>
            </td>
            <td>
                  <code>40</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>*args</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Arguments passed on to seaborn scatterplot function.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments passed on to seaborn scatterplot function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Axes</code></td>            <td>
                  <code><span title="matplotlib.axes.Axes">Axes</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Matplotlib Axes object of scatterplot</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/plotting/_plotting.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">plot_events_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_size</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">duration</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">point_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">40</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">Axes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Scatterplot of collective event duration.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        total_size (str): name of total size column.</span>
<span class="sd">        duration (str):, name of column with collective event duration.</span>
<span class="sd">        point_size (int): scatterplot point size.</span>
<span class="sd">        *args (Any): Arguments passed on to seaborn scatterplot function.</span>
<span class="sd">        **kwargs (Any): Keyword arguments passed on to seaborn scatterplot function.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Axes (matplotlib.axes.Axes): Matplotlib Axes object of scatterplot</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dataframe is empty&quot;</span><span class="p">)</span>
    <span class="n">plot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">total_size</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="n">duration</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="n">point_size</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">plot</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="arcos4py.tools" class="doc doc-heading">
            <code>tools</code>


<a href="#arcos4py.tools" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Tools for detecting collective events.</p>



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.DataFrameTracker" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">DataFrameTracker</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.DataFrameTracker" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="arcos4py.tools._detect_events.BaseTracker">BaseTracker</span></code></p>


      <p>Tracker class for data frames that works in conjunction with the Linker class.</p>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.tools.DataFrameTracker.track_iteration" href="#arcos4py.tools.DataFrameTracker.track_iteration">track_iteration</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>pd.DataFrame):
Tracks events in a single frame.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.tools.DataFrameTracker.track" href="#arcos4py.tools.DataFrameTracker.track">track</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>pd.DataFrame) -&gt; Generator:
Main method for tracking events through the dataframe. Yields the tracked data frame for each iteration.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>linker</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="arcos4py.tools._detect_events.Linker" href="#arcos4py.tools.Linker">Linker</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Linker object used for linking events.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of strings representing the coordinate columns.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String representing the frame/timepoint column in the dataframe.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String representing the ID column, or None if not present. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarized_measurement_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String representing the binary measurement column, or None if not present.
Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String representing the collision track ID column. Defaults to 'clTrackID'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;clTrackID&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters for backwards compatibility.
- coordinates_column: Deprecated parameter for position_columns. Use position_columns instead.
- collid_column: Deprecated parameter, use clid_column instead.
- id_column: Deprecated parameter, use obj_id_column instead.
- bin_meas_column: Deprecated parameter, use binarized_measurement_column instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1429</span>
<span class="normal">1430</span>
<span class="normal">1431</span>
<span class="normal">1432</span>
<span class="normal">1433</span>
<span class="normal">1434</span>
<span class="normal">1435</span>
<span class="normal">1436</span>
<span class="normal">1437</span>
<span class="normal">1438</span>
<span class="normal">1439</span>
<span class="normal">1440</span>
<span class="normal">1441</span>
<span class="normal">1442</span>
<span class="normal">1443</span>
<span class="normal">1444</span>
<span class="normal">1445</span>
<span class="normal">1446</span>
<span class="normal">1447</span>
<span class="normal">1448</span>
<span class="normal">1449</span>
<span class="normal">1450</span>
<span class="normal">1451</span>
<span class="normal">1452</span>
<span class="normal">1453</span>
<span class="normal">1454</span>
<span class="normal">1455</span>
<span class="normal">1456</span>
<span class="normal">1457</span>
<span class="normal">1458</span>
<span class="normal">1459</span>
<span class="normal">1460</span>
<span class="normal">1461</span>
<span class="normal">1462</span>
<span class="normal">1463</span>
<span class="normal">1464</span>
<span class="normal">1465</span>
<span class="normal">1466</span>
<span class="normal">1467</span>
<span class="normal">1468</span>
<span class="normal">1469</span>
<span class="normal">1470</span>
<span class="normal">1471</span>
<span class="normal">1472</span>
<span class="normal">1473</span>
<span class="normal">1474</span>
<span class="normal">1475</span>
<span class="normal">1476</span>
<span class="normal">1477</span>
<span class="normal">1478</span>
<span class="normal">1479</span>
<span class="normal">1480</span>
<span class="normal">1481</span>
<span class="normal">1482</span>
<span class="normal">1483</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">linker</span><span class="p">:</span> <span class="n">Linker</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">binarized_measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the DataFrameTracker object.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        linker (Linker): The Linker object used for linking events.</span>
<span class="sd">        position_columns (list[str]): List of strings representing the coordinate columns.</span>
<span class="sd">        frame_column (str): String representing the frame/timepoint column in the dataframe.</span>
<span class="sd">        obj_id_column (str | None): String representing the ID column, or None if not present. Defaults to None.</span>
<span class="sd">        binarized_measurement_column (str | None): String representing the binary measurement column, or None if not present.</span>
<span class="sd">            Defaults to None.</span>
<span class="sd">        clid_column (str): String representing the collision track ID column. Defaults to &#39;clTrackID&#39;.</span>
<span class="sd">        kwargs (Any): Additional keyword arguments. Includes deprecated parameters for backwards compatibility.</span>
<span class="sd">            - coordinates_column: Deprecated parameter for position_columns. Use position_columns instead.</span>
<span class="sd">            - collid_column: Deprecated parameter, use clid_column instead.</span>
<span class="sd">            - id_column: Deprecated parameter, use obj_id_column instead.</span>
<span class="sd">            - bin_meas_column: Deprecated parameter, use binarized_measurement_column instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;coordinates_column&#39;</span><span class="p">:</span> <span class="s1">&#39;position_columns&#39;</span><span class="p">,</span>
        <span class="s1">&#39;collid_column&#39;</span><span class="p">:</span> <span class="s1">&#39;clid_column&#39;</span><span class="p">,</span>
        <span class="s1">&#39;id_column&#39;</span><span class="p">:</span> <span class="s1">&#39;obj_id_column&#39;</span><span class="p">,</span>
        <span class="s1">&#39;bin_meas_column&#39;</span><span class="p">:</span> <span class="s1">&#39;binarized_measurement_column&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check for allowed kwargs</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid keyword argument </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">corrected_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign parameters</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">corrected_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;position_columns&#39;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">corrected_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;obj_id_column&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">binarized_measurement_column</span> <span class="o">=</span> <span class="n">corrected_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
        <span class="s1">&#39;binarized_measurement_column&#39;</span><span class="p">,</span> <span class="n">binarized_measurement_column</span>
    <span class="p">)</span>
    <span class="n">clid_column</span> <span class="o">=</span> <span class="n">corrected_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clid_column&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">linker</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_coordinates_column</span> <span class="o">=</span> <span class="n">position_columns</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_binarized_measurement_column</span> <span class="o">=</span> <span class="n">binarized_measurement_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_collid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_input</span><span class="p">(</span><span class="n">position_columns</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">binarized_measurement_column</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.DataFrameTracker.track" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

<a href="#arcos4py.tools.DataFrameTracker.track" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Main method for tracking events through the dataframe. Yields the tracked dataframe for each iteration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Yields:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Generator</code></td>            <td>
                  <code><span title="typing.Generator">Generator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tracked dataframe.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1582</span>
<span class="normal">1583</span>
<span class="normal">1584</span>
<span class="normal">1585</span>
<span class="normal">1586</span>
<span class="normal">1587</span>
<span class="normal">1588</span>
<span class="normal">1589</span>
<span class="normal">1590</span>
<span class="normal">1591</span>
<span class="normal">1592</span>
<span class="normal">1593</span>
<span class="normal">1594</span>
<span class="normal">1595</span>
<span class="normal">1596</span>
<span class="normal">1597</span>
<span class="normal">1598</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Main method for tracking events through the dataframe. Yields the tracked dataframe for each iteration.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        x (pd.DataFrame): Dataframe to track.</span>

<span class="sd">    Yields:</span>
<span class="sd">        Generator: Tracked dataframe.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Input is empty&#39;</span><span class="p">)</span>
    <span class="n">x_sorted</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sort_input</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_column</span><span class="p">,</span> <span class="n">object_id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_id_column</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">x_sorted</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">x_sorted</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">x_frame</span> <span class="o">=</span> <span class="n">x_sorted</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_frame_column</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">x_tracked</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_iteration</span><span class="p">(</span><span class="n">x_frame</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">x_tracked</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.DataFrameTracker.track_iteration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_iteration</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

<a href="#arcos4py.tools.DataFrameTracker.track_iteration" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Tracks events in a single frame. Returns dataframe with event ids.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Dataframe with event ids.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1547</span>
<span class="normal">1548</span>
<span class="normal">1549</span>
<span class="normal">1550</span>
<span class="normal">1551</span>
<span class="normal">1552</span>
<span class="normal">1553</span>
<span class="normal">1554</span>
<span class="normal">1555</span>
<span class="normal">1556</span>
<span class="normal">1557</span>
<span class="normal">1558</span>
<span class="normal">1559</span>
<span class="normal">1560</span>
<span class="normal">1561</span>
<span class="normal">1562</span>
<span class="normal">1563</span>
<span class="normal">1564</span>
<span class="normal">1565</span>
<span class="normal">1566</span>
<span class="normal">1567</span>
<span class="normal">1568</span>
<span class="normal">1569</span>
<span class="normal">1570</span>
<span class="normal">1571</span>
<span class="normal">1572</span>
<span class="normal">1573</span>
<span class="normal">1574</span>
<span class="normal">1575</span>
<span class="normal">1576</span>
<span class="normal">1577</span>
<span class="normal">1578</span>
<span class="normal">1579</span>
<span class="normal">1580</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_iteration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tracks events in a single frame. Returns dataframe with event ids.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        x (pd.DataFrame): Dataframe to track.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Dataframe with event ids.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_active</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_binarized_measurement_column</span><span class="p">)</span>

    <span class="n">coordinates_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_select_necessary_columns</span><span class="p">(</span>
        <span class="n">x_filtered</span><span class="p">,</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_coordinates_column</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">coordinates_data</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collid_column</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="n">df_out</span> <span class="o">=</span> <span class="n">x_filtered</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_collid_column</span><span class="p">])</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">df_out</span> <span class="o">=</span> <span class="n">x_filtered</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">event_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">event_ids</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">event_ids</span><span class="o">.</span><span class="n">size</span><span class="p">:</span>
        <span class="n">df_out</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_collid_column</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">df_out</span>

    <span class="n">df_out</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_collid_column</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">event_ids</span>
    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">_allow_merges</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">_allow_splits</span><span class="p">]):</span>
        <span class="n">df_out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">lineage_tracker</span><span class="o">.</span><span class="n">_add_parents_and_lineage_to_df</span><span class="p">(</span>
            <span class="n">df_out</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_collid_column</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">df_out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.ImageTracker" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">ImageTracker</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

<a href="#arcos4py.tools.ImageTracker" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="arcos4py.tools._detect_events.BaseTracker">BaseTracker</span></code></p>


      <p>Tracker class for image data that works in conjunction with the Linker class.</p>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.tools.ImageTracker.track_iteration" href="#arcos4py.tools.ImageTracker.track_iteration">track_iteration</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>np.ndarray):
Tracks events in a single frame. Returns the tracked labels.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.tools.ImageTracker.track" href="#arcos4py.tools.ImageTracker.track">track</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>np.ndarray, dims: str = "TXY") -&gt; Generator:
Main method for tracking events through the image series. Yields the tracked image for each iteration.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>linker</code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="arcos4py.tools._detect_events.Linker" href="#arcos4py.tools.Linker">Linker</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Linker object used for linking events.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>downsample</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Downsampling factor for the images. Defaults to 1, meaning no downsampling.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1611</span>
<span class="normal">1612</span>
<span class="normal">1613</span>
<span class="normal">1614</span>
<span class="normal">1615</span>
<span class="normal">1616</span>
<span class="normal">1617</span>
<span class="normal">1618</span>
<span class="normal">1619</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">linker</span><span class="p">:</span> <span class="n">Linker</span><span class="p">,</span> <span class="n">downsample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the ImageTracker object.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        linker (Linker): The Linker object used for linking events.</span>
<span class="sd">        downsample (int): Downsampling factor for the images. Defaults to 1, meaning no downsampling.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">linker</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_downsample</span> <span class="o">=</span> <span class="n">downsample</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.ImageTracker.track" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">)</span></code>

<a href="#arcos4py.tools.ImageTracker.track" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Method for tracking events through the image series. Yields the tracked image for each iteration.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Image to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dims</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String of dimensions in order. Default is "TXY". Possible values are "T", "X", "Y", and "Z".</p>
              </div>
            </td>
            <td>
                  <code>&#39;TXY&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Generator</code></td>            <td>
                  <code><span title="typing.Generator">Generator</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Generator that yields the tracked image for each iteration.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1700</span>
<span class="normal">1701</span>
<span class="normal">1702</span>
<span class="normal">1703</span>
<span class="normal">1704</span>
<span class="normal">1705</span>
<span class="normal">1706</span>
<span class="normal">1707</span>
<span class="normal">1708</span>
<span class="normal">1709</span>
<span class="normal">1710</span>
<span class="normal">1711</span>
<span class="normal">1712</span>
<span class="normal">1713</span>
<span class="normal">1714</span>
<span class="normal">1715</span>
<span class="normal">1716</span>
<span class="normal">1717</span>
<span class="normal">1718</span>
<span class="normal">1719</span>
<span class="normal">1720</span>
<span class="normal">1721</span>
<span class="normal">1722</span>
<span class="normal">1723</span>
<span class="normal">1724</span>
<span class="normal">1725</span>
<span class="normal">1726</span>
<span class="normal">1727</span>
<span class="normal">1728</span>
<span class="normal">1729</span>
<span class="normal">1730</span>
<span class="normal">1731</span>
<span class="normal">1732</span>
<span class="normal">1733</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Generator</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Method for tracking events through the image series. Yields the tracked image for each iteration.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        x (np.ndarray): Image to track.</span>
<span class="sd">        dims (str): String of dimensions in order. Default is &quot;TXY&quot;. Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, and &quot;Z&quot;.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Generator: Generator that yields the tracked image for each iteration.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">available_dims</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;Y&quot;</span><span class="p">,</span> <span class="s2">&quot;Z&quot;</span><span class="p">]</span>
    <span class="n">dims_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dims</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>

    <span class="c1"># check input</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dims_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dims_list</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid dimension </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. Must be &#39;T&#39;, &#39;X&#39;, &#39;Y&#39;, or &#39;Z&#39;.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dims_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">dims_list</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Duplicate dimensions in dims.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dims_list</span><span class="p">)</span> <span class="o">!=</span> <span class="n">x</span><span class="o">.</span><span class="n">ndim</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Length of dims must be equal to number of dimensions in image. Image has </span><span class="si">{</span><span class="n">x</span><span class="o">.</span><span class="n">ndim</span><span class="si">}</span><span class="s2"> dimensions.&quot;</span>
        <span class="p">)</span>

    <span class="n">dims_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">dims_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">available_dims</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dims_list</span><span class="p">}</span>

    <span class="c1"># reorder image so T is first dimension</span>
    <span class="n">image_reshaped</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">moveaxis</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">dims_dict</span><span class="p">[</span><span class="s2">&quot;T&quot;</span><span class="p">],</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">x_frame</span> <span class="ow">in</span> <span class="n">image_reshaped</span><span class="p">:</span>
        <span class="n">x_tracked</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">track_iteration</span><span class="p">(</span><span class="n">x_frame</span><span class="p">)</span>
        <span class="k">yield</span> <span class="n">x_tracked</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.ImageTracker.track_iteration" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_iteration</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

<a href="#arcos4py.tools.ImageTracker.track_iteration" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Tracks events in a single frame. Returns the tracked labels.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Image to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: Tracked labels.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1677</span>
<span class="normal">1678</span>
<span class="normal">1679</span>
<span class="normal">1680</span>
<span class="normal">1681</span>
<span class="normal">1682</span>
<span class="normal">1683</span>
<span class="normal">1684</span>
<span class="normal">1685</span>
<span class="normal">1686</span>
<span class="normal">1687</span>
<span class="normal">1688</span>
<span class="normal">1689</span>
<span class="normal">1690</span>
<span class="normal">1691</span>
<span class="normal">1692</span>
<span class="normal">1693</span>
<span class="normal">1694</span>
<span class="normal">1695</span>
<span class="normal">1696</span>
<span class="normal">1697</span>
<span class="normal">1698</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_iteration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Tracks events in a single frame. Returns the tracked labels.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        x (np.ndarray): Image to track.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Tracked labels.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">downscale_image</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_downsample</span><span class="p">)</span>
    <span class="n">coordinates_data</span><span class="p">,</span> <span class="n">meas_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_image_to_coordinates</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">coordinates_data_filtered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_active</span><span class="p">(</span><span class="n">coordinates_data</span><span class="p">,</span> <span class="n">meas_data</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">link</span><span class="p">(</span><span class="n">coordinates_data_filtered</span><span class="p">)</span>

    <span class="n">tracked_events</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linker</span><span class="o">.</span><span class="n">event_ids</span>
    <span class="n">out_img</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coordinates_to_image</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">coordinates_data_filtered</span><span class="p">,</span> <span class="n">tracked_events</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_downsample</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">out_img</span> <span class="o">=</span> <span class="n">upscale_image</span><span class="p">(</span><span class="n">out_img</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_downsample</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">out_img</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.Linker" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">Linker</span><span class="p">(</span><span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cost_threshold</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">reg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg_m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">allow_merges</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_splits</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stability_threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">remove_small_clusters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_size_for_split</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.Linker" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Linker class to link clusters across frames and detect collective events.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.Linker.event_ids">event_ids</span></code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The event IDs.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.Linker.frame_counter">frame_counter</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The current frame counter.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.Linker.LineageTracker">LineageTracker</span></code></td>
            <td>
                  <code><span title="arcos4py.tools._detect_events.LineageTracker">LineageTracker</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The LineageTracker object.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Methods:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
            <tr class="doc-section-item">
              <td><code><a class="autorefs autorefs-internal" title="arcos4py.tools.Linker.link" href="#arcos4py.tools.Linker.link">link</a></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Links clusters across frames and detects collective events.</p>
                </div>
              </td>
            </tr>
            <tr class="doc-section-item">
              <td><code><span title="arcos4py.tools.Linker.get_event_ids">get_event_ids</span></code></td>
              <td>
                <div class="doc-md-description">
                  <p>Returns the event IDs.</p>
                </div>
              </td>
            </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum distance between two samples for one to be considered as in
the neighbourhood of the other.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frame to frame distance, value is used to connect
collective events across multiple frames. If "None", same value as eps is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The minimum size for a cluster to be identified as a collective event.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The clustering method to be used. One of ['dbscan', 'hdbscan']
or a callable that takes a 2d array of coordinates and returns a list of cluster labels.
Arguments <code>eps</code>, <code>minClSz</code> and <code>minSamples</code> are ignored if a callable is passed.</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The linking method to be used.</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>predictor</code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The predictor method to be used.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames the tracking
algorithm looks back to connect collective events.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel (only for clustering algorithm).</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cost_threshold</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for filtering low-probability matches (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Entropy regularization parameter for unbalanced OT algorithm (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg_m</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Marginal relaxation parameter for unbalanced OT (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stability_threshold</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of consecutive frames a merge/split must persist to be considered stable.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_merges</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to allow merges.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_splits</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to allow splits.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>remove_small_clusters</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to remove clusters smaller than min_clustersize.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_size_for_split</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The minimum size for a cluster to be considered for splitting. Multiple of min_clustersize.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters for backwards compatibility.
- epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.
- minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.
- minSamples: Deprecated parameter for min_samples. Use min_samples instead.
- clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.
- nPrev: Deprecated parameter for n_prev. Use n_prev instead.
- nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;nearest&quot;</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">cost_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">reg</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">allow_merges</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_splits</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stability_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">remove_small_clusters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">min_size_for_split</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initializes the Linker object.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">            the neighbourhood of the other.</span>
<span class="sd">        eps_prev (float | None): Frame to frame distance, value is used to connect</span>
<span class="sd">            collective events across multiple frames. If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">        min_clustersize (int): The minimum size for a cluster to be identified as a collective event.</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clustering_method (str | Callable): The clustering method to be used. One of [&#39;dbscan&#39;, &#39;hdbscan&#39;]</span>
<span class="sd">            or a callable that takes a 2d array of coordinates and returns a list of cluster labels.</span>
<span class="sd">            Arguments `eps`, `minClSz` and `minSamples` are ignored if a callable is passed.</span>
<span class="sd">        linking_method (str): The linking method to be used.</span>
<span class="sd">        predictor (bool | Callable): The predictor method to be used.</span>
<span class="sd">        n_prev (int): Number of previous frames the tracking</span>
<span class="sd">            algorithm looks back to connect collective events.</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel (only for clustering algorithm).</span>
<span class="sd">        cost_threshold (int): Threshold for filtering low-probability matches (only for transportation linking).</span>
<span class="sd">        reg (float): Entropy regularization parameter for unbalanced OT algorithm (only for transportation linking).</span>
<span class="sd">        reg_m (float): Marginal relaxation parameter for unbalanced OT (only for transportation linking).</span>
<span class="sd">        stability_threshold (int): Number of consecutive frames a merge/split must persist to be considered stable.</span>
<span class="sd">        allow_merges (bool): Whether to allow merges.</span>
<span class="sd">        allow_splits (bool): Whether to allow splits.</span>
<span class="sd">        remove_small_clusters (bool): Whether to remove clusters smaller than min_clustersize.</span>
<span class="sd">        min_size_for_split (int): The minimum size for a cluster to be considered for splitting. Multiple of min_clustersize.</span>
<span class="sd">        kwargs (Any): Additional keyword arguments. Includes deprecated parameters for backwards compatibility.</span>
<span class="sd">            - epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.</span>
<span class="sd">            - minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.</span>
<span class="sd">            - minSamples: Deprecated parameter for min_samples. Use min_samples instead.</span>
<span class="sd">            - clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.</span>
<span class="sd">            - nPrev: Deprecated parameter for n_prev. Use n_prev instead.</span>
<span class="sd">            - nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;epsPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minClSz&#39;</span><span class="p">:</span> <span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minSamples&#39;</span><span class="p">:</span> <span class="s1">&#39;min_samples&#39;</span><span class="p">,</span>
        <span class="s1">&#39;clusteringMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;linkingMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;linking_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;n_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nJobs&#39;</span><span class="p">:</span> <span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check for allowed kwargs</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid keyword argument </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Handle deprecated parameters</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign parameters</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">min_samples</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">)</span>
    <span class="n">clustering_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_prev&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>
    <span class="n">n_jobs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_predictor</span><span class="p">:</span> <span class="n">Predictor</span> <span class="o">|</span> <span class="kc">None</span>  <span class="c1"># for mypy</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_memory</span> <span class="o">=</span> <span class="n">Memory</span><span class="p">(</span><span class="n">n_timepoints</span><span class="o">=</span><span class="n">n_prev</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">callable</span><span class="p">(</span><span class="n">predictor</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_predictor</span> <span class="o">=</span> <span class="n">Predictor</span><span class="p">(</span><span class="n">predictor</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">predictor</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_predictor</span> <span class="o">=</span> <span class="n">Predictor</span><span class="o">.</span><span class="n">with_default_predictor</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_predictor</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_nn_tree</span><span class="p">:</span> <span class="n">KDTree</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">eps_prev</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_eps_prev</span> <span class="o">=</span> <span class="n">eps</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_eps_prev</span> <span class="o">=</span> <span class="n">eps_prev</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_reg</span> <span class="o">=</span> <span class="n">reg</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_reg_m</span> <span class="o">=</span> <span class="n">reg_m</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_cost_threshold</span> <span class="o">=</span> <span class="n">cost_threshold</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_validate_input</span><span class="p">(</span><span class="n">eps</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">event_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">clustering_method</span><span class="p">,</span> <span class="s1">&#39;__call__&#39;</span><span class="p">):</span>  <span class="c1"># check if it&#39;s callable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clustering_function</span> <span class="o">=</span> <span class="n">clustering_method</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">clustering_method</span> <span class="o">==</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clustering_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span><span class="n">_dbscan</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span> <span class="n">minClSz</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">clustering_method</span> <span class="o">==</span> <span class="s2">&quot;hdbscan&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clustering_function</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">partial</span><span class="p">(</span>
                <span class="n">_hdbscan</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span> <span class="n">minClSz</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="n">min_samples</span><span class="p">,</span> <span class="n">cluster_selection_method</span><span class="o">=</span><span class="s1">&#39;eom&#39;</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Clustering method must be either in </span><span class="si">{</span><span class="n">AVAILABLE_CLUSTERING_METHODS</span><span class="si">}</span><span class="s1"> or a callable with data as the only argument an argument&#39;</span>  <span class="c1"># noqa E501</span>
            <span class="p">)</span>

    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">linking_method</span><span class="p">,</span> <span class="s1">&#39;__call__&#39;</span><span class="p">):</span>  <span class="c1"># check if it&#39;s callable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linking_function</span> <span class="o">=</span> <span class="n">linking_method</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">linking_method</span> <span class="o">==</span> <span class="s2">&quot;nearest&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">linking_function</span> <span class="o">=</span> <span class="s1">&#39;brute_force_linking&#39;</span>
        <span class="k">elif</span> <span class="n">linking_method</span> <span class="o">==</span> <span class="s2">&quot;transportation&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">linking_function</span> <span class="o">=</span> <span class="s1">&#39;transportation_linking&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s1">&#39;Linking method must be either in </span><span class="si">{</span><span class="n">AVAILABLE_LINKING_METHODS</span><span class="si">}</span><span class="s1"> or a callable&#39;</span>  <span class="c1"># noqa E501</span>
            <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_stability_threshold</span> <span class="o">=</span> <span class="n">stability_threshold</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_allow_merges</span> <span class="o">=</span> <span class="n">allow_merges</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_allow_splits</span> <span class="o">=</span> <span class="n">allow_splits</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_merge_candidate_history</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_split_candidate_history</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineage_tracker</span> <span class="o">=</span> <span class="n">LineageTracker</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_counter</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># Start at -1 to get the first frame to be 0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_remove_small_clusters</span> <span class="o">=</span> <span class="n">remove_small_clusters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_min_clustersize</span> <span class="o">=</span> <span class="n">min_clustersize</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_min_size_for_split</span> <span class="o">=</span> <span class="n">min_size_for_split</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.Linker.link" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">link</span><span class="p">(</span><span class="n">input_coordinates</span><span class="p">)</span></code>

<a href="#arcos4py.tools.Linker.link" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Links clusters across frames and detects collective events.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_coordinates</code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input coordinates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">link</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_coordinates</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Links clusters across frames and detects collective events.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        input_coordinates (np.ndarray): The input coordinates.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_counter</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">original_cluster_ids</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">,</span> <span class="n">nanrows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clustering</span><span class="p">(</span><span class="n">input_coordinates</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">prev_cluster_ids</span><span class="p">):</span>
        <span class="n">linked_cluster_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_id_empty</span><span class="p">(</span><span class="n">original_cluster_ids</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">original_cluster_ids</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">all_cluster_ids</span><span class="o">.</span><span class="n">size</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">linked_cluster_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_id_empty</span><span class="p">(</span><span class="n">original_cluster_ids</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">linked_cluster_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_update_id</span><span class="p">(</span><span class="n">original_cluster_ids</span><span class="p">,</span> <span class="n">coordinates</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_remove_small_clusters</span><span class="p">:</span>
        <span class="n">final_cluster_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_remove_small_clusters</span><span class="p">(</span><span class="n">linked_cluster_ids</span><span class="p">,</span> <span class="n">original_cluster_ids</span><span class="p">)</span>

    <span class="c1"># Apply stable merges and splits</span>
    <span class="n">final_cluster_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_apply_stable_merges_splits</span><span class="p">(</span><span class="n">linked_cluster_ids</span><span class="p">,</span> <span class="n">original_cluster_ids</span><span class="p">)</span>

    <span class="c1"># Update lineage graph</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">lineage_tracker</span><span class="o">.</span><span class="n">_add_frame</span><span class="p">(</span><span class="n">linked_cluster_ids</span><span class="p">,</span> <span class="n">final_cluster_ids</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_counter</span><span class="p">)</span>

    <span class="c1"># Update memory and fit predictor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">add_frame</span><span class="p">(</span><span class="n">new_coordinates</span><span class="o">=</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">new_cluster_ids</span><span class="o">=</span><span class="n">final_cluster_ids</span><span class="p">)</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_predictor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">coordinates</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_predictor</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">coordinates</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">coordinates</span><span class="p">,</span> <span class="n">cluster_ids</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">prev_cluster_ids</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_memory</span><span class="o">.</span><span class="n">remove_timepoint</span><span class="p">()</span>

    <span class="n">event_ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full_like</span><span class="p">(</span><span class="n">nanrows</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)</span>
    <span class="n">event_ids</span><span class="p">[</span><span class="o">~</span><span class="n">nanrows</span><span class="p">]</span> <span class="o">=</span> <span class="n">final_cluster_ids</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">event_ids</span> <span class="o">=</span> <span class="n">event_ids</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.binData" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">binData</span><span class="p">(</span><span class="n">smooth_k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bias_k</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bias_method</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.binData" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="arcos4py.tools._binarize_detrend.detrender">detrender</span></code></p>


      <p>Smooth, de-trend, and binarise the input data.</p>
<p>First a short-term median filter with size smoothK
is applied to remove fast noise from the time series.
If the de-trending method is set to "none",
smoothing is applied on globally rescaled time series.
The subsequent de-trending can be performed with a long-term median filter
with the size biasK {biasMet = "runmed"}
or by fitting a polynomial of degree polyDeg {biasMet = "lm"}.</p>
<p>After de-trending,
if the global difference between min/max is greater than the threshold
the signal is rescaled to the (0,1) range.
The final signal is binarised using the binThr threshold.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.binData.smoothK">smoothK</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the short-term median smoothing filter.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.binData.biasK">biasK</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the long-term de-trending median filter.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.binData.peakThr">peakThr</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for rescaling of the de-trended signal.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.binData.binThr">binThr</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for binarizing the de-trended signal.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.binData.polyDeg">polyDeg</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sets the degree of the polynomial for lm fitting.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.binData.biasMet">biasMet</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>De-trending method, one of ['runmed', 'lm', 'none'].</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>smooth_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the short-term median smoothing filter.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the long-term de-trending median filter.</p>
              </div>
            </td>
            <td>
                  <code>51</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>peak_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for rescaling of the de-trended signal.</p>
              </div>
            </td>
            <td>
                  <code>0.2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarization_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for binarizing the de-trended signal.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>polynomial_degree</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Sets the degree of the polynomial for lm fitting.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>De-trending method, one of ['runmed', 'lm', 'none'].</p>
              </div>
            </td>
            <td>
                  <code>&#39;runmed&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_binarize_detrend.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">smooth_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">bias_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peak_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binarization_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polynomial_degree</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">bias_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Smooth, de-trend, and binarise the input data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        smooth_k (int): Size of the short-term median smoothing filter.</span>
<span class="sd">        bias_k (int): Size of the long-term de-trending median filter.</span>
<span class="sd">        peak_threshold (float): Threshold for rescaling of the de-trended signal.</span>
<span class="sd">        binarization_threshold (float): Threshold for binarizing the de-trended signal.</span>
<span class="sd">        polynomial_degree (int): Sets the degree of the polynomial for lm fitting.</span>
<span class="sd">        bias_method (str): De-trending method, one of [&#39;runmed&#39;, &#39;lm&#39;, &#39;none&#39;].</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">smooth_k</span><span class="p">,</span> <span class="n">bias_k</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="p">,</span> <span class="n">bias_method</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">binarization_threshold</span> <span class="o">=</span> <span class="n">binarization_threshold</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.binData.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">group_column</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.binData.run" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Runs binarization and detrending.</p>
<p>If the bias_method is 'none', first it rescales the data to between [0,1], then
local smoothing is applied to the measurement by groups, followed by
binarization.</p>
<p>If bias_method is one of ['lm', 'runmed'], first the data is detrended locally with a
median filter and then detrended globally, for 'lm' with a linear model and for 'runmed' with a
median filter.
Followed by binarization of the data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>x</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The time-series data for smoothing, detrending and binarization.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>group_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Object id column in x. Detrending and rescaling is performed on a per-object basis.
If None, no detrending is performed, only rescaling and bias method is ignored.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>measurement_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Measurement column in x on which detrending and rescaling is performed.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frame column in Time-series data. Used for sorting.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes old parameters for backwards compatibility.
- GroupCol (str): Object id column in x. Detrending and rescaling is performed on a per-object basis.
- colMeas (str): Measurement column in x on which detrending and rescaling is performed.
- colFrame (str): Frame column in Time-series data. Used for sorting.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe containing binarized data, rescaled data and the original columns.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_binarize_detrend.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">group_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs binarization and detrending.</span>

<span class="sd">    If the bias_method is &#39;none&#39;, first it rescales the data to between [0,1], then</span>
<span class="sd">    local smoothing is applied to the measurement by groups, followed by</span>
<span class="sd">    binarization.</span>

<span class="sd">    If bias_method is one of [&#39;lm&#39;, &#39;runmed&#39;], first the data is detrended locally with a</span>
<span class="sd">    median filter and then detrended globally, for &#39;lm&#39; with a linear model and for &#39;runmed&#39; with a</span>
<span class="sd">    median filter.</span>
<span class="sd">    Followed by binarization of the data.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        x (DataFrame): The time-series data for smoothing, detrending and binarization.</span>
<span class="sd">        group_column (str | None): Object id column in x. Detrending and rescaling is performed on a per-object basis.</span>
<span class="sd">            If None, no detrending is performed, only rescaling and bias method is ignored.</span>
<span class="sd">        measurement_column (str): Measurement column in x on which detrending and rescaling is performed.</span>
<span class="sd">        frame_column (str): Frame column in Time-series data. Used for sorting.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes old parameters for backwards compatibility.</span>
<span class="sd">            - GroupCol (str): Object id column in x. Detrending and rescaling is performed on a per-object basis.</span>
<span class="sd">            - colMeas (str): Measurement column in x on which detrending and rescaling is performed.</span>
<span class="sd">            - colFrame (str): Frame column in Time-series data. Used for sorting.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Dataframe containing binarized data, rescaled data and the original columns.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># handle deprecated parameters</span>
    <span class="n">param_mapping</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;GroupCol&quot;</span><span class="p">:</span> <span class="s2">&quot;group_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;colMeas&quot;</span><span class="p">:</span> <span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;colFrame&quot;</span><span class="p">:</span> <span class="s2">&quot;frame_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="c1"># allowed_kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">param_mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid keyword argument: </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">param_mapping</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># update the parameters</span>
    <span class="n">group_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;group_column&quot;</span><span class="p">,</span> <span class="n">group_column</span><span class="p">)</span>
    <span class="n">measurement_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">)</span>
    <span class="n">frame_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;frame_column&quot;</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">group_column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_without_groupcol</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_run_with_groupcol</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">group_column</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.calcCollevStats" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">calcCollevStats</span><span class="p">()</span></code>

<a href="#arcos4py.tools.calcCollevStats" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Class to calculate statistics of collective events.</p>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Initialize the class.&quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;The &#39;calcCollevStats&#39; class is deprecated and will be removed in a future version. &quot;</span>
        <span class="s2">&quot;Please use the standalone functions instead (calculate_statistics).&quot;</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.calcCollevStats.calculate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">collid_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">posCol</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#arcos4py.tools.calcCollevStats.calculate" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Calculate summary statistics for collective events based on the entire duration of each event.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input data containing information on the collective events.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the frame numbers.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>collid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the collective event IDs.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the object IDs. Defaults to None.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>posCol</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names representing the position coordinates. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the summary statistics of the collective events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="deprecated" open>
  <summary>Deprecated</summary>
  
</details>
            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">collid_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span>
    <span class="n">posCol</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate summary statistics for collective events based on the entire duration of each event.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.DataFrame): Input data containing information on the collective events.</span>
<span class="sd">        frame_column (str): The column name representing the frame numbers.</span>
<span class="sd">        collid_column (str): The column name representing the collective event IDs.</span>
<span class="sd">        obj_id_column (str, optional): The column name representing the object IDs. Defaults to None.</span>
<span class="sd">        posCol (list, optional): List of column names representing the position coordinates. Defaults to None.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the summary statistics of the collective events.</span>

<span class="sd">    Deprecated:</span>
<span class="sd">        calculate: Use calculate_statistics instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;The &#39;calculate&#39; method is deprecated and will be removed in a future version. &quot;</span>
        <span class="s2">&quot;Please use the &#39;calculate_statistics&#39; function instead.&quot;</span><span class="p">,</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">calculate_statistics</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">collid_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">posCol</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.clipMeas" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">clipMeas</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#arcos4py.tools.clipMeas" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Clip input array.</p>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>ndarray</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>To be clipped.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clips array to quantilles.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (ndarray): To be clipped.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.clipMeas.clip" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clip</span><span class="p">(</span><span class="n">clip_low</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="o">=</span><span class="mf">0.999</span><span class="p">)</span></code>

<a href="#arcos4py.tools.clipMeas.clip" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Clip input array to upper and lower quantiles defined in clip_low and clip_high.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>clip_low</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Lower clipping boundary (quantile).</p>
              </div>
            </td>
            <td>
                  <code>0.001</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clip_high</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Upper clipping boundry (quantille).</p>
              </div>
            </td>
            <td>
                  <code>0.999</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray (np.ndarray): A clipped array of the input data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">clip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.001</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.999</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clip input array to upper and lower quantiles defined in clip_low and clip_high.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        clip_low (float): Lower clipping boundary (quantile).</span>
<span class="sd">        clip_high (float): Upper clipping boundry (quantille).</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray (np.ndarray): A clipped array of the input data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_percentile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">clip_low</span><span class="p">,</span> <span class="n">clip_high</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">clip</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.detectCollev" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">detectCollev</span><span class="p">(</span><span class="n">input_data</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">epsPrev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">minClSz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nPrev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">posCols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">id_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bin_meas_column</span><span class="o">=</span><span class="s1">&#39;meas&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.tools.detectCollev" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Class to detect collective events.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.input_data">input_data</span></code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pandas.DataFrame">DataFrame</span>, <span title="numpy.ndarray">ndarray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input data to track.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.eps">eps</span></code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for clustering, default is 1.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.epsPrev">epsPrev</span></code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[float, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for linking previous clusters, if None, eps is used.
Default is None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.minClSz">minClSz</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size. Default is 3.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.nPrev">nPrev</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider. Default is 1.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.posCols">posCols</span></code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names for the position columns. Default is ["x"].</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.frame_column">frame_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the frame number. Default is 'time'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.id_column">id_column</span></code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the id. Default is None.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.bin_meas_column">bin_meas_column</span></code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the binary measurement. Default is 'meas'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.clid_column">clid_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the cluster id. Default is 'clTrackID'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.dims">dims</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String of dimensions in order, such as. Default is "TXY". Possible values are "T", "X", "Y", "Z".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.method">method</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.min_samples">min_samples</span></code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
    point to be considered as a core point. This includes the point itself.
    Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.linkingMethod">linkingMethod</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for linking. Default is 'nearest'.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.n_jobs">n_jobs</span></code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel. Default is 1.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.predictor">predictor</span></code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.detectCollev.show_progress">show_progress</span></code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to show progress bar. Default is True.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>input_data</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input data to be processed. Must contain a binarized measurement column.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum distance between two samples for one to be considered as in
the neighbourhood of the other.
This is not a maximum bound on the distances of points within a cluster.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>epsPrev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Frame to frame distance, value is used to connect
collective events across multiple frames.If "None", same value as eps is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>minClSz</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size for a cluster to be identified as a collective event.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>nPrev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames the tracking
algorithm looks back to connect collective events.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>posCols</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of position columns contained in the data.
Must at least contain one.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the frame column in input_data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;time&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>id_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the track id/id column in input_data, optional.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bin_meas_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the bin_meas_column in input_data or None.</p>
              </div>
            </td>
            <td>
                  <code>&#39;meas&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the column name containing the ids of collective events.</p>
              </div>
            </td>
            <td>
                  <code>&#39;clTrackID&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dims</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String of dimensions in order, used if input_data is a numpy array. Default is "TXY".
Possible values are "T", "X", "Y", "Z".</p>
              </div>
            </td>
            <td>
                  <code>&#39;TXY&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linkingMethod</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for linking. Default is 'nearest'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of paralell workers to spawn, -1 uses all available cpus.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>predictor</code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to show progress bar. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2039</span>
<span class="normal">2040</span>
<span class="normal">2041</span>
<span class="normal">2042</span>
<span class="normal">2043</span>
<span class="normal">2044</span>
<span class="normal">2045</span>
<span class="normal">2046</span>
<span class="normal">2047</span>
<span class="normal">2048</span>
<span class="normal">2049</span>
<span class="normal">2050</span>
<span class="normal">2051</span>
<span class="normal">2052</span>
<span class="normal">2053</span>
<span class="normal">2054</span>
<span class="normal">2055</span>
<span class="normal">2056</span>
<span class="normal">2057</span>
<span class="normal">2058</span>
<span class="normal">2059</span>
<span class="normal">2060</span>
<span class="normal">2061</span>
<span class="normal">2062</span>
<span class="normal">2063</span>
<span class="normal">2064</span>
<span class="normal">2065</span>
<span class="normal">2066</span>
<span class="normal">2067</span>
<span class="normal">2068</span>
<span class="normal">2069</span>
<span class="normal">2070</span>
<span class="normal">2071</span>
<span class="normal">2072</span>
<span class="normal">2073</span>
<span class="normal">2074</span>
<span class="normal">2075</span>
<span class="normal">2076</span>
<span class="normal">2077</span>
<span class="normal">2078</span>
<span class="normal">2079</span>
<span class="normal">2080</span>
<span class="normal">2081</span>
<span class="normal">2082</span>
<span class="normal">2083</span>
<span class="normal">2084</span>
<span class="normal">2085</span>
<span class="normal">2086</span>
<span class="normal">2087</span>
<span class="normal">2088</span>
<span class="normal">2089</span>
<span class="normal">2090</span>
<span class="normal">2091</span>
<span class="normal">2092</span>
<span class="normal">2093</span>
<span class="normal">2094</span>
<span class="normal">2095</span>
<span class="normal">2096</span>
<span class="normal">2097</span>
<span class="normal">2098</span>
<span class="normal">2099</span>
<span class="normal">2100</span>
<span class="normal">2101</span>
<span class="normal">2102</span>
<span class="normal">2103</span>
<span class="normal">2104</span>
<span class="normal">2105</span>
<span class="normal">2106</span>
<span class="normal">2107</span>
<span class="normal">2108</span>
<span class="normal">2109</span>
<span class="normal">2110</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">input_data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">],</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">epsPrev</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">minClSz</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">nPrev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">posCols</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;time&#39;</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">bin_meas_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;meas&#39;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clTrackID&#39;</span><span class="p">,</span>
    <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">linkingMethod</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs class with input parameters.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        input_data (DataFrame): Input data to be processed. Must contain a binarized measurement column.</span>
<span class="sd">        eps (float): The maximum distance between two samples for one to be considered as in</span>
<span class="sd">            the neighbourhood of the other.</span>
<span class="sd">            This is not a maximum bound on the distances of points within a cluster.</span>
<span class="sd">        epsPrev (float | None): Frame to frame distance, value is used to connect</span>
<span class="sd">            collective events across multiple frames.If &quot;None&quot;, same value as eps is used.</span>
<span class="sd">        minClSz (int): Minimum size for a cluster to be identified as a collective event.</span>
<span class="sd">        nPrev (int): Number of previous frames the tracking</span>
<span class="sd">            algorithm looks back to connect collective events.</span>
<span class="sd">        posCols (list): List of position columns contained in the data.</span>
<span class="sd">            Must at least contain one.</span>
<span class="sd">        frame_column (str): Indicating the frame column in input_data.</span>
<span class="sd">        id_column (str | None): Indicating the track id/id column in input_data, optional.</span>
<span class="sd">        bin_meas_column (str): Indicating the bin_meas_column in input_data or None.</span>
<span class="sd">        clid_column (str): Indicating the column name containing the ids of collective events.</span>
<span class="sd">        dims (str): String of dimensions in order, used if input_data is a numpy array. Default is &quot;TXY&quot;.</span>
<span class="sd">            Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">        method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        linkingMethod (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">        n_jobs (int): Number of paralell workers to spawn, -1 uses all available cpus.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">input_data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">eps</span> <span class="o">=</span> <span class="n">eps</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span> <span class="o">=</span> <span class="n">epsPrev</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span> <span class="o">=</span> <span class="n">minClSz</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span> <span class="o">=</span> <span class="n">nPrev</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">posCols</span> <span class="o">=</span> <span class="n">posCols</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="o">=</span> <span class="n">id_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">bin_meas_column</span> <span class="o">=</span> <span class="n">bin_meas_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">dims</span> <span class="o">=</span> <span class="n">dims</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">method</span> <span class="o">=</span> <span class="n">method</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span> <span class="o">=</span> <span class="n">linkingMethod</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span> <span class="o">=</span> <span class="n">min_samples</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">predictor</span> <span class="o">=</span> <span class="n">predictor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span> <span class="o">=</span> <span class="n">n_jobs</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span> <span class="o">=</span> <span class="n">show_progress</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
        <span class="s2">&quot;This class is deprecated and will be removed a future release, use the track_events_dataframe or track_events_image functions directly.&quot;</span><span class="p">,</span>  <span class="c1"># noqa: E501</span>
        <span class="ne">DeprecationWarning</span><span class="p">,</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.detectCollev.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

<a href="#arcos4py.tools.detectCollev.run" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Runs the collective event detection algorithm.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>copy</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to copy the input data. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input data with added collective event ids.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2112</span>
<span class="normal">2113</span>
<span class="normal">2114</span>
<span class="normal">2115</span>
<span class="normal">2116</span>
<span class="normal">2117</span>
<span class="normal">2118</span>
<span class="normal">2119</span>
<span class="normal">2120</span>
<span class="normal">2121</span>
<span class="normal">2122</span>
<span class="normal">2123</span>
<span class="normal">2124</span>
<span class="normal">2125</span>
<span class="normal">2126</span>
<span class="normal">2127</span>
<span class="normal">2128</span>
<span class="normal">2129</span>
<span class="normal">2130</span>
<span class="normal">2131</span>
<span class="normal">2132</span>
<span class="normal">2133</span>
<span class="normal">2134</span>
<span class="normal">2135</span>
<span class="normal">2136</span>
<span class="normal">2137</span>
<span class="normal">2138</span>
<span class="normal">2139</span>
<span class="normal">2140</span>
<span class="normal">2141</span>
<span class="normal">2142</span>
<span class="normal">2143</span>
<span class="normal">2144</span>
<span class="normal">2145</span>
<span class="normal">2146</span>
<span class="normal">2147</span>
<span class="normal">2148</span>
<span class="normal">2149</span>
<span class="normal">2150</span>
<span class="normal">2151</span>
<span class="normal">2152</span>
<span class="normal">2153</span>
<span class="normal">2154</span>
<span class="normal">2155</span>
<span class="normal">2156</span>
<span class="normal">2157</span>
<span class="normal">2158</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">copy</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs the collective event detection algorithm.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        copy (bool): Whether or not to copy the input data. Default is True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Input data with added collective event ids.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">track_events_dataframe</span><span class="p">(</span>
            <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span>
            <span class="n">position_columns</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">posCols</span><span class="p">,</span>
            <span class="n">frame_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span>
            <span class="n">id_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span>
            <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bin_meas_column</span><span class="p">,</span>
            <span class="n">clid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
            <span class="n">eps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">,</span>
            <span class="n">eps_prev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span><span class="p">,</span>
            <span class="n">min_clustersize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span><span class="p">,</span>
            <span class="n">min_samples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span><span class="p">,</span>
            <span class="n">clustering_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
            <span class="n">linking_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span><span class="p">,</span>
            <span class="n">n_prev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span><span class="p">,</span>
            <span class="n">predictor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predictor</span><span class="p">,</span>
            <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
            <span class="n">show_progress</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">copy</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">input_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">track_events_image</span><span class="p">(</span>
            <span class="n">X</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">input_data</span><span class="p">,</span>
            <span class="n">eps</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">eps</span><span class="p">,</span>
            <span class="n">eps_prev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">epsPrev</span><span class="p">,</span>
            <span class="n">min_clustersize</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">minClSz</span><span class="p">,</span>
            <span class="n">min_samples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">min_samples</span><span class="p">,</span>
            <span class="n">clustering_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>
            <span class="n">n_prev</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nPrev</span><span class="p">,</span>
            <span class="n">predictor</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">predictor</span><span class="p">,</span>
            <span class="n">linking_method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">linkingMethod</span><span class="p">,</span>
            <span class="n">dims</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dims</span><span class="p">,</span>
            <span class="n">n_jobs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n_jobs</span><span class="p">,</span>
            <span class="n">show_progress</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.filterCollev" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">filterCollev</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;trackID&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.filterCollev" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Select Collective events that last longer than coll_duration    and have a larger total size than coll_total_size.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.filterCollev.data">data</span></code></td>
            <td>
                  <code>Dataframe</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>With detected collective events.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.filterCollev.frame_column">frame_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the frame column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.filterCollev.collid_column">collid_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the collective event id column in data.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.filterCollev.obj_id_column">obj_id_column</span></code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Inidicating the object identifier column such as cell track id.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>Dataframe</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>With detected collective events.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the frame column in data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;time&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Indicating the collective event id column in data.</p>
              </div>
            </td>
            <td>
                  <code>&#39;collid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Inidicating the object identifier column such as cell track id.</p>
              </div>
            </td>
            <td>
                  <code>&#39;trackID&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- collid_column (str): Deprecated. Use clid_column instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_filter_events.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;time&quot;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;trackID&quot;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constructs filterCollev class with Parameters.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (Dataframe): With detected collective events.</span>
<span class="sd">        frame_column (str): Indicating the frame column in data.</span>
<span class="sd">        clid_column (str): Indicating the collective event id column in data.</span>
<span class="sd">        obj_id_column (str): Inidicating the object identifier column such as cell track id.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - collid_column (str): Deprecated. Use clid_column instead.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;collid_column&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">clid_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clid_column&quot;</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span> <span class="o">=</span> <span class="n">frame_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span> <span class="o">=</span> <span class="n">clid_column</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">obj_id_column</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.filterCollev.filter" class="doc doc-heading">
            <code class="highlight language-python"><span class="nb">filter</span><span class="p">(</span><span class="n">min_duration</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">min_total_size</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.filterCollev.filter" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Filter collective events.</p>
<p>Method to filter collective events according to the
parameters specified in the object instance.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>min_duration</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimal duration of collective events to be selected.</p>
              </div>
            </td>
            <td>
                  <code>9</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_total_size</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimal total size of collective events to be selected.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- coll_duration (int): Deprecated. Use min_duration instead.
- coll_total_size (int): Deprecated. Use min_total_size instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Returns pandas dataframe containing filtered collective events</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_filter_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">9</span><span class="p">,</span> <span class="n">min_total_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Filter collective events.</span>

<span class="sd">    Method to filter collective events according to the</span>
<span class="sd">    parameters specified in the object instance.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        min_duration (int): Minimal duration of collective events to be selected.</span>
<span class="sd">        min_total_size (int): Minimal total size of collective events to be selected.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - coll_duration (int): Deprecated. Use min_duration instead.</span>
<span class="sd">            - coll_total_size (int): Deprecated. Use min_total_size instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">         Returns pandas dataframe containing filtered collective events</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;coll_duration&quot;</span><span class="p">:</span> <span class="s2">&quot;min_duration&quot;</span><span class="p">,</span>
        <span class="s2">&quot;coll_total_size&quot;</span><span class="p">:</span> <span class="s2">&quot;min_total_size&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">min_duration</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_duration&quot;</span><span class="p">,</span> <span class="n">min_duration</span><span class="p">)</span>
    <span class="n">min_total_size</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_total_size&quot;</span><span class="p">,</span> <span class="n">min_total_size</span><span class="p">)</span>

    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
    <span class="n">stats</span> <span class="o">=</span> <span class="n">calcCollevStats</span><span class="p">()</span>
    <span class="n">stats_df</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">calculate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_id_column</span><span class="p">)</span>

    <span class="n">filtered_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_filter_collev</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span>
        <span class="n">clid_stats</span><span class="o">=</span><span class="n">stats_df</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clid_column</span><span class="p">,</span>
        <span class="n">min_duration</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
        <span class="n">min_total_size</span><span class="o">=</span><span class="n">min_total_size</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">filtered_df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="arcos4py.tools.interpolation" class="doc doc-heading">
              <code class="highlight language-python"><span class="n">interpolation</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

<a href="#arcos4py.tools.interpolation" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">


      <p>Interpolate nan values in a numpy array.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="arcos4py.tools.interpolation.data">data</span></code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Where NaN should be replaced with interpolated values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

      <p>Uses pandas.interpolate with liner interpolation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Where NaN should be replaced with interpolated values.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

                  <details class="quote">
                    <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
                    <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolate nan values in a pandas dataframe.</span>

<span class="sd">    Uses pandas.interpolate with liner interpolation.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (DataFrame): Where NaN should be replaced with interpolated values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span>
</code></pre></div></td></tr></table></div>
                  </details>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h4 id="arcos4py.tools.interpolation.interpolate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">interpolate</span><span class="p">()</span></code>

<a href="#arcos4py.tools.interpolation.interpolate" class="headerlink" title="Permanent link">&para;</a></h4>


    <div class="doc doc-contents ">

      <p>Interpolate nan and missing values.</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Interpolated input data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">interpolate</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Interpolate nan and missing values.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame: Interpolated input data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">interpolate</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h3 id="arcos4py.tools.calculate_statistics" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_statistics</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.calculate_statistics" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Calculate summary statistics for collective events based on the entire duration of each event.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input data containing information on the collective events.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the frame numbers.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the collective event IDs.</p>
              </div>
            </td>
            <td>
                  <code>&#39;collid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the object IDs. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names representing the position coordinates. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- collid_column (str): Deprecated. Use clid_column instead.
- pos_columns (List[str], optional): Deprecated. Use position_columns instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the summary statistics of the collective events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="statistics-calculated" open>
  <summary>Statistics Calculated</summary>
  <ul>
<li>collid: The unique ID representing each collective event.</li>
<li>duration: The duration of each event, calculated as the difference between the maximum
    and minimum frame values plus one.</li>
<li>first_timepoint, last_timepoint: The first and last frames in which each event occurs.</li>
<li>total_size: The total number of unique objects involved in each event
    (calculated if obj_id_column is provided).</li>
<li>min_size, max_size: The minimum and maximum size of each event,
    defined as the number of objects in the event's smallest and largest frames, respectively.</li>
<li>first_frame_centroid_x, first_frame_centroid_y, last_frame_centroid_x, last_frame_centroid_y:
    The x and y coordinates of the centroid of all objects in the first and last frames of each event
    (calculated if posCol is provided).</li>
<li>centroid_speed: The speed of the centroid, calculated as the distance between
    the first and last frame centroids divided by the duration (calculated if posCol is provided).</li>
<li>direction: The direction of motion of the centroid, calculated as the arctangent of the change in y divided
    the change in x (calculated if posCol is provided).</li>
<li>first_frame_spatial_extent, last_frame_spatial_extent: The maximum distance between any pair of objects in the
first and last frames (calculated if posCol is provided).</li>
<li>first_frame_convex_hull_area, last_frame_convex_hull_area: The areas of the convex hulls enclosing all objects
    in the first and last frames (calculated if posCol is provided).</li>
<li>size_variability: The standard deviation of the event size over all frames, providing a measure of the
    variability in the size of the event over time (calculated if obj_id_column is provided).</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_statistics</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;frame&quot;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate summary statistics for collective events based on the entire duration of each event.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.DataFrame): Input data containing information on the collective events.</span>
<span class="sd">        frame_column (str): The column name representing the frame numbers.</span>
<span class="sd">        clid_column (str): The column name representing the collective event IDs.</span>
<span class="sd">        obj_id_column (str, optional): The column name representing the object IDs. Defaults to None.</span>
<span class="sd">        position_columns (List[str], optional): List of column names representing the position coordinates. Defaults to None.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - collid_column (str): Deprecated. Use clid_column instead.</span>
<span class="sd">            - pos_columns (List[str], optional): Deprecated. Use position_columns instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the summary statistics of the collective events.</span>

<span class="sd">    Statistics Calculated:</span>
<span class="sd">        - collid: The unique ID representing each collective event.</span>
<span class="sd">        - duration: The duration of each event, calculated as the difference between the maximum</span>
<span class="sd">            and minimum frame values plus one.</span>
<span class="sd">        - first_timepoint, last_timepoint: The first and last frames in which each event occurs.</span>
<span class="sd">        - total_size: The total number of unique objects involved in each event</span>
<span class="sd">            (calculated if obj_id_column is provided).</span>
<span class="sd">        - min_size, max_size: The minimum and maximum size of each event,</span>
<span class="sd">            defined as the number of objects in the event&#39;s smallest and largest frames, respectively.</span>
<span class="sd">        - first_frame_centroid_x, first_frame_centroid_y, last_frame_centroid_x, last_frame_centroid_y:</span>
<span class="sd">            The x and y coordinates of the centroid of all objects in the first and last frames of each event</span>
<span class="sd">            (calculated if posCol is provided).</span>
<span class="sd">        - centroid_speed: The speed of the centroid, calculated as the distance between</span>
<span class="sd">            the first and last frame centroids divided by the duration (calculated if posCol is provided).</span>
<span class="sd">        - direction: The direction of motion of the centroid, calculated as the arctangent of the change in y divided</span>
<span class="sd">            the change in x (calculated if posCol is provided).</span>
<span class="sd">        - first_frame_spatial_extent, last_frame_spatial_extent: The maximum distance between any pair of objects in the</span>
<span class="sd">        first and last frames (calculated if posCol is provided).</span>
<span class="sd">        - first_frame_convex_hull_area, last_frame_convex_hull_area: The areas of the convex hulls enclosing all objects</span>
<span class="sd">            in the first and last frames (calculated if posCol is provided).</span>
<span class="sd">        - size_variability: The standard deviation of the event size over all frames, providing a measure of the</span>
<span class="sd">            variability in the size of the event over time (calculated if obj_id_column is provided).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;collid_column&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pos_columns&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">clid_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clid_column&quot;</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_columns&quot;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>

    <span class="c1"># Error handling: Check if necessary columns are present in the input data</span>
    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The input data is empty.&quot;</span><span class="p">)</span>
    <span class="n">necessary_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">obj_id_column</span><span class="p">:</span>
        <span class="n">necessary_columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj_id_column</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">position_columns</span><span class="p">:</span>
        <span class="n">necessary_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">necessary_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The column &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39; is not present in the input data.&quot;</span><span class="p">)</span>

    <span class="n">collid_groups</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">clid_column</span><span class="p">)</span>

    <span class="c1"># Initialize an empty list to store the statistics</span>
    <span class="n">stats_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">collid</span><span class="p">,</span> <span class="n">group_data</span> <span class="ow">in</span> <span class="n">collid_groups</span><span class="p">:</span>

        <span class="n">collid_stats</span> <span class="o">=</span> <span class="p">{</span><span class="n">clid_column</span><span class="p">:</span> <span class="n">collid</span><span class="p">}</span>

        <span class="c1"># Grouping by collid_column to get initial statistics</span>
        <span class="n">duration</span> <span class="o">=</span> <span class="n">group_data</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">-</span> <span class="n">group_data</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">duration</span>
        <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;first_timepoint&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">group_data</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;last_timepoint&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">group_data</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

        <span class="c1"># If obj_id_column is provided, calculate size related stats</span>
        <span class="k">if</span> <span class="n">obj_id_column</span><span class="p">:</span>
            <span class="n">total_size</span> <span class="o">=</span> <span class="n">group_data</span><span class="p">[</span><span class="n">obj_id_column</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>

            <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;total_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">total_size</span>

        <span class="c1"># calculate min and max size based on the number of objects in each frame</span>
        <span class="n">frame_size_stats</span> <span class="o">=</span> <span class="n">group_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">frame_column</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
        <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;min_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame_size_stats</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
        <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;max_size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">frame_size_stats</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

        <span class="c1"># If posCol is provided, calculate centroid coordinates for the</span>
        <span class="k">if</span> <span class="n">position_columns</span><span class="p">:</span>
            <span class="n">tp_1</span> <span class="o">=</span> <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;first_timepoint&#39;</span><span class="p">]</span>
            <span class="n">tp_2</span> <span class="o">=</span> <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;last_timepoint&#39;</span><span class="p">]</span>

            <span class="n">centroid_data</span> <span class="o">=</span> <span class="n">group_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">frame_column</span><span class="p">)[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>

            <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">position_columns</span><span class="p">:</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">centroid_data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">frame_column</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">tp_1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)[</span>
                    <span class="n">col</span>
                <span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">centroid_data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">frame_column</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">tp_2</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)[</span>
                    <span class="n">col</span>
                <span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># Calculate speed and direction</span>
            <span class="n">speed</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span>
                <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span><span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">position_columns</span><span class="p">])</span>
                <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">column_stack</span><span class="p">([</span><span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">position_columns</span><span class="p">]),</span>
                <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
            <span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

            <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;centroid_speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">speed</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

            <span class="c1"># Direction For 2D data</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span>
                    <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                    <span class="o">-</span> <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span>
                    <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                    <span class="o">-</span> <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="c1"># Direction For 3D data</span>
            <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                    <span class="o">-</span> <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="n">dy</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                    <span class="o">-</span> <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                <span class="p">)</span>
                <span class="n">dz</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;last_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                    <span class="o">-</span> <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;first_frame_centroid_</span><span class="si">{</span><span class="n">position_columns</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span>
                <span class="p">)</span>

                <span class="c1"># Calculate azimuth and elevation</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;azimuth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">dy</span><span class="p">,</span> <span class="n">dx</span><span class="p">)</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="s1">&#39;elevation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span><span class="n">dz</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">dx</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">dy</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Position columns can only be 2 or 3.&quot;</span><span class="p">)</span>

            <span class="c1"># Loop over first and last frames separately to calculate the spatial extent and convex hull area</span>
            <span class="k">for</span> <span class="n">frame_name</span><span class="p">,</span> <span class="n">frame_number</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="s1">&#39;first_frame&#39;</span><span class="p">,</span> <span class="s1">&#39;last_frame&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">tp_1</span><span class="p">,</span> <span class="n">tp_2</span><span class="p">]):</span>
                <span class="c1"># Get data for either the first or last frame</span>
                <span class="n">frame_data</span> <span class="o">=</span> <span class="n">group_data</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">frame_column</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">frame_number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

                <span class="c1"># Calculate spatial extent</span>
                <span class="n">spatial_extent</span> <span class="o">=</span> <span class="n">pdist</span><span class="p">(</span><span class="n">frame_data</span><span class="p">[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frame_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">frame_name</span><span class="si">}</span><span class="s1">_spatial_extent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spatial_extent</span>

                <span class="c1"># Calculate convex hull area</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">convex_hull_area</span> <span class="o">=</span> <span class="p">(</span>
                        <span class="n">ConvexHull</span><span class="p">(</span><span class="n">frame_data</span><span class="p">[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span>
                        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">frame_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span>
                        <span class="k">else</span> <span class="mi">0</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="n">QhullError</span><span class="p">:</span>
                    <span class="n">convex_hull_area</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">collid_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">frame_name</span><span class="si">}</span><span class="s1">_convex_hull_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convex_hull_area</span>

        <span class="n">stats_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">collid_stats</span><span class="p">)</span>

    <span class="c1"># Create a DataFrame from the list of statistics</span>
    <span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">stats_list</span><span class="p">)</span>

    <span class="c1"># Calculate size variability</span>
    <span class="k">if</span> <span class="n">obj_id_column</span><span class="p">:</span>
        <span class="c1"># Calculating size for each collid and frame</span>
        <span class="n">frame_size_stats</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">clid_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">])[</span><span class="n">obj_id_column</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;size&#39;</span><span class="p">)</span>
        <span class="n">size_variability</span> <span class="o">=</span> <span class="n">frame_size_stats</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">clid_column</span><span class="p">)[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;size_variability&#39;</span><span class="p">)</span>
        <span class="n">stats_df</span> <span class="o">=</span> <span class="n">stats_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">size_variability</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">clid_column</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">stats_df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.tools.calculate_statistics_per_frame" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_statistics_per_frame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.calculate_statistics_per_frame" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Calculate summary statistics for collective events based on the entire duration of each event.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input data containing information on the collective events.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the frame numbers.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column name representing the collective event IDs.</p>
              </div>
            </td>
            <td>
                  <code>&#39;collid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names representing the position coordinates. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- collid_column (str): Deprecated. Use clid_column instead.
- pos_columns (List[str], optional): Deprecated. Use position_columns instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: A DataFrame containing the summary statistics of the collective events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="statistics-calculated" open>
  <summary>Statistics Calculated</summary>
  <ul>
<li>collid: The unique ID representing each collective event.</li>
<li>frame: The frame number.</li>
<li>size: The number of objects in the collective event</li>
<li>centroid_x, centroid_y: The x and y coordinates of the centroid of all objects in the collective event
    (calculated if pos_columns is provided).</li>
<li>spatial_extent: The maximum distance between any pair of objects in the collective event
    (calculated if pos_columns is provided).</li>
<li>convex_hull_area: The area of the convex hull enclosing all objects in the collective event
    (calculated if pos_columns is provided).</li>
<li>direction: The direction of motion of the centroid, calculated as the arctangent of the change in y divided
    the change in x (calculated if pos_columns is provided).</li>
<li>centroid_speed: The speed of the centroid, calculated as the norm of the change
    in x and y divided by the duration (calculated if pos_columns is provided).</li>
</ul>
</details>
            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_stats.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_statistics_per_frame</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;frame&quot;</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate summary statistics for collective events based on the entire duration of each event.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.DataFrame): Input data containing information on the collective events.</span>
<span class="sd">        frame_column (str): The column name representing the frame numbers.</span>
<span class="sd">        clid_column (str): The column name representing the collective event IDs.</span>
<span class="sd">        position_columns (List[str], optional): List of column names representing the position coordinates. Defaults to None.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - collid_column (str): Deprecated. Use clid_column instead.</span>
<span class="sd">            - pos_columns (List[str], optional): Deprecated. Use position_columns instead.</span>


<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: A DataFrame containing the summary statistics of the collective events.</span>

<span class="sd">    Statistics Calculated:</span>
<span class="sd">        - collid: The unique ID representing each collective event.</span>
<span class="sd">        - frame: The frame number.</span>
<span class="sd">        - size: The number of objects in the collective event</span>
<span class="sd">        - centroid_x, centroid_y: The x and y coordinates of the centroid of all objects in the collective event</span>
<span class="sd">            (calculated if pos_columns is provided).</span>
<span class="sd">        - spatial_extent: The maximum distance between any pair of objects in the collective event</span>
<span class="sd">            (calculated if pos_columns is provided).</span>
<span class="sd">        - convex_hull_area: The area of the convex hull enclosing all objects in the collective event</span>
<span class="sd">            (calculated if pos_columns is provided).</span>
<span class="sd">        - direction: The direction of motion of the centroid, calculated as the arctangent of the change in y divided</span>
<span class="sd">            the change in x (calculated if pos_columns is provided).</span>
<span class="sd">        - centroid_speed: The speed of the centroid, calculated as the norm of the change</span>
<span class="sd">            in x and y divided by the duration (calculated if pos_columns is provided).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;collid_column&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pos_columns&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">clid_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clid_column&quot;</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_columns&quot;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">data</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The input data is empty.&quot;</span><span class="p">)</span>
    <span class="n">necessary_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">position_columns</span><span class="p">:</span>
        <span class="n">necessary_columns</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">necessary_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span> <span class="ow">and</span> <span class="n">col</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The column &#39;</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s2">&#39; is not present in the input data.&quot;</span><span class="p">)</span>

    <span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">frame_column</span><span class="p">:</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">:</span> <span class="n">clid_column</span><span class="p">})</span>
    <span class="n">collid_groups</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">])</span>
    <span class="n">stats_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">collid</span><span class="p">),</span> <span class="n">group_data</span> <span class="ow">in</span> <span class="n">collid_groups</span><span class="p">:</span>

        <span class="n">frame_stats</span> <span class="o">=</span> <span class="p">{</span><span class="n">clid_column</span><span class="p">:</span> <span class="n">collid</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">:</span> <span class="n">frame</span><span class="p">}</span>

        <span class="n">frame_stats</span><span class="p">[</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">group_data</span><span class="o">.</span><span class="n">count</span><span class="p">()[</span><span class="n">frame_column</span><span class="p">]</span>

        <span class="c1"># If pos_columns are provided, calculate spatial statistics for this frame</span>
        <span class="k">if</span> <span class="n">position_columns</span><span class="p">:</span>
            <span class="c1"># Calculate centroid</span>
            <span class="n">centroid</span> <span class="o">=</span> <span class="n">group_data</span><span class="p">[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">pos_col</span><span class="p">,</span> <span class="n">cent_val</span> <span class="ow">in</span> <span class="n">centroid</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">frame_stats</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;centroid_</span><span class="si">{</span><span class="n">pos_col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cent_val</span>

            <span class="c1"># Calculate spatial extent</span>
            <span class="n">spatial_extent</span> <span class="o">=</span> <span class="n">pdist</span><span class="p">(</span><span class="n">group_data</span><span class="p">[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">group_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>
            <span class="n">frame_stats</span><span class="p">[</span><span class="s1">&#39;spatial_extent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spatial_extent</span>

            <span class="c1"># Calculate convex hull area</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">convex_hull_area</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">ConvexHull</span><span class="p">(</span><span class="n">group_data</span><span class="p">[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">group_data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span>
                    <span class="k">else</span> <span class="mi">0</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="n">QhullError</span><span class="p">:</span>
                <span class="n">convex_hull_area</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">frame_stats</span><span class="p">[</span><span class="s1">&#39;convex_hull_area&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">convex_hull_area</span>

        <span class="n">stats_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame_stats</span><span class="p">)</span>

    <span class="c1"># Create a DataFrame from the list of statistics</span>
    <span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">stats_list</span><span class="p">)</span>

    <span class="c1"># If pos_columns are provided, we can calculate speed and direction by looking at changes between frames</span>
    <span class="k">if</span> <span class="n">position_columns</span><span class="p">:</span>
        <span class="n">stats_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="n">clid_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">position_columns</span><span class="p">):</span>
            <span class="n">stats_df</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;delta_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">clid_column</span><span class="p">)[</span><span class="sa">f</span><span class="s1">&#39;centroid_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>

        <span class="c1"># Calculate speed (the norm of the delta vector)</span>
        <span class="n">stats_df</span><span class="p">[</span><span class="s1">&#39;centroid_speed&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span>
            <span class="n">stats_df</span><span class="p">[[</span><span class="sa">f</span><span class="s1">&#39;delta_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">position_columns</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span>
        <span class="p">)</span>

        <span class="c1"># Calculate direction (only for 2D)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">stats_df</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arctan2</span><span class="p">(</span>
                <span class="n">stats_df</span><span class="p">[</span><span class="s1">&#39;delta_&#39;</span> <span class="o">+</span> <span class="n">position_columns</span><span class="p">[</span><span class="mi">1</span><span class="p">]],</span> <span class="n">stats_df</span><span class="p">[</span><span class="s1">&#39;delta_&#39;</span> <span class="o">+</span> <span class="n">position_columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
            <span class="p">)</span>

        <span class="c1"># Clean up temporary delta columns</span>
        <span class="n">stats_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;delta_</span><span class="si">{</span><span class="n">col</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">position_columns</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">stats_df</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.tools.estimate_eps" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">estimate_eps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;kneepoint&#39;</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plt_size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">max_samples</span><span class="o">=</span><span class="mi">50000</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.estimate_eps" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Estimates eps parameter in DBSCAN.</p>
<p>Estimates the eps parameter for the DBSCAN clustering method, as used by ARCOS,
by calculating the nearest neighbour distances for each point in the data.
N_neighbours should be chosen to match the minimum point size in DBSCAN
or the minimum clustersize in detect_events respectively.
The method argument determines how the eps parameter is estimated.
'kneepoint' estimates the knee of the nearest neighbour distribution.
'mean' and 'median' return (by default) 1.5 times
the mean or median of the nearest neighbour distances respectively.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing the data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Method to use for estimating eps. Defaults to 'kneepoint'.
Can be one of ['kneepoint', 'mean', 'median'].'kneepoint' estimates the knee of the nearest neighbour
distribution to to estimate eps. 'mean' and 'median' use the 1.5 times the mean or median of the
nearest neighbour distances respectively.</p>
              </div>
            </td>
            <td>
                  <code>&#39;kneepoint&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names containing the position data.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x,y&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the frame number. Defaults to 't'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;t&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_neighbors</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of nearest neighbours to consider. Defaults to 5.</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plot</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to plot the results. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plt_size</code></td>
            <td>
                  <code>tuple[int, int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of the plot. Defaults to (5, 5).</p>
              </div>
            </td>
            <td>
                  <code>(5, 5)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Keyword arguments for the method. Modify behaviour of respecitve method.
For kneepoint: [S online, curve, direction, interp_method,polynomial_degree; For mean: [mean_multiplier]
For median [median_multiplier]</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Eps</code></td>            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>eps parameter for DBSCAN.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">2170</span>
<span class="normal">2171</span>
<span class="normal">2172</span>
<span class="normal">2173</span>
<span class="normal">2174</span>
<span class="normal">2175</span>
<span class="normal">2176</span>
<span class="normal">2177</span>
<span class="normal">2178</span>
<span class="normal">2179</span>
<span class="normal">2180</span>
<span class="normal">2181</span>
<span class="normal">2182</span>
<span class="normal">2183</span>
<span class="normal">2184</span>
<span class="normal">2185</span>
<span class="normal">2186</span>
<span class="normal">2187</span>
<span class="normal">2188</span>
<span class="normal">2189</span>
<span class="normal">2190</span>
<span class="normal">2191</span>
<span class="normal">2192</span>
<span class="normal">2193</span>
<span class="normal">2194</span>
<span class="normal">2195</span>
<span class="normal">2196</span>
<span class="normal">2197</span>
<span class="normal">2198</span>
<span class="normal">2199</span>
<span class="normal">2200</span>
<span class="normal">2201</span>
<span class="normal">2202</span>
<span class="normal">2203</span>
<span class="normal">2204</span>
<span class="normal">2205</span>
<span class="normal">2206</span>
<span class="normal">2207</span>
<span class="normal">2208</span>
<span class="normal">2209</span>
<span class="normal">2210</span>
<span class="normal">2211</span>
<span class="normal">2212</span>
<span class="normal">2213</span>
<span class="normal">2214</span>
<span class="normal">2215</span>
<span class="normal">2216</span>
<span class="normal">2217</span>
<span class="normal">2218</span>
<span class="normal">2219</span>
<span class="normal">2220</span>
<span class="normal">2221</span>
<span class="normal">2222</span>
<span class="normal">2223</span>
<span class="normal">2224</span>
<span class="normal">2225</span>
<span class="normal">2226</span>
<span class="normal">2227</span>
<span class="normal">2228</span>
<span class="normal">2229</span>
<span class="normal">2230</span>
<span class="normal">2231</span>
<span class="normal">2232</span>
<span class="normal">2233</span>
<span class="normal">2234</span>
<span class="normal">2235</span>
<span class="normal">2236</span>
<span class="normal">2237</span>
<span class="normal">2238</span>
<span class="normal">2239</span>
<span class="normal">2240</span>
<span class="normal">2241</span>
<span class="normal">2242</span>
<span class="normal">2243</span>
<span class="normal">2244</span>
<span class="normal">2245</span>
<span class="normal">2246</span>
<span class="normal">2247</span>
<span class="normal">2248</span>
<span class="normal">2249</span>
<span class="normal">2250</span>
<span class="normal">2251</span>
<span class="normal">2252</span>
<span class="normal">2253</span>
<span class="normal">2254</span>
<span class="normal">2255</span>
<span class="normal">2256</span>
<span class="normal">2257</span>
<span class="normal">2258</span>
<span class="normal">2259</span>
<span class="normal">2260</span>
<span class="normal">2261</span>
<span class="normal">2262</span>
<span class="normal">2263</span>
<span class="normal">2264</span>
<span class="normal">2265</span>
<span class="normal">2266</span>
<span class="normal">2267</span>
<span class="normal">2268</span>
<span class="normal">2269</span>
<span class="normal">2270</span>
<span class="normal">2271</span>
<span class="normal">2272</span>
<span class="normal">2273</span>
<span class="normal">2274</span>
<span class="normal">2275</span>
<span class="normal">2276</span>
<span class="normal">2277</span>
<span class="normal">2278</span>
<span class="normal">2279</span>
<span class="normal">2280</span>
<span class="normal">2281</span>
<span class="normal">2282</span>
<span class="normal">2283</span>
<span class="normal">2284</span>
<span class="normal">2285</span>
<span class="normal">2286</span>
<span class="normal">2287</span>
<span class="normal">2288</span>
<span class="normal">2289</span>
<span class="normal">2290</span>
<span class="normal">2291</span>
<span class="normal">2292</span>
<span class="normal">2293</span>
<span class="normal">2294</span>
<span class="normal">2295</span>
<span class="normal">2296</span>
<span class="normal">2297</span>
<span class="normal">2298</span>
<span class="normal">2299</span>
<span class="normal">2300</span>
<span class="normal">2301</span>
<span class="normal">2302</span>
<span class="normal">2303</span>
<span class="normal">2304</span>
<span class="normal">2305</span>
<span class="normal">2306</span>
<span class="normal">2307</span>
<span class="normal">2308</span>
<span class="normal">2309</span>
<span class="normal">2310</span>
<span class="normal">2311</span>
<span class="normal">2312</span>
<span class="normal">2313</span>
<span class="normal">2314</span>
<span class="normal">2315</span>
<span class="normal">2316</span>
<span class="normal">2317</span>
<span class="normal">2318</span>
<span class="normal">2319</span>
<span class="normal">2320</span>
<span class="normal">2321</span>
<span class="normal">2322</span>
<span class="normal">2323</span>
<span class="normal">2324</span>
<span class="normal">2325</span>
<span class="normal">2326</span>
<span class="normal">2327</span>
<span class="normal">2328</span>
<span class="normal">2329</span>
<span class="normal">2330</span>
<span class="normal">2331</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">estimate_eps</span><span class="p">(</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;kneepoint&#39;</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x,y&#39;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span>
    <span class="n">n_neighbors</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">plot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">plt_size</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>
    <span class="n">max_samples</span><span class="o">=</span><span class="mi">50_000</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Estimates eps parameter in DBSCAN.</span>

<span class="sd">    Estimates the eps parameter for the DBSCAN clustering method, as used by ARCOS,</span>
<span class="sd">    by calculating the nearest neighbour distances for each point in the data.</span>
<span class="sd">    N_neighbours should be chosen to match the minimum point size in DBSCAN</span>
<span class="sd">    or the minimum clustersize in detect_events respectively.</span>
<span class="sd">    The method argument determines how the eps parameter is estimated.</span>
<span class="sd">    &#39;kneepoint&#39; estimates the knee of the nearest neighbour distribution.</span>
<span class="sd">    &#39;mean&#39; and &#39;median&#39; return (by default) 1.5 times</span>
<span class="sd">    the mean or median of the nearest neighbour distances respectively.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.DataFrame): DataFrame containing the data.</span>
<span class="sd">        method (str, optional): Method to use for estimating eps. Defaults to &#39;kneepoint&#39;.</span>
<span class="sd">            Can be one of [&#39;kneepoint&#39;, &#39;mean&#39;, &#39;median&#39;].&#39;kneepoint&#39; estimates the knee of the nearest neighbour</span>
<span class="sd">            distribution to to estimate eps. &#39;mean&#39; and &#39;median&#39; use the 1.5 times the mean or median of the</span>
<span class="sd">            nearest neighbour distances respectively.</span>
<span class="sd">        position_columns (list[str]): List of column names containing the position data.</span>
<span class="sd">        frame_column (str, optional): Name of the column containing the frame number. Defaults to &#39;t&#39;.</span>
<span class="sd">        n_neighbors (int, optional): Number of nearest neighbours to consider. Defaults to 5.</span>
<span class="sd">        plot (bool, optional): Whether to plot the results. Defaults to True.</span>
<span class="sd">        plt_size (tuple[int, int], optional): Size of the plot. Defaults to (5, 5).</span>
<span class="sd">        kwargs (Any): Keyword arguments for the method. Modify behaviour of respecitve method.</span>
<span class="sd">            For kneepoint: [S online, curve, direction, interp_method,polynomial_degree; For mean: [mean_multiplier]</span>
<span class="sd">            For median [median_multiplier]</span>

<span class="sd">    Returns:</span>
<span class="sd">        Eps (float): eps parameter for DBSCAN.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">method_option</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;kneepoint&#39;</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">,</span> <span class="s1">&#39;median&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">method_option</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Method must be one of </span><span class="si">{</span><span class="n">method_option</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">allowedtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;kneepoint&#39;</span><span class="p">:</span> <span class="s1">&#39;kneepoint_values&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mean&#39;</span><span class="p">:</span> <span class="s1">&#39;mean_values&#39;</span><span class="p">,</span>
        <span class="s1">&#39;median&#39;</span><span class="p">:</span> <span class="s1">&#39;median_values&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">kwdefaults</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s1">&#39;online&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="s1">&#39;curve&#39;</span><span class="p">:</span> <span class="s1">&#39;convex&#39;</span><span class="p">,</span>
        <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="s1">&#39;increasing&#39;</span><span class="p">,</span>
        <span class="s1">&#39;interp_method&#39;</span><span class="p">:</span> <span class="s1">&#39;polynomial&#39;</span><span class="p">,</span>
        <span class="s1">&#39;mean_multiplier&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="s1">&#39;median_multiplier&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span>
        <span class="s1">&#39;polynomial_degree&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">kwtypes</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;S&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s1">&#39;online&#39;</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="s1">&#39;curve&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;direction&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;interp_method&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="s1">&#39;polynomial_degree&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="s1">&#39;mean_multiplier&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span>
        <span class="s1">&#39;median_multiplier&#39;</span><span class="p">:</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">int</span><span class="p">),</span>
        <span class="s1">&#39;pos_cols&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="s1">&#39;frame_col&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">allowedkwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;kneepoint_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">,</span> <span class="s1">&#39;online&#39;</span><span class="p">,</span> <span class="s1">&#39;curve&#39;</span><span class="p">,</span> <span class="s1">&#39;interp_method&#39;</span><span class="p">,</span> <span class="s1">&#39;direction&#39;</span><span class="p">,</span> <span class="s1">&#39;polynomial_degree&#39;</span><span class="p">],</span>
        <span class="s1">&#39;mean_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mean_multiplier&#39;</span><span class="p">],</span>
        <span class="s1">&#39;median_values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;median_multiplier&#39;</span><span class="p">],</span>
    <span class="p">}</span>

    <span class="n">map_deprecated_parameters</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;pos_cols&#39;</span><span class="p">:</span> <span class="s1">&#39;position_columns&#39;</span><span class="p">,</span>
        <span class="s1">&#39;frame_col&#39;</span><span class="p">:</span> <span class="s1">&#39;frame_column&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowedkwargs</span><span class="p">[</span><span class="n">allowedtypes</span><span class="p">[</span><span class="n">method</span><span class="p">]]</span> <span class="ow">and</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_deprecated_parameters</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1"> keyword not in allowed keywords </span><span class="si">{</span><span class="n">allowedkwargs</span><span class="p">[</span><span class="n">allowedtypes</span><span class="p">[</span><span class="n">method</span><span class="p">]]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">],</span> <span class="n">kwtypes</span><span class="p">[</span><span class="n">key</span><span class="p">]):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1"> must be of type </span><span class="si">{</span><span class="n">kwtypes</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Set kwarg defaults</span>
    <span class="k">for</span> <span class="n">kw</span> <span class="ow">in</span> <span class="n">allowedkwargs</span><span class="p">[</span><span class="n">allowedtypes</span><span class="p">[</span><span class="n">method</span><span class="p">]]:</span>
        <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">kw</span><span class="p">,</span> <span class="n">kwdefaults</span><span class="p">[</span><span class="n">kw</span><span class="p">])</span>

    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_parameters</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># assign parameters</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;position_columns&#39;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>  <span class="c1"># type: ignore</span>
    <span class="n">frame_column</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;frame_column&#39;</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">)</span>  <span class="c1"># type: ignore</span>

    <span class="c1"># remove deprecated parameters</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">map_deprecated_parameters</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
            <span class="k">del</span> <span class="n">kwargs</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">]</span> <span class="o">+</span> <span class="n">position_columns</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">subset</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Column </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> not in data&quot;</span><span class="p">)</span>

    <span class="n">subset</span> <span class="o">=</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">]</span> <span class="o">+</span> <span class="n">position_columns</span>
    <span class="n">data_np</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">subset</span><span class="p">]</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
    <span class="c1"># sort by frame</span>
    <span class="n">data_np</span> <span class="o">=</span> <span class="n">data_np</span><span class="p">[</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">argsort</span><span class="p">()]</span>
    <span class="n">grouped_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">:],</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">data_np</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:])</span>
    <span class="c1"># map nearest_neighbours to grouped_array</span>
    <span class="n">distances</span> <span class="o">=</span> <span class="p">[</span><span class="n">_nearest_neighbour_eps</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n_neighbors</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">grouped_array</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">n_neighbors</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">distances</span><span class="p">:</span>
        <span class="n">distances_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">distances_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span>
    <span class="c1"># flatten array</span>
    <span class="n">distances_flat</span> <span class="o">=</span> <span class="n">distances_array</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="n">distances_flat</span> <span class="o">=</span> <span class="n">distances_flat</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">isfinite</span><span class="p">(</span><span class="n">distances_flat</span><span class="p">)]</span>
    <span class="n">distances_flat_selection</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
        <span class="n">distances_flat</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">max_samples</span><span class="p">,</span> <span class="n">distances_flat</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span>
    <span class="p">)</span>
    <span class="n">distances_sorted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">distances_flat_selection</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">distances_sorted</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;No valid distances found, please check input data.&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;kneepoint&#39;</span><span class="p">:</span>
        <span class="n">k1</span> <span class="o">=</span> <span class="n">KneeLocator</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">distances_sorted</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span>
            <span class="n">distances_sorted</span><span class="p">,</span>
            <span class="n">S</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;S&#39;</span><span class="p">],</span>
            <span class="n">online</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;online&#39;</span><span class="p">],</span>
            <span class="n">curve</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;curve&#39;</span><span class="p">],</span>
            <span class="n">interp_method</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;interp_method&#39;</span><span class="p">],</span>
            <span class="n">direction</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;direction&#39;</span><span class="p">],</span>
            <span class="n">polynomial_degree</span><span class="o">=</span><span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;polynomial_degree&#39;</span><span class="p">],</span>
        <span class="p">)</span>

        <span class="n">eps</span> <span class="o">=</span> <span class="n">distances_sorted</span><span class="p">[</span><span class="n">k1</span><span class="o">.</span><span class="n">knee</span><span class="p">]</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;mean&#39;</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">distances_sorted</span><span class="p">)</span> <span class="o">*</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;mean_multiplier&#39;</span><span class="p">]</span>

    <span class="k">elif</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
        <span class="n">eps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">distances_sorted</span><span class="p">)</span> <span class="o">*</span> <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;median_multiplier&#39;</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">plt_size</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">distances_sorted</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="n">eps</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Sorted Distance Index&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Nearest Neighbour Distance&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Estimated eps: </span><span class="si">{</span><span class="n">eps</span><span class="si">:</span><span class="s1">.4f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">eps</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.tools.remove_image_background" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_image_background</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">filter_type</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">,</span> <span class="n">crop_time_axis</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#arcos4py.tools.remove_image_background" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Removes background from images. Assumes axis order (t, y, x) for 2d images and (t, z, y, x) for 3d images.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image</code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Image to remove background from.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>filter_type</code></td>
            <td>
                  <code>Union[str, function]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Filter to use to remove background. Can be one of ['median', 'gaussian'].</p>
              </div>
            </td>
            <td>
                  <code>&#39;gaussian&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>size</code></td>
            <td>
                  <code>(int, Tuple)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Size of filter to use. For median filter, this is the size of the window.
For gaussian filter, this is the standard deviation.
If a single int is passed in, it is assumed to be the same for all dimensions.
If a tuple is passed in, it is assumed to correspond to the size of the filter in each dimension.
Default is (10, 1, 1).</p>
              </div>
            </td>
            <td>
                  <code>(10, 1, 1)</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dims</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dimensions to apply filter over. Can be one of ['TXY', 'TZXY']. Default is 'TXY'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;TXY&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>crop_time_axis</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to crop the time axis. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
      <p>Returns (np.ndarray): Image with background removed.
    Along the first axis (t) half of the filter size is removed from the beginning and end respectively.</p>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_cleandata.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_image_background</span><span class="p">(</span>
    <span class="n">image</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">filter_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;gaussian&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">dims</span><span class="o">=</span><span class="s2">&quot;TXY&quot;</span><span class="p">,</span> <span class="n">crop_time_axis</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Removes background from images. Assumes axis order (t, y, x) for 2d images and (t, z, y, x) for 3d images.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        image (np.ndarray): Image to remove background from.</span>
<span class="sd">        filter_type (Union[str, function]): Filter to use to remove background. Can be one of [&#39;median&#39;, &#39;gaussian&#39;].</span>
<span class="sd">        size (int, Tuple): Size of filter to use. For median filter, this is the size of the window.</span>
<span class="sd">            For gaussian filter, this is the standard deviation.</span>
<span class="sd">            If a single int is passed in, it is assumed to be the same for all dimensions.</span>
<span class="sd">            If a tuple is passed in, it is assumed to correspond to the size of the filter in each dimension.</span>
<span class="sd">            Default is (10, 1, 1).</span>
<span class="sd">        dims (str): Dimensions to apply filter over. Can be one of [&#39;TXY&#39;, &#39;TZXY&#39;]. Default is &#39;TXY&#39;.</span>
<span class="sd">        crop_time_axis (bool): Whether to crop the time axis. Default is True.</span>
<span class="sd">    Returns (np.ndarray): Image with background removed.</span>
<span class="sd">        Along the first axis (t) half of the filter size is removed from the beginning and end respectively.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># correct images with a filter applied over time</span>
    <span class="n">allowed_filters</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;median&quot;</span><span class="p">,</span> <span class="s2">&quot;gaussian&quot;</span><span class="p">]</span>
    <span class="n">dims_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">dims</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>

    <span class="c1"># check input</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dims_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dims_list</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid dimension </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. Must be &#39;T&#39;, &#39;X&#39;, &#39;Y&#39;, or &#39;Z&#39;.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dims_list</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">dims_list</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Duplicate dimensions in dims.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dims_list</span><span class="p">)</span> <span class="o">!=</span> <span class="n">image</span><span class="o">.</span><span class="n">ndim</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Length of dims must be equal to number of dimensions in image. Image has </span><span class="si">{</span><span class="n">image</span><span class="o">.</span><span class="n">ndim</span><span class="si">}</span><span class="s2"> dimensions.&quot;</span>
        <span class="p">)</span>
    <span class="c1"># make sure axis dont occur twice and that they are valid</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dims</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">dims</span><span class="p">)):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Dimensions must not occur twice.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">filter_type</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_filters</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Filter type must be one of </span><span class="si">{</span><span class="n">allowed_filters</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>

    <span class="c1"># get index of time axis</span>
    <span class="n">t_idx</span> <span class="o">=</span> <span class="n">dims_list</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>

    <span class="n">orig_image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="n">size</span><span class="p">,)</span> <span class="o">*</span> <span class="n">image</span><span class="o">.</span><span class="n">ndim</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">size</span><span class="p">)</span> <span class="o">!=</span> <span class="n">image</span><span class="o">.</span><span class="n">ndim</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Filter size must have </span><span class="si">{</span><span class="n">image</span><span class="o">.</span><span class="n">ndim</span><span class="si">}</span><span class="s1"> dimensions.&#39;</span><span class="p">)</span>
        <span class="c1"># check size of dimensions are compatible with image</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">size</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s</span> <span class="o">&gt;</span> <span class="n">image</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="n">idx</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Filter size in dimension </span><span class="si">{</span><span class="n">idx</span><span class="si">}</span><span class="s1"> is larger than image size in that dimension.&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Filter size must be an int or tuple.&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">filter_type</span> <span class="o">==</span> <span class="s1">&#39;median&#39;</span><span class="p">:</span>
        <span class="n">filtered</span> <span class="o">=</span> <span class="n">median_filter</span><span class="p">(</span><span class="n">orig_image</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">filter_type</span> <span class="o">==</span> <span class="s1">&#39;gaussian&#39;</span><span class="p">:</span>
        <span class="n">filtered</span> <span class="o">=</span> <span class="n">gaussian_filter</span><span class="p">(</span><span class="n">orig_image</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>

    <span class="c1"># crop time axis if necessary</span>
    <span class="n">shift</span> <span class="o">=</span> <span class="n">size</span><span class="p">[</span><span class="n">t_idx</span><span class="p">]</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">corr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">subtract</span><span class="p">(</span><span class="n">orig_image</span><span class="p">,</span> <span class="n">filtered</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">crop_time_axis</span><span class="p">:</span>
        <span class="n">corr</span> <span class="o">=</span> <span class="n">corr</span><span class="p">[</span><span class="n">shift</span><span class="p">:</span><span class="o">-</span><span class="n">shift</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">corr</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.tools.track_events_dataframe" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_events_dataframe</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">id_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;collid&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">allow_merges</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_splits</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stability_threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">remove_small_clusters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_size_for_split</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg_m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">cost_threshold</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.track_events_dataframe" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Function to track collective events in a dataframe.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>X</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input dataframe containing the data to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code><span title="typing.List">List</span>[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The names of the columns representing coordinates.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column containing frame ids.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>id_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column representing IDs. None if no such column.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarized_measurement_column</code></td>
            <td>
                  <code>str | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the column representing binarized measurements,
if None all measurements are used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The name of the output column representing collective events, will be generated.</p>
              </div>
            </td>
            <td>
                  <code>&#39;collid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for clustering, default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for linking previous clusters, if None, eps is used. Default is None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size. Default is 3.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for linking, one of ['nearest', 'transportsolver']. Default is 'nearest'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_merges</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow merges. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_splits</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow splits. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stability_threshold</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of frames to consider for stability. Default is 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>remove_small_clusters</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to remove small clusters. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_size_for_split</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size for a split. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regularization parameter for transportation solver. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg_m</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Regularization parameter for transportation solver. Default is 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cost_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Cost threshold for transportation solver. Default is 0.</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>predictor</code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to show progress bar. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters for backwards compatibility.
- epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.
- minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.
- minSamples: Deprecated parameter for min_samples. Use min_samples instead.
- clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.
- linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.
- nPrev: Deprecated parameter for n_prev. Use n_prev instead.
- nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.
- showProgress: Deprecated parameter for show_progress. Use show_progress instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: Dataframe with tracked events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1736</span>
<span class="normal">1737</span>
<span class="normal">1738</span>
<span class="normal">1739</span>
<span class="normal">1740</span>
<span class="normal">1741</span>
<span class="normal">1742</span>
<span class="normal">1743</span>
<span class="normal">1744</span>
<span class="normal">1745</span>
<span class="normal">1746</span>
<span class="normal">1747</span>
<span class="normal">1748</span>
<span class="normal">1749</span>
<span class="normal">1750</span>
<span class="normal">1751</span>
<span class="normal">1752</span>
<span class="normal">1753</span>
<span class="normal">1754</span>
<span class="normal">1755</span>
<span class="normal">1756</span>
<span class="normal">1757</span>
<span class="normal">1758</span>
<span class="normal">1759</span>
<span class="normal">1760</span>
<span class="normal">1761</span>
<span class="normal">1762</span>
<span class="normal">1763</span>
<span class="normal">1764</span>
<span class="normal">1765</span>
<span class="normal">1766</span>
<span class="normal">1767</span>
<span class="normal">1768</span>
<span class="normal">1769</span>
<span class="normal">1770</span>
<span class="normal">1771</span>
<span class="normal">1772</span>
<span class="normal">1773</span>
<span class="normal">1774</span>
<span class="normal">1775</span>
<span class="normal">1776</span>
<span class="normal">1777</span>
<span class="normal">1778</span>
<span class="normal">1779</span>
<span class="normal">1780</span>
<span class="normal">1781</span>
<span class="normal">1782</span>
<span class="normal">1783</span>
<span class="normal">1784</span>
<span class="normal">1785</span>
<span class="normal">1786</span>
<span class="normal">1787</span>
<span class="normal">1788</span>
<span class="normal">1789</span>
<span class="normal">1790</span>
<span class="normal">1791</span>
<span class="normal">1792</span>
<span class="normal">1793</span>
<span class="normal">1794</span>
<span class="normal">1795</span>
<span class="normal">1796</span>
<span class="normal">1797</span>
<span class="normal">1798</span>
<span class="normal">1799</span>
<span class="normal">1800</span>
<span class="normal">1801</span>
<span class="normal">1802</span>
<span class="normal">1803</span>
<span class="normal">1804</span>
<span class="normal">1805</span>
<span class="normal">1806</span>
<span class="normal">1807</span>
<span class="normal">1808</span>
<span class="normal">1809</span>
<span class="normal">1810</span>
<span class="normal">1811</span>
<span class="normal">1812</span>
<span class="normal">1813</span>
<span class="normal">1814</span>
<span class="normal">1815</span>
<span class="normal">1816</span>
<span class="normal">1817</span>
<span class="normal">1818</span>
<span class="normal">1819</span>
<span class="normal">1820</span>
<span class="normal">1821</span>
<span class="normal">1822</span>
<span class="normal">1823</span>
<span class="normal">1824</span>
<span class="normal">1825</span>
<span class="normal">1826</span>
<span class="normal">1827</span>
<span class="normal">1828</span>
<span class="normal">1829</span>
<span class="normal">1830</span>
<span class="normal">1831</span>
<span class="normal">1832</span>
<span class="normal">1833</span>
<span class="normal">1834</span>
<span class="normal">1835</span>
<span class="normal">1836</span>
<span class="normal">1837</span>
<span class="normal">1838</span>
<span class="normal">1839</span>
<span class="normal">1840</span>
<span class="normal">1841</span>
<span class="normal">1842</span>
<span class="normal">1843</span>
<span class="normal">1844</span>
<span class="normal">1845</span>
<span class="normal">1846</span>
<span class="normal">1847</span>
<span class="normal">1848</span>
<span class="normal">1849</span>
<span class="normal">1850</span>
<span class="normal">1851</span>
<span class="normal">1852</span>
<span class="normal">1853</span>
<span class="normal">1854</span>
<span class="normal">1855</span>
<span class="normal">1856</span>
<span class="normal">1857</span>
<span class="normal">1858</span>
<span class="normal">1859</span>
<span class="normal">1860</span>
<span class="normal">1861</span>
<span class="normal">1862</span>
<span class="normal">1863</span>
<span class="normal">1864</span>
<span class="normal">1865</span>
<span class="normal">1866</span>
<span class="normal">1867</span>
<span class="normal">1868</span>
<span class="normal">1869</span>
<span class="normal">1870</span>
<span class="normal">1871</span>
<span class="normal">1872</span>
<span class="normal">1873</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_events_dataframe</span><span class="p">(</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">binarized_measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;collid&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">allow_merges</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_splits</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stability_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">remove_small_clusters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">min_size_for_split</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">cost_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to track collective events in a dataframe.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        X (pd.DataFrame): The input dataframe containing the data to track.</span>
<span class="sd">        position_columns (List[str]): The names of the columns representing coordinates.</span>
<span class="sd">        frame_column (str): The name of the column containing frame ids.</span>
<span class="sd">        id_column (str | None): The name of the column representing IDs. None if no such column.</span>
<span class="sd">        binarized_measurement_column (str | None): The name of the column representing binarized measurements,</span>
<span class="sd">            if None all measurements are used.</span>
<span class="sd">        clid_column (str): The name of the output column representing collective events, will be generated.</span>
<span class="sd">        eps (float): Maximum distance for clustering, default is 1.</span>
<span class="sd">        eps_prev (float | None): Maximum distance for linking previous clusters, if None, eps is used. Default is None.</span>
<span class="sd">        min_clustersize (int): Minimum cluster size. Default is 3.</span>
<span class="sd">        min_samples (int): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clustering_method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        linking_method (str): The method used for linking, one of [&#39;nearest&#39;, &#39;transportsolver&#39;]. Default is &#39;nearest&#39;.</span>
<span class="sd">        allow_merges (bool): Whether or not to allow merges. Default is False.</span>
<span class="sd">        allow_splits (bool): Whether or not to allow splits. Default is False.</span>
<span class="sd">        stability_threshold (int): Number of frames to consider for stability. Default is 10.</span>
<span class="sd">        remove_small_clusters (bool): Whether or not to remove small clusters. Default is False.</span>
<span class="sd">        min_size_for_split (int): Minimum size for a split. Default is 1.</span>
<span class="sd">        reg (float): Regularization parameter for transportation solver. Default is 1.</span>
<span class="sd">        reg_m (float): Regularization parameter for transportation solver. Default is 10.</span>
<span class="sd">        cost_threshold (float): Cost threshold for transportation solver. Default is 0.</span>
<span class="sd">        n_prev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters for backwards compatibility.</span>
<span class="sd">            - epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.</span>
<span class="sd">            - minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.</span>
<span class="sd">            - minSamples: Deprecated parameter for min_samples. Use min_samples instead.</span>
<span class="sd">            - clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.</span>
<span class="sd">            - linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.</span>
<span class="sd">            - nPrev: Deprecated parameter for n_prev. Use n_prev instead.</span>
<span class="sd">            - nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.</span>
<span class="sd">            - showProgress: Deprecated parameter for show_progress. Use show_progress instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: Dataframe with tracked events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;coordinates_column&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bin_meas_column&quot;</span><span class="p">:</span> <span class="s2">&quot;binarized_measurement_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;collid_column&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
        <span class="s1">&#39;epsPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minClSz&#39;</span><span class="p">:</span> <span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minSamples&#39;</span><span class="p">:</span> <span class="s1">&#39;min_samples&#39;</span><span class="p">,</span>
        <span class="s1">&#39;clusteringMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;linkingMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;linking_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;n_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nJobs&#39;</span><span class="p">:</span> <span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span>
        <span class="s1">&#39;showProgress&#39;</span><span class="p">:</span> <span class="s1">&#39;show_progress&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check for allowed kwargs</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid keyword argument </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Handle deprecated parameters</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign parameters</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">min_samples</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">)</span>
    <span class="n">clustering_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">)</span>
    <span class="n">linking_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linking_method&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_prev&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>
    <span class="n">n_jobs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>

    <span class="n">linker</span> <span class="o">=</span> <span class="n">Linker</span><span class="p">(</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">eps_prev</span><span class="o">=</span><span class="n">eps_prev</span><span class="p">,</span>
        <span class="n">min_clustersize</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span>
        <span class="n">min_samples</span><span class="o">=</span><span class="n">min_samples</span><span class="p">,</span>
        <span class="n">clustering_method</span><span class="o">=</span><span class="n">clustering_method</span><span class="p">,</span>
        <span class="n">linking_method</span><span class="o">=</span><span class="n">linking_method</span><span class="p">,</span>
        <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
        <span class="n">predictor</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="n">n_jobs</span><span class="p">,</span>
        <span class="n">allow_merges</span><span class="o">=</span><span class="n">allow_merges</span><span class="p">,</span>
        <span class="n">allow_splits</span><span class="o">=</span><span class="n">allow_splits</span><span class="p">,</span>
        <span class="n">stability_threshold</span><span class="o">=</span><span class="n">stability_threshold</span><span class="p">,</span>
        <span class="n">remove_small_clusters</span><span class="o">=</span><span class="n">remove_small_clusters</span><span class="p">,</span>
        <span class="n">min_size_for_split</span><span class="o">=</span><span class="n">min_size_for_split</span><span class="p">,</span>
        <span class="n">reg</span><span class="o">=</span><span class="n">reg</span><span class="p">,</span>
        <span class="n">reg_m</span><span class="o">=</span><span class="n">reg_m</span><span class="p">,</span>
        <span class="n">cost_threshold</span><span class="o">=</span><span class="n">cost_threshold</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">tracker</span> <span class="o">=</span> <span class="n">DataFrameTracker</span><span class="p">(</span>
        <span class="n">linker</span><span class="o">=</span><span class="n">linker</span><span class="p">,</span>
        <span class="n">position_columns</span><span class="o">=</span><span class="n">position_columns</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="o">=</span><span class="n">id_column</span><span class="p">,</span>
        <span class="n">binarized_measurement_column</span><span class="o">=</span><span class="n">binarized_measurement_column</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="o">=</span><span class="n">clid_column</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">df_out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span>
        <span class="p">[</span><span class="n">timepoint</span> <span class="k">for</span> <span class="n">timepoint</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">tracker</span><span class="o">.</span><span class="n">track</span><span class="p">(</span><span class="n">X</span><span class="p">),</span> <span class="n">total</span><span class="o">=</span><span class="n">X</span><span class="p">[</span><span class="n">frame_column</span><span class="p">]</span><span class="o">.</span><span class="n">nunique</span><span class="p">(),</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)]</span>
    <span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">allow_merges</span><span class="p">,</span> <span class="n">allow_splits</span><span class="p">]):</span>
        <span class="k">return</span> <span class="n">df_out</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">clid_column</span><span class="si">}</span><span class="s2"> != -1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">linker</span><span class="o">.</span><span class="n">lineage_tracker</span>
    <span class="k">return</span> <span class="n">df_out</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">clid_column</span><span class="si">}</span><span class="s2"> != -1&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.tools.track_events_image" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">track_events_image</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">clustering_method</span><span class="o">=</span><span class="s1">&#39;dbscan&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">predictor</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linking_method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">,</span> <span class="n">allow_merges</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">allow_splits</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">stability_threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">remove_small_clusters</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_size_for_split</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">reg_m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">cost_threshold</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dims</span><span class="o">=</span><span class="s1">&#39;TXY&#39;</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.tools.track_events_image" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Function to track events in an image using specified linking and clustering methods.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>X</code></td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The input array containing the images to track.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Distance for clustering. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>float | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum distance for linking previous clusters, if None, eps is used. Default is None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_samples</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of samples (or total weight) in a neighbourhood for a
point to be considered as a core point. This includes the point itself.
Only used if clusteringMethod is 'hdbscan'. If None, minSamples =  minClsz.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clustering_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for clustering, one of [dbscan, hdbscan]. Default is "dbscan".</p>
              </div>
            </td>
            <td>
                  <code>&#39;dbscan&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>predictor</code></td>
            <td>
                  <code>bool | <span title="typing.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to use a predictor. Default is False.
True uses the default predictor. A callable can be passed to use a custom predictor.
See default predictor method for details.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>linking_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method used for linking. Default is 'nearest'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;nearest&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_merges</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow merges. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_splits</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to allow splits. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stability_threshold</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of frames required for a stable merge or split. Default is 10.</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>remove_small_clusters</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to remove small clusters. Default is False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_size_for_split</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size for a split. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Entropy regularization parameter for unbalanced OT algorithm (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reg_m</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Marginal relaxation parameter for unbalanced OT (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>cost_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for filtering low-probability matches (only for transportation linking).</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>dims</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>String of dimensions in order, such as. Default is "TXY". Possible values are "T", "X", "Y", "Z".</p>
              </div>
            </td>
            <td>
                  <code>&#39;TXY&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>downsample</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Factor by which to downsample the image. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_jobs</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of jobs to run in parallel. Default is 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether or not to show progress bar. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code><span title="typing.Any">Any</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters for backwards compatibility.
- epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.
- minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.
- minSamples: Deprecated parameter for min_samples. Use min_samples instead.
- clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.
- linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.
- nPrev: Deprecated parameter for n_prev. Use n_prev instead.
- nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.
- showProgress: Deprecated parameter for show_progress. Use show_progress instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span> | tuple[<span title="numpy.ndarray">ndarray</span>, <span title="arcos4py.tools._detect_events.LineageTracker">LineageTracker</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: Array of images with tracked events.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/tools/_detect_events.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1876</span>
<span class="normal">1877</span>
<span class="normal">1878</span>
<span class="normal">1879</span>
<span class="normal">1880</span>
<span class="normal">1881</span>
<span class="normal">1882</span>
<span class="normal">1883</span>
<span class="normal">1884</span>
<span class="normal">1885</span>
<span class="normal">1886</span>
<span class="normal">1887</span>
<span class="normal">1888</span>
<span class="normal">1889</span>
<span class="normal">1890</span>
<span class="normal">1891</span>
<span class="normal">1892</span>
<span class="normal">1893</span>
<span class="normal">1894</span>
<span class="normal">1895</span>
<span class="normal">1896</span>
<span class="normal">1897</span>
<span class="normal">1898</span>
<span class="normal">1899</span>
<span class="normal">1900</span>
<span class="normal">1901</span>
<span class="normal">1902</span>
<span class="normal">1903</span>
<span class="normal">1904</span>
<span class="normal">1905</span>
<span class="normal">1906</span>
<span class="normal">1907</span>
<span class="normal">1908</span>
<span class="normal">1909</span>
<span class="normal">1910</span>
<span class="normal">1911</span>
<span class="normal">1912</span>
<span class="normal">1913</span>
<span class="normal">1914</span>
<span class="normal">1915</span>
<span class="normal">1916</span>
<span class="normal">1917</span>
<span class="normal">1918</span>
<span class="normal">1919</span>
<span class="normal">1920</span>
<span class="normal">1921</span>
<span class="normal">1922</span>
<span class="normal">1923</span>
<span class="normal">1924</span>
<span class="normal">1925</span>
<span class="normal">1926</span>
<span class="normal">1927</span>
<span class="normal">1928</span>
<span class="normal">1929</span>
<span class="normal">1930</span>
<span class="normal">1931</span>
<span class="normal">1932</span>
<span class="normal">1933</span>
<span class="normal">1934</span>
<span class="normal">1935</span>
<span class="normal">1936</span>
<span class="normal">1937</span>
<span class="normal">1938</span>
<span class="normal">1939</span>
<span class="normal">1940</span>
<span class="normal">1941</span>
<span class="normal">1942</span>
<span class="normal">1943</span>
<span class="normal">1944</span>
<span class="normal">1945</span>
<span class="normal">1946</span>
<span class="normal">1947</span>
<span class="normal">1948</span>
<span class="normal">1949</span>
<span class="normal">1950</span>
<span class="normal">1951</span>
<span class="normal">1952</span>
<span class="normal">1953</span>
<span class="normal">1954</span>
<span class="normal">1955</span>
<span class="normal">1956</span>
<span class="normal">1957</span>
<span class="normal">1958</span>
<span class="normal">1959</span>
<span class="normal">1960</span>
<span class="normal">1961</span>
<span class="normal">1962</span>
<span class="normal">1963</span>
<span class="normal">1964</span>
<span class="normal">1965</span>
<span class="normal">1966</span>
<span class="normal">1967</span>
<span class="normal">1968</span>
<span class="normal">1969</span>
<span class="normal">1970</span>
<span class="normal">1971</span>
<span class="normal">1972</span>
<span class="normal">1973</span>
<span class="normal">1974</span>
<span class="normal">1975</span>
<span class="normal">1976</span>
<span class="normal">1977</span>
<span class="normal">1978</span>
<span class="normal">1979</span>
<span class="normal">1980</span>
<span class="normal">1981</span>
<span class="normal">1982</span>
<span class="normal">1983</span>
<span class="normal">1984</span>
<span class="normal">1985</span>
<span class="normal">1986</span>
<span class="normal">1987</span>
<span class="normal">1988</span>
<span class="normal">1989</span>
<span class="normal">1990</span>
<span class="normal">1991</span>
<span class="normal">1992</span>
<span class="normal">1993</span>
<span class="normal">1994</span>
<span class="normal">1995</span>
<span class="normal">1996</span>
<span class="normal">1997</span>
<span class="normal">1998</span>
<span class="normal">1999</span>
<span class="normal">2000</span>
<span class="normal">2001</span>
<span class="normal">2002</span>
<span class="normal">2003</span>
<span class="normal">2004</span>
<span class="normal">2005</span>
<span class="normal">2006</span>
<span class="normal">2007</span>
<span class="normal">2008</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">track_events_image</span><span class="p">(</span>
    <span class="n">X</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_samples</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">clustering_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;dbscan&quot;</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">predictor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="n">Callable</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">linking_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;nearest&#39;</span><span class="p">,</span>
    <span class="n">allow_merges</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">allow_splits</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">stability_threshold</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">remove_small_clusters</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">min_size_for_split</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">reg_m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">cost_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">dims</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;TXY&quot;</span><span class="p">,</span>
    <span class="n">downsample</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_jobs</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span> <span class="o">|</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">LineageTracker</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Function to track events in an image using specified linking and clustering methods.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        X (np.ndarray): The input array containing the images to track.</span>
<span class="sd">        eps (float): Distance for clustering. Default is 1.</span>
<span class="sd">        eps_prev (float | None): Maximum distance for linking previous clusters, if None, eps is used. Default is None.</span>
<span class="sd">        min_clustersize (int): Minimum cluster size. Default is 1.</span>
<span class="sd">        min_samples (int | None): The number of samples (or total weight) in a neighbourhood for a</span>
<span class="sd">            point to be considered as a core point. This includes the point itself.</span>
<span class="sd">            Only used if clusteringMethod is &#39;hdbscan&#39;. If None, minSamples =  minClsz.</span>
<span class="sd">        clustering_method (str): The method used for clustering, one of [dbscan, hdbscan]. Default is &quot;dbscan&quot;.</span>
<span class="sd">        n_prev (int): Number of previous frames to consider. Default is 1.</span>
<span class="sd">        predictor (bool | Callable): Whether or not to use a predictor. Default is False.</span>
<span class="sd">            True uses the default predictor. A callable can be passed to use a custom predictor.</span>
<span class="sd">            See default predictor method for details.</span>
<span class="sd">        linking_method (str): The method used for linking. Default is &#39;nearest&#39;.</span>
<span class="sd">        allow_merges (bool): Whether or not to allow merges. Default is False.</span>
<span class="sd">        allow_splits (bool): Whether or not to allow splits. Default is False.</span>
<span class="sd">        stability_threshold (int): The number of frames required for a stable merge or split. Default is 10.</span>
<span class="sd">        remove_small_clusters (bool): Whether or not to remove small clusters. Default is False.</span>
<span class="sd">        min_size_for_split (int): Minimum size for a split. Default is 1.</span>
<span class="sd">        reg (float): Entropy regularization parameter for unbalanced OT algorithm (only for transportation linking).</span>
<span class="sd">        reg_m (float): Marginal relaxation parameter for unbalanced OT (only for transportation linking).</span>
<span class="sd">        cost_threshold (float): Threshold for filtering low-probability matches (only for transportation linking).</span>
<span class="sd">        dims (str): String of dimensions in order, such as. Default is &quot;TXY&quot;. Possible values are &quot;T&quot;, &quot;X&quot;, &quot;Y&quot;, &quot;Z&quot;.</span>
<span class="sd">        downsample (int): Factor by which to downsample the image. Default is 1.</span>
<span class="sd">        n_jobs (int): Number of jobs to run in parallel. Default is 1.</span>
<span class="sd">        show_progress (bool): Whether or not to show progress bar. Default is True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters for backwards compatibility.</span>
<span class="sd">            - epsPrev: Deprecated parameter for eps_prev. Use eps_prev instead.</span>
<span class="sd">            - minClSz: Deprecated parameter for min_clustersize. Use min_clustersize instead.</span>
<span class="sd">            - minSamples: Deprecated parameter for min_samples. Use min_samples instead.</span>
<span class="sd">            - clusteringMethod: Deprecated parameter for clustering_method. Use clustering_method instead.</span>
<span class="sd">            - linkingMethod: Deprecated parameter for linking_method. Use linking_method instead.</span>
<span class="sd">            - nPrev: Deprecated parameter for n_prev. Use n_prev instead.</span>
<span class="sd">            - nJobs: Deprecated parameter for n_jobs. Use n_jobs instead.</span>
<span class="sd">            - showProgress: Deprecated parameter for show_progress. Use show_progress instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        np.ndarray: Array of images with tracked events.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;epsPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minClSz&#39;</span><span class="p">:</span> <span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span>
        <span class="s1">&#39;minSamples&#39;</span><span class="p">:</span> <span class="s1">&#39;min_samples&#39;</span><span class="p">,</span>
        <span class="s1">&#39;clusteringMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;linkingMethod&#39;</span><span class="p">:</span> <span class="s1">&#39;linking_method&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nPrev&#39;</span><span class="p">:</span> <span class="s1">&#39;n_prev&#39;</span><span class="p">,</span>
        <span class="s1">&#39;nJobs&#39;</span><span class="p">:</span> <span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span>
        <span class="s1">&#39;showProgress&#39;</span><span class="p">:</span> <span class="s1">&#39;show_progress&#39;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check for allowed kwargs</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">map_params</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Invalid keyword argument </span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Handle deprecated parameters</span>
    <span class="n">kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assign parameters</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;eps_prev&#39;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_clustersize&#39;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">min_samples</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;min_samples&#39;</span><span class="p">,</span> <span class="n">min_samples</span><span class="p">)</span>
    <span class="n">clustering_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;clustering_method&#39;</span><span class="p">,</span> <span class="n">clustering_method</span><span class="p">)</span>
    <span class="n">linking_method</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;linking_method&#39;</span><span class="p">,</span> <span class="n">linking_method</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_prev&#39;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>
    <span class="n">n_jobs</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;n_jobs&#39;</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">)</span>

    <span class="c1"># Determine the dimensionality</span>
    <span class="n">spatial_dims</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s2">&quot;XYZ&quot;</span><span class="p">)</span>
    <span class="n">D</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">dims</span> <span class="k">if</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">spatial_dims</span><span class="p">])</span>

    <span class="c1"># Adjust parameters based on dimensionality</span>
    <span class="n">adjusted_epsPrev</span> <span class="o">=</span> <span class="n">eps_prev</span> <span class="o">/</span> <span class="n">downsample</span> <span class="k">if</span> <span class="n">eps_prev</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">adjusted_minClSz</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_clustersize</span> <span class="o">/</span> <span class="p">(</span><span class="n">downsample</span><span class="o">**</span><span class="n">D</span><span class="p">))</span>
    <span class="n">adjusted_minSamples</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">min_samples</span> <span class="o">/</span> <span class="p">(</span><span class="n">downsample</span><span class="o">**</span><span class="n">D</span><span class="p">))</span> <span class="k">if</span> <span class="n">min_samples</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="n">linker</span> <span class="o">=</span> <span class="n">Linker</span><span class="p">(</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span> <span class="o">/</span> <span class="n">downsample</span><span class="p">,</span>
        <span class="n">eps_prev</span><span class="o">=</span><span class="n">adjusted_epsPrev</span><span class="p">,</span>
        <span class="n">min_clustersize</span><span class="o">=</span><span class="n">adjusted_minClSz</span><span class="p">,</span>
        <span class="n">min_samples</span><span class="o">=</span><span class="n">adjusted_minSamples</span><span class="p">,</span>
        <span class="n">clustering_method</span><span class="o">=</span><span class="n">clustering_method</span><span class="p">,</span>
        <span class="n">linking_method</span><span class="o">=</span><span class="n">linking_method</span><span class="p">,</span>
        <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
        <span class="n">predictor</span><span class="o">=</span><span class="n">predictor</span><span class="p">,</span>
        <span class="n">reg</span><span class="o">=</span><span class="n">reg</span><span class="p">,</span>
        <span class="n">reg_m</span><span class="o">=</span><span class="n">reg_m</span><span class="p">,</span>
        <span class="n">cost_threshold</span><span class="o">=</span><span class="n">cost_threshold</span><span class="p">,</span>
        <span class="n">n_jobs</span><span class="o">=</span><span class="n">n_jobs</span><span class="p">,</span>
        <span class="n">allow_merges</span><span class="o">=</span><span class="n">allow_merges</span><span class="p">,</span>
        <span class="n">allow_splits</span><span class="o">=</span><span class="n">allow_splits</span><span class="p">,</span>
        <span class="n">stability_threshold</span><span class="o">=</span><span class="n">stability_threshold</span><span class="p">,</span>
        <span class="n">remove_small_clusters</span><span class="o">=</span><span class="n">remove_small_clusters</span><span class="p">,</span>
        <span class="n">min_size_for_split</span><span class="o">=</span><span class="n">min_size_for_split</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">tracker</span> <span class="o">=</span> <span class="n">ImageTracker</span><span class="p">(</span><span class="n">linker</span><span class="p">,</span> <span class="n">downsample</span><span class="o">=</span><span class="n">downsample</span><span class="p">)</span>
    <span class="c1"># find indices of T in dims</span>
    <span class="n">T_index</span> <span class="o">=</span> <span class="n">dims</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">uint16</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="n">T_index</span><span class="p">]),</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">):</span>
        <span class="n">out</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tracker</span><span class="o">.</span><span class="n">track_iteration</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">any</span><span class="p">([</span><span class="n">allow_merges</span><span class="p">,</span> <span class="n">allow_splits</span><span class="p">]):</span>
        <span class="k">return</span> <span class="n">out</span><span class="p">,</span> <span class="n">linker</span><span class="o">.</span><span class="n">lineage_tracker</span>

    <span class="k">return</span> <span class="n">out</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<h2 id="arcos4py.validation" class="doc doc-heading">
            <code>validation</code>


<a href="#arcos4py.validation" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Tools for validating detected collective events.</p>



  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="arcos4py.validation.bootstrap_arcos" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">bootstrap_arcos</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;obj_id&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span> <span class="n">smooth_k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bias_k</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bias_method</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_total_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stats_metric</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;total_size&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">],</span> <span class="n">pval_alternative</span><span class="o">=</span><span class="s1">&#39;greater&#39;</span><span class="p">,</span> <span class="n">finite_correction</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">max_tries</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">parallel_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.validation.bootstrap_arcos" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Bootstrap data using the ARCOS algorithm.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df</code></td>
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing the data to be bootstrapped.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of column names containing the x and y coordinates.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the frame number.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the track id.</p>
              </div>
            </td>
            <td>
                  <code>&#39;obj_id&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>measurement_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the column containing the measurement.</p>
              </div>
            </td>
            <td>
                  <code>&#39;m&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>method</code></td>
            <td>
                  <code>str | list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Method used for bootstrapping. Can be "shuffle_tracks", 'shuffle_timepoints', 'shift_timepoints',
'shuffle_binary_blocks', 'shuffle_coordinates_timepoint or a list of methods,
which will be applied in order of index.</p>
              </div>
            </td>
            <td>
                  <code>&#39;shuffle_tracks&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>smooth_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Smoothing kernel size.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bias kernel size.</p>
              </div>
            </td>
            <td>
                  <code>51</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>peak_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for peak detection.</p>
              </div>
            </td>
            <td>
                  <code>0.2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarization_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for binarization.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>polynomial_degree</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Degree of the polynomial used for bias correction.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bias correction method. Can be 'none', 'runmed', 'lm'</p>
              </div>
            </td>
            <td>
                  <code>&#39;runmed&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Epsilon parameter for DBSCAN.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>int | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Parameter for linking tracks. If None, eps is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider for linking.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_duration</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum duration of a track.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_total_size</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size of a track.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stats_metric</code></td>
            <td>
                  <code>str | list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Metric to calculate. Can be "duration", "total_size", "min_size", "max_size" or a list of metrics.
Default is ["duration", "total_size"].</p>
              </div>
            </td>
            <td>
                  <code>[&#39;total_size&#39;, &#39;duration&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pval_alternative</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Alternative hypothesis for the p-value calculation. Can be "less" or "greater".</p>
              </div>
            </td>
            <td>
                  <code>&#39;greater&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>finite_correction</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Correct p-values for finite sampling. Default is True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of bootstraps.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>seed</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Seed for the random number generator.</p>
              </div>
            </td>
            <td>
                  <code>42</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_duplicates</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If False, resampling will check if the resampled data contains duplicates.
If True, duplicates will be allowed.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>max_tries</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Maximum number of tries to resample data without duplicates.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Show a progress bar.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Print additional information.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parallel_processing</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use parallel processing.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plot</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plot the distribution of the bootstrapped data.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- id_column: Deprecated. Use obj_id_column instead.
- meas_column: Deprecated. Use measurement_column instead.
- smoothK: Deprecated. Use smooth_k instead.
- biasK: Deprecated. Use bias_k instead.
- peakThr: Deprecated. Use peak_threshold instead.
- binThr: Deprecated. Use binarization_threshold instead.
- polyDeg: Deprecated. Use polynomial_degree instead.
- biasMet: Deprecated. Use bias_method instead.
- epsPrev: Deprecated. Use eps_prev instead.
- minClsz: Deprecated. Use min_clustersize instead.
- min_size: Deprecated. Use min_total_size instead.
- paralell_processing: Deprecated. Use parallel_processing instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing the bootstrapped data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/validation/_bootstrapping.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">bootstrap_arcos</span><span class="p">(</span>
    <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;obj_id&#39;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span>
    <span class="n">smooth_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">bias_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peak_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binarization_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polynomial_degree</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">bias_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_total_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">stats_metric</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;total_size&quot;</span><span class="p">,</span> <span class="s2">&quot;duration&quot;</span><span class="p">],</span>
    <span class="n">pval_alternative</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;greater&quot;</span><span class="p">,</span>
    <span class="n">finite_correction</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">42</span><span class="p">,</span>
    <span class="n">allow_duplicates</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">max_tries</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">verbose</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">parallel_processing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">plot</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Bootstrap data using the ARCOS algorithm.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        df: DataFrame containing the data to be bootstrapped.</span>
<span class="sd">        position_columns: List of column names containing the x and y coordinates.</span>
<span class="sd">        frame_column: Name of the column containing the frame number.</span>
<span class="sd">        obj_id_column: Name of the column containing the track id.</span>
<span class="sd">        measurement_column: Name of the column containing the measurement.</span>
<span class="sd">        method: Method used for bootstrapping. Can be &quot;shuffle_tracks&quot;, &#39;shuffle_timepoints&#39;, &#39;shift_timepoints&#39;,</span>
<span class="sd">            &#39;shuffle_binary_blocks&#39;, &#39;shuffle_coordinates_timepoint or a list of methods,</span>
<span class="sd">            which will be applied in order of index.</span>
<span class="sd">        smooth_k: Smoothing kernel size.</span>
<span class="sd">        bias_k: Bias kernel size.</span>
<span class="sd">        peak_threshold: Threshold for peak detection.</span>
<span class="sd">        binarization_threshold: Threshold for binarization.</span>
<span class="sd">        polynomial_degree: Degree of the polynomial used for bias correction.</span>
<span class="sd">        bias_method: Bias correction method. Can be &#39;none&#39;, &#39;runmed&#39;, &#39;lm&#39;</span>
<span class="sd">        eps: Epsilon parameter for DBSCAN.</span>
<span class="sd">        eps_prev: Parameter for linking tracks. If None, eps is used.</span>
<span class="sd">        min_clustersize: Minimum cluster size.</span>
<span class="sd">        n_prev: Number of previous frames to consider for linking.</span>
<span class="sd">        min_duration: Minimum duration of a track.</span>
<span class="sd">        min_total_size: Minimum size of a track.</span>
<span class="sd">        stats_metric: Metric to calculate. Can be &quot;duration&quot;, &quot;total_size&quot;, &quot;min_size&quot;, &quot;max_size&quot; or a list of metrics.</span>
<span class="sd">            Default is [&quot;duration&quot;, &quot;total_size&quot;].</span>
<span class="sd">        pval_alternative: Alternative hypothesis for the p-value calculation. Can be &quot;less&quot; or &quot;greater&quot;.</span>
<span class="sd">        finite_correction: Correct p-values for finite sampling. Default is True.</span>
<span class="sd">        n: Number of bootstraps.</span>
<span class="sd">        seed: Seed for the random number generator.</span>
<span class="sd">        allow_duplicates: If False, resampling will check if the resampled data contains duplicates.</span>
<span class="sd">            If True, duplicates will be allowed.</span>
<span class="sd">        max_tries: Maximum number of tries to resample data without duplicates.</span>
<span class="sd">        show_progress: Show a progress bar.</span>
<span class="sd">        verbose: Print additional information.</span>
<span class="sd">        parallel_processing: Use parallel processing.</span>
<span class="sd">        plot: Plot the distribution of the bootstrapped data.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - id_column: Deprecated. Use obj_id_column instead.</span>
<span class="sd">            - meas_column: Deprecated. Use measurement_column instead.</span>
<span class="sd">            - smoothK: Deprecated. Use smooth_k instead.</span>
<span class="sd">            - biasK: Deprecated. Use bias_k instead.</span>
<span class="sd">            - peakThr: Deprecated. Use peak_threshold instead.</span>
<span class="sd">            - binThr: Deprecated. Use binarization_threshold instead.</span>
<span class="sd">            - polyDeg: Deprecated. Use polynomial_degree instead.</span>
<span class="sd">            - biasMet: Deprecated. Use bias_method instead.</span>
<span class="sd">            - epsPrev: Deprecated. Use eps_prev instead.</span>
<span class="sd">            - minClsz: Deprecated. Use min_clustersize instead.</span>
<span class="sd">            - min_size: Deprecated. Use min_total_size instead.</span>
<span class="sd">            - paralell_processing: Deprecated. Use parallel_processing instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame containing the bootstrapped data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;id_column&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;meas_column&quot;</span><span class="p">:</span> <span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;smoothK&quot;</span><span class="p">:</span> <span class="s2">&quot;smooth_k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biasK&quot;</span><span class="p">:</span> <span class="s2">&quot;bias_k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peakThr&quot;</span><span class="p">:</span> <span class="s2">&quot;peak_threshold&quot;</span><span class="p">,</span>
        <span class="s2">&quot;binThr&quot;</span><span class="p">:</span> <span class="s2">&quot;binarization_threshold&quot;</span><span class="p">,</span>
        <span class="s2">&quot;polyDeg&quot;</span><span class="p">:</span> <span class="s2">&quot;polynomial_degree&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biasMet&quot;</span><span class="p">:</span> <span class="s2">&quot;bias_method&quot;</span><span class="p">,</span>
        <span class="s2">&quot;epsPrev&quot;</span><span class="p">:</span> <span class="s2">&quot;eps_prev&quot;</span><span class="p">,</span>
        <span class="s2">&quot;minClsz&quot;</span><span class="p">:</span> <span class="s2">&quot;min_clustersize&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;min_total_size&quot;</span><span class="p">,</span>
        <span class="s2">&quot;paralell_processing&quot;</span><span class="p">:</span> <span class="s2">&quot;parallel_processing&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">measurement_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">)</span>
    <span class="n">smooth_k</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;smooth_k&quot;</span><span class="p">,</span> <span class="n">smooth_k</span><span class="p">)</span>
    <span class="n">bias_k</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bias_k&quot;</span><span class="p">,</span> <span class="n">bias_k</span><span class="p">)</span>
    <span class="n">peak_threshold</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;peak_threshold&quot;</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="p">)</span>
    <span class="n">binarization_threshold</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;binarization_threshold&quot;</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="p">)</span>
    <span class="n">polynomial_degree</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;polynomial_degree&quot;</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="p">)</span>
    <span class="n">bias_method</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bias_method&quot;</span><span class="p">,</span> <span class="n">bias_method</span><span class="p">)</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;eps_prev&quot;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_clustersize&quot;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">min_total_size</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_total_size&quot;</span><span class="p">,</span> <span class="n">min_total_size</span><span class="p">)</span>
    <span class="n">parallel_processing</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;parallel_processing&quot;</span><span class="p">,</span> <span class="n">parallel_processing</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats_metric</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">stats_metric</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">stats_m</span> <span class="ow">in</span> <span class="n">stats_metric</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">stats_m</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;duration&quot;</span><span class="p">,</span>
            <span class="s2">&quot;total_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;min_size&quot;</span><span class="p">,</span>
            <span class="s2">&quot;max_size&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid metric: </span><span class="si">{</span><span class="n">stats_metric</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">pval_alternative</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;less&quot;</span><span class="p">,</span> <span class="s2">&quot;greater&quot;</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid alternative hypothesis: </span><span class="si">{</span><span class="n">pval_alternative</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="n">clid_name</span> <span class="o">=</span> <span class="s1">&#39;clid&#39;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Resampling data using method &quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1">&quot;...&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Resampling data using methods &quot;</span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s1">&quot;...&#39;</span><span class="p">)</span>

    <span class="n">df_resampled</span> <span class="o">=</span> <span class="n">resample_data</span><span class="p">(</span>
        <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span>
        <span class="n">position_columns</span><span class="o">=</span><span class="n">position_columns</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="o">=</span><span class="n">obj_id_column</span><span class="p">,</span>
        <span class="n">measurement_column</span><span class="o">=</span><span class="n">measurement_column</span><span class="p">,</span>
        <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
        <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span>
        <span class="n">seed</span><span class="o">=</span><span class="n">seed</span><span class="p">,</span>
        <span class="n">allow_duplicates</span><span class="o">=</span><span class="n">allow_duplicates</span><span class="p">,</span>
        <span class="n">max_tries</span><span class="o">=</span><span class="n">max_tries</span><span class="p">,</span>
        <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">,</span>
        <span class="n">parallel_processing</span><span class="o">=</span><span class="n">parallel_processing</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">iterations</span> <span class="o">=</span> <span class="n">df_resampled</span><span class="p">[</span><span class="s1">&#39;iteration&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Running ARCOS and calculating &quot;</span><span class="si">{</span><span class="n">stats_metric</span><span class="si">}</span><span class="s1">&quot;...&#39;</span><span class="p">)</span>

    <span class="n">stats_df</span><span class="p">,</span> <span class="n">stats_df_mean</span> <span class="o">=</span> <span class="n">calculate_arcos_stats</span><span class="p">(</span>
        <span class="n">df_resampled</span><span class="o">=</span><span class="n">df_resampled</span><span class="p">,</span>
        <span class="n">position_columns</span><span class="o">=</span><span class="n">position_columns</span><span class="p">,</span>
        <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
        <span class="n">obj_id_column</span><span class="o">=</span><span class="n">obj_id_column</span><span class="p">,</span>
        <span class="n">measurement_column</span><span class="o">=</span><span class="n">measurement_column</span><span class="p">,</span>
        <span class="n">smooth_k</span><span class="o">=</span><span class="n">smooth_k</span><span class="p">,</span>
        <span class="n">bias_k</span><span class="o">=</span><span class="n">bias_k</span><span class="p">,</span>
        <span class="n">peak_threshold</span><span class="o">=</span><span class="n">peak_threshold</span><span class="p">,</span>
        <span class="n">binarization_threshold</span><span class="o">=</span><span class="n">binarization_threshold</span><span class="p">,</span>
        <span class="n">polynomial_degree</span><span class="o">=</span><span class="n">polynomial_degree</span><span class="p">,</span>
        <span class="n">bias_method</span><span class="o">=</span><span class="n">bias_method</span><span class="p">,</span>
        <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
        <span class="n">eps_prev</span><span class="o">=</span><span class="n">eps_prev</span><span class="p">,</span>
        <span class="n">min_clustersize</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span>
        <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
        <span class="n">min_duration</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
        <span class="n">min_total_size</span><span class="o">=</span><span class="n">min_total_size</span><span class="p">,</span>
        <span class="n">stats_metric</span><span class="o">=</span><span class="n">stats_metric</span><span class="p">,</span>
        <span class="n">show_progress</span><span class="o">=</span><span class="n">show_progress</span><span class="p">,</span>
        <span class="n">parallel_processing</span><span class="o">=</span><span class="n">parallel_processing</span><span class="p">,</span>
        <span class="n">clid_column</span><span class="o">=</span><span class="n">clid_name</span><span class="p">,</span>
        <span class="n">iterations</span><span class="o">=</span><span class="n">iterations</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">df_p</span> <span class="o">=</span> <span class="n">calculate_pvalue</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">,</span> <span class="n">stats_metric</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">,</span> <span class="n">finite_correction</span><span class="p">,</span> <span class="n">plot</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stats_df</span><span class="p">,</span> <span class="n">df_p</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.validation.calculate_arcos_stats" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_arcos_stats</span><span class="p">(</span><span class="n">df_resampled</span><span class="p">,</span> <span class="n">iterations</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;obj_id&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="n">smooth_k</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bias_k</span><span class="o">=</span><span class="mi">51</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">bias_method</span><span class="o">=</span><span class="s1">&#39;runmed&#39;</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">eps_prev</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_prev</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">min_total_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">stats_metric</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;total_size&#39;</span><span class="p">],</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">parallel_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">clid_column</span><span class="o">=</span><span class="s1">&#39;clid&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.validation.calculate_arcos_stats" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Calculate the bootstrapped statistics.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>df_resampled</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe with resampled data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>iterations</code></td>
            <td>
                  <code>list[int]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of iteration names, or range.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of position columns..</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the frame column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the id column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;obj_id&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>measurement_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the measurement column.</p>
              </div>
            </td>
            <td>
                  <code>&#39;m&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>smooth_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Smoothing kernel size for local detrending. Defaults to 3.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_k</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bias kernel size for large scale detrending (used with biasMet='runmed'). Defaults to 51.</p>
              </div>
            </td>
            <td>
                  <code>51</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>peak_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Peak threshold used for rescaling (used with biasMet='runmed'). Defaults to 0.2.</p>
              </div>
            </td>
            <td>
                  <code>0.2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>binarization_threshold</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Threshold for binarizing measurements after detrending. Defaults to 0.1.</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>polynomial_degree</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Polynomial degree used for detrending (used with biasMet='lm'). Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>bias_method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Bias method, can be 'none', 'runmed', 'lm'. Defaults to "runmed".</p>
              </div>
            </td>
            <td>
                  <code>&#39;runmed&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Epsilon used for culstering active entities. Defaults to 2.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>eps_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Epsilon used for linking together culsters across time. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_clustersize</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum cluster size. Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n_prev</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of previous frames to consider when tracking clusters. Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_duration</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum duration of detected event. Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>min_total_size</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Minimum size, minimum size of detected event. Defaults to 1.</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stats_metric</code></td>
            <td>
                  <code>list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of metrics to calculate. Defaults to ['duration', 'total_size'].</p>
              </div>
            </td>
            <td>
                  <code>[&#39;duration&#39;, &#39;total_size&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>show_progress</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Show progress bar. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parallel_processing</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Use paralell processing, uses the joblib package. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>clid_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Name of the cluster id column. Defaults to 'clid'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;clid&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- posCols: Deprecated. Use position_columns instead.
- id_column: Deprecated. Use obj_id_column instead.
- meas_column: Deprecated. Use measurement_column instead.
- smoothK: Deprecated. Use smooth_k instead.
- biasK: Deprecated. Use bias_k instead.
- peakThr: Deprecated. Use peak_threshold instead.
- binThr: Deprecated. Use binarization_threshold instead.
- polyDeg: Deprecated. Use polynomial_degree instead.
- biasMet: Deprecated. Use bias_method instead.
- epsPrev: Deprecated. Use eps_prev instead.
- minClsz: Deprecated. Use min_clustersize instead.
- min_size: Deprecated. Use min_total_size instead.
- nPrev: Deprecated. Use n_prev instead.
- paralell_processing: Deprecated. Use parallel_processing instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe with the bootstrapped statistics.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dataframe with mean statistics.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/validation/_bootstrapping.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_arcos_stats</span><span class="p">(</span>
    <span class="n">df_resampled</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">iterations</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;obj_id&#39;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>
    <span class="n">smooth_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">bias_k</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">51</span><span class="p">,</span>
    <span class="n">peak_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span>
    <span class="n">binarization_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="n">polynomial_degree</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">bias_method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;runmed&quot;</span><span class="p">,</span>
    <span class="n">eps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">eps_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">min_clustersize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">n_prev</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_duration</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">min_total_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">stats_metric</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">,</span> <span class="s1">&#39;total_size&#39;</span><span class="p">],</span>
    <span class="n">show_progress</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">parallel_processing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">clid_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;clid&#39;</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculate the bootstrapped statistics.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        df_resampled (DataFrame): Dataframe with resampled data.</span>
<span class="sd">        iterations (list[int]): List of iteration names, or range.</span>
<span class="sd">        position_columns (list): List of position columns..</span>
<span class="sd">        frame_column (str): Name of the frame column.</span>
<span class="sd">        obj_id_column (str): Name of the id column.</span>
<span class="sd">        measurement_column (str): Name of the measurement column.</span>
<span class="sd">        smooth_k (int, optional): Smoothing kernel size for local detrending. Defaults to 3.</span>
<span class="sd">        bias_k (int, optional): Bias kernel size for large scale detrending (used with biasMet=&#39;runmed&#39;). Defaults to 51.</span>
<span class="sd">        peak_threshold (float, optional): Peak threshold used for rescaling (used with biasMet=&#39;runmed&#39;). Defaults to 0.2.</span>
<span class="sd">        binarization_threshold (float, optional): Threshold for binarizing measurements after detrending. Defaults to 0.1.</span>
<span class="sd">        polynomial_degree (int, optional): Polynomial degree used for detrending (used with biasMet=&#39;lm&#39;). Defaults to 1.</span>
<span class="sd">        bias_method (str, optional): Bias method, can be &#39;none&#39;, &#39;runmed&#39;, &#39;lm&#39;. Defaults to &quot;runmed&quot;.</span>
<span class="sd">        eps (float, optional): Epsilon used for culstering active entities. Defaults to 2.</span>
<span class="sd">        eps_prev (int, optional): Epsilon used for linking together culsters across time. Defaults to None.</span>
<span class="sd">        min_clustersize (int, optional): Minimum cluster size. Defaults to 1.</span>
<span class="sd">        n_prev (int, optional): Number of previous frames to consider when tracking clusters. Defaults to 1.</span>
<span class="sd">        min_duration (int, optional): Minimum duration of detected event. Defaults to 1.</span>
<span class="sd">        min_total_size (int, optional): Minimum size, minimum size of detected event. Defaults to 1.</span>
<span class="sd">        stats_metric (list[str], optional): List of metrics to calculate. Defaults to [&#39;duration&#39;, &#39;total_size&#39;].</span>
<span class="sd">        show_progress (bool, optional): Show progress bar. Defaults to True.</span>
<span class="sd">        parallel_processing (bool, optional): Use paralell processing, uses the joblib package. Defaults to True.</span>
<span class="sd">        clid_column (str, optional): Name of the cluster id column. Defaults to &#39;clid&#39;.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - posCols: Deprecated. Use position_columns instead.</span>
<span class="sd">            - id_column: Deprecated. Use obj_id_column instead.</span>
<span class="sd">            - meas_column: Deprecated. Use measurement_column instead.</span>
<span class="sd">            - smoothK: Deprecated. Use smooth_k instead.</span>
<span class="sd">            - biasK: Deprecated. Use bias_k instead.</span>
<span class="sd">            - peakThr: Deprecated. Use peak_threshold instead.</span>
<span class="sd">            - binThr: Deprecated. Use binarization_threshold instead.</span>
<span class="sd">            - polyDeg: Deprecated. Use polynomial_degree instead.</span>
<span class="sd">            - biasMet: Deprecated. Use bias_method instead.</span>
<span class="sd">            - epsPrev: Deprecated. Use eps_prev instead.</span>
<span class="sd">            - minClsz: Deprecated. Use min_clustersize instead.</span>
<span class="sd">            - min_size: Deprecated. Use min_total_size instead.</span>
<span class="sd">            - nPrev: Deprecated. Use n_prev instead.</span>
<span class="sd">            - paralell_processing: Deprecated. Use parallel_processing instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame (pd.DataFrame): Dataframe with the bootstrapped statistics.</span>
<span class="sd">        DataFrame (pd.DataFrame): Dataframe with mean statistics.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;posCols&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id_column&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;meas_column&quot;</span><span class="p">:</span> <span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;smoothK&quot;</span><span class="p">:</span> <span class="s2">&quot;smooth_k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biasK&quot;</span><span class="p">:</span> <span class="s2">&quot;bias_k&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peakThr&quot;</span><span class="p">:</span> <span class="s2">&quot;peak_threshold&quot;</span><span class="p">,</span>
        <span class="s2">&quot;binThr&quot;</span><span class="p">:</span> <span class="s2">&quot;binarization_threshold&quot;</span><span class="p">,</span>
        <span class="s2">&quot;polyDeg&quot;</span><span class="p">:</span> <span class="s2">&quot;polynomial_degree&quot;</span><span class="p">,</span>
        <span class="s2">&quot;biasMet&quot;</span><span class="p">:</span> <span class="s2">&quot;bias_method&quot;</span><span class="p">,</span>
        <span class="s2">&quot;epsPrev&quot;</span><span class="p">:</span> <span class="s2">&quot;eps_prev&quot;</span><span class="p">,</span>
        <span class="s2">&quot;minClsz&quot;</span><span class="p">:</span> <span class="s2">&quot;min_clustersize&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nPrev&quot;</span><span class="p">:</span> <span class="s2">&quot;n_prev&quot;</span><span class="p">,</span>
        <span class="s2">&quot;min_size&quot;</span><span class="p">:</span> <span class="s2">&quot;min_total_size&quot;</span><span class="p">,</span>
        <span class="s2">&quot;paralell_processing&quot;</span><span class="p">:</span> <span class="s2">&quot;parallel_processing&quot;</span><span class="p">,</span>
        <span class="s2">&quot;clid_name&quot;</span><span class="p">:</span> <span class="s2">&quot;clid_column&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>

    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="c1"># Assigning the parameters</span>
    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_columns&quot;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">measurement_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">)</span>
    <span class="n">smooth_k</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;smooth_k&quot;</span><span class="p">,</span> <span class="n">smooth_k</span><span class="p">)</span>
    <span class="n">bias_k</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bias_k&quot;</span><span class="p">,</span> <span class="n">bias_k</span><span class="p">)</span>
    <span class="n">peak_threshold</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;peak_threshold&quot;</span><span class="p">,</span> <span class="n">peak_threshold</span><span class="p">)</span>
    <span class="n">binarization_threshold</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;binarization_threshold&quot;</span><span class="p">,</span> <span class="n">binarization_threshold</span><span class="p">)</span>
    <span class="n">polynomial_degree</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;polynomial_degree&quot;</span><span class="p">,</span> <span class="n">polynomial_degree</span><span class="p">)</span>
    <span class="n">bias_method</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;bias_method&quot;</span><span class="p">,</span> <span class="n">bias_method</span><span class="p">)</span>
    <span class="n">min_total_size</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_total_size&quot;</span><span class="p">,</span> <span class="n">min_total_size</span><span class="p">)</span>
    <span class="n">parallel_processing</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;parallel_processing&quot;</span><span class="p">,</span> <span class="n">parallel_processing</span><span class="p">)</span>
    <span class="n">clid_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;clid_column&quot;</span><span class="p">,</span> <span class="n">clid_column</span><span class="p">)</span>
    <span class="n">min_clustersize</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;min_clustersize&quot;</span><span class="p">,</span> <span class="n">min_clustersize</span><span class="p">)</span>
    <span class="n">eps_prev</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;eps_prev&quot;</span><span class="p">,</span> <span class="n">eps_prev</span><span class="p">)</span>
    <span class="n">n_prev</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;n_prev&quot;</span><span class="p">,</span> <span class="n">n_prev</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">parallel_processing</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">joblib</span> <span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>

        <span class="n">stats_df_list</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)(</span>
            <span class="n">delayed</span><span class="p">(</span><span class="n">_apply_arcos</span><span class="p">)(</span>
                <span class="n">i_iter</span><span class="o">=</span><span class="n">i_iter</span><span class="p">,</span>
                <span class="n">df_resampled</span><span class="o">=</span><span class="n">df_resampled</span><span class="p">,</span>
                <span class="n">position_columns</span><span class="o">=</span><span class="n">position_columns</span><span class="p">,</span>
                <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
                <span class="n">obj_id_column</span><span class="o">=</span><span class="n">obj_id_column</span><span class="p">,</span>
                <span class="n">measurement_column</span><span class="o">=</span><span class="n">measurement_column</span><span class="p">,</span>
                <span class="n">smooth_k</span><span class="o">=</span><span class="n">smooth_k</span><span class="p">,</span>
                <span class="n">bias_k</span><span class="o">=</span><span class="n">bias_k</span><span class="p">,</span>
                <span class="n">peak_threshold</span><span class="o">=</span><span class="n">peak_threshold</span><span class="p">,</span>
                <span class="n">binarization_threshold</span><span class="o">=</span><span class="n">binarization_threshold</span><span class="p">,</span>
                <span class="n">polynomial_degree</span><span class="o">=</span><span class="n">polynomial_degree</span><span class="p">,</span>
                <span class="n">bias_method</span><span class="o">=</span><span class="n">bias_method</span><span class="p">,</span>
                <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
                <span class="n">eps_prev</span><span class="o">=</span><span class="n">eps_prev</span><span class="p">,</span>
                <span class="n">min_clustersize</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span>
                <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
                <span class="n">min_duration</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
                <span class="n">min_total_size</span><span class="o">=</span><span class="n">min_total_size</span><span class="p">,</span>
                <span class="n">clid_column</span><span class="o">=</span><span class="n">clid_column</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i_iter</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">stats_df_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i_iter</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iterations</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">):</span>
            <span class="n">stats_df</span> <span class="o">=</span> <span class="n">_apply_arcos</span><span class="p">(</span>
                <span class="n">i_iter</span><span class="o">=</span><span class="n">i_iter</span><span class="p">,</span>
                <span class="n">df_resampled</span><span class="o">=</span><span class="n">df_resampled</span><span class="p">,</span>
                <span class="n">position_columns</span><span class="o">=</span><span class="n">position_columns</span><span class="p">,</span>
                <span class="n">frame_column</span><span class="o">=</span><span class="n">frame_column</span><span class="p">,</span>
                <span class="n">obj_id_column</span><span class="o">=</span><span class="n">obj_id_column</span><span class="p">,</span>
                <span class="n">measurement_column</span><span class="o">=</span><span class="n">measurement_column</span><span class="p">,</span>
                <span class="n">smooth_k</span><span class="o">=</span><span class="n">smooth_k</span><span class="p">,</span>
                <span class="n">bias_k</span><span class="o">=</span><span class="n">bias_k</span><span class="p">,</span>
                <span class="n">peak_threshold</span><span class="o">=</span><span class="n">peak_threshold</span><span class="p">,</span>
                <span class="n">binarization_threshold</span><span class="o">=</span><span class="n">binarization_threshold</span><span class="p">,</span>
                <span class="n">polynomial_degree</span><span class="o">=</span><span class="n">polynomial_degree</span><span class="p">,</span>
                <span class="n">bias_method</span><span class="o">=</span><span class="n">bias_method</span><span class="p">,</span>
                <span class="n">eps</span><span class="o">=</span><span class="n">eps</span><span class="p">,</span>
                <span class="n">eps_prev</span><span class="o">=</span><span class="n">eps_prev</span><span class="p">,</span>
                <span class="n">min_clustersize</span><span class="o">=</span><span class="n">min_clustersize</span><span class="p">,</span>
                <span class="n">n_prev</span><span class="o">=</span><span class="n">n_prev</span><span class="p">,</span>
                <span class="n">min_duration</span><span class="o">=</span><span class="n">min_duration</span><span class="p">,</span>
                <span class="n">min_total_size</span><span class="o">=</span><span class="n">min_total_size</span><span class="p">,</span>
                <span class="n">clid_column</span><span class="o">=</span><span class="n">clid_column</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">stats_df_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">stats_df</span><span class="p">)</span>

    <span class="n">stats_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">stats_df_list</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">stats_df_indexer</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bootstrap_iteration&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">stats_metric</span>
    <span class="n">stats_df_mean</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">stats_df</span><span class="p">[</span><span class="n">stats_df_indexer</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;bootstrap_iteration&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">agg</span><span class="p">([</span><span class="s1">&#39;mean&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="p">)</span>
    <span class="n">stats_df_mean</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="c1"># for bootstrap iteratoins that did not detect any events, set the metric to 0</span>
    <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">stats_df</span><span class="p">,</span> <span class="n">stats_df_mean</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.validation.calculate_pvalue" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_pvalue</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">,</span> <span class="n">stats_metric</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">,</span> <span class="n">finite_correction</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.validation.calculate_pvalue" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Calculates the p-value with the given alternative hypothesis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>stats_df_mean</code></td>
            <td>
                  <code>DataFrame</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DataFrame containing the bootstrapped data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>stats_metric</code></td>
            <td>
                  <code>str | list[str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Metric to calculate.
Can be "duration", "total_size", "min_size", "max_size" or a list of metrics.
Default is ["duration", "total_size"].</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pval_alternative</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Alternative hypothesis for the p-value calculation.
Can be "less", "greater" or both which will return p values for both alternatives.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>finite_correction</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Correct p-values for finite sampling. Default is True.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>plot</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Plot the distribution of the bootstrapped data.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>DataFrame</code></td>            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>containing the p-values.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/validation/_bootstrapping.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">calculate_pvalue</span><span class="p">(</span>
    <span class="n">stats_df_mean</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">stats_metric</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
    <span class="n">pval_alternative</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">finite_correction</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">plot</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Calculates the p-value with the given alternative hypothesis.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        stats_df_mean (DataFrame): DataFrame containing the bootstrapped data.</span>
<span class="sd">        stats_metric (str | list[str]): Metric to calculate.</span>
<span class="sd">            Can be &quot;duration&quot;, &quot;total_size&quot;, &quot;min_size&quot;, &quot;max_size&quot; or a list of metrics.</span>
<span class="sd">            Default is [&quot;duration&quot;, &quot;total_size&quot;].</span>
<span class="sd">        pval_alternative (str): Alternative hypothesis for the p-value calculation.</span>
<span class="sd">            Can be &quot;less&quot;, &quot;greater&quot; or both which will return p values for both alternatives.</span>
<span class="sd">        finite_correction (bool): Correct p-values for finite sampling. Default is True.</span>
<span class="sd">        plot (bool): Plot the distribution of the bootstrapped data.</span>

<span class="sd">    Returns:</span>
<span class="sd">        DataFrame (pd.DataFrame): containing the p-values.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">finite_correction</span><span class="p">:</span>
        <span class="n">pval</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">_p_val_finite_sampling</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">pval</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">_p_val_infinite_sampling</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pval_alternative</span><span class="p">))</span>
    <span class="n">pval</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;p_value&#39;</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">stats_metric</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="n">_stats_metric</span> <span class="o">=</span> <span class="n">stats_metric</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_stats_metric</span> <span class="o">=</span> <span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span>

    <span class="n">mean_control</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_metric</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">stats_df_mean</span> <span class="o">=</span> <span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_df_mean</span><span class="p">[</span><span class="s1">&#39;bootstrap_iteration&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
        <span class="n">fig</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">_stats_metric</span><span class="p">))</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">iter</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
            <span class="n">axis</span> <span class="o">=</span> <span class="p">[</span><span class="n">axis</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">stats_col</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">_stats_metric</span><span class="p">)):</span>
            <span class="c1"># sns.kdeplot(stats_df_mean[stats_col], ax=ax, shade=True, sharey=True)</span>
            <span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">stats_df_mean</span><span class="p">[</span><span class="n">stats_col</span><span class="p">],</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">kde</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s1">&#39;density&#39;</span><span class="p">,</span> <span class="n">common_norm</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">plot_kwargs</span><span class="p">)</span>
            <span class="c1"># ax.hist(stats_df_mean[stats_col], alpha=0.5)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">stats_col</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">vlines</span><span class="p">(</span><span class="n">mean_control</span><span class="p">[</span><span class="n">stats_col</span><span class="p">],</span> <span class="n">ymin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">ymax</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Value&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">idx</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Density&#39;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
            <span class="n">x_pos</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">((</span><span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">)</span>
            <span class="n">y_pos</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">((</span><span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mf">0.7</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span>
                <span class="n">x_pos</span><span class="p">,</span>
                <span class="n">y_pos</span><span class="p">,</span>
                <span class="sa">f</span><span class="s1">&#39;p-value</span><span class="se">\n</span><span class="si">{</span><span class="n">pval</span><span class="p">[</span><span class="n">stats_col</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s1">.3f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
                <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Bootstrapped metrics: pval_alternative </span><span class="si">{</span><span class="n">pval</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pval</span><span class="p">,</span> <span class="n">fig</span><span class="p">,</span> <span class="n">axis</span>
    <span class="k">return</span> <span class="n">pval</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="arcos4py.validation.resample_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resample_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">position_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span> <span class="n">frame_column</span><span class="o">=</span><span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="o">=</span><span class="s1">&#39;obj_id&#39;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">max_tries</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">parallel_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#arcos4py.validation.resample_data" class="headerlink" title="Permanent link">&para;</a></h3>


    <div class="doc doc-contents ">

      <p>Resamples data in order to perform bootstrapping analysis.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>data</code></td>
            <td>
                  <code><span title="pandas.Dataframe">Dataframe</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The data to resample.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>position_columns</code></td>
            <td>
                  <code>list</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The columns to use for the position.</p>
              </div>
            </td>
            <td>
                  <code>[&#39;x&#39;]</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>frame_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column to use for the frame.</p>
              </div>
            </td>
            <td>
                  <code>&#39;frame&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>obj_id_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column to use for the object ID.</p>
              </div>
            </td>
            <td>
                  <code>&#39;obj_id&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>measurement_column</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The column to use for the measurement.
Only needed for 'activity_blocks_shuffle'. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>method</code></td>
            <td>
                  <code>str</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The method to use for resampling. Defaults to 'shuffle_tracks'.
Available methods are: "shuffle_tracks", 'shuffle_timepoints',
'shift_timepoints', 'shuffle_binary_blocks', 'shuffle_coordinates_timepoint'</p>
              </div>
            </td>
            <td>
                  <code>&#39;shuffle_tracks&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>n</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The number of resample iterations. Defaults to 100.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>seed</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The random seed. Defaults to 42.</p>
              </div>
            </td>
            <td>
                  <code>42</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>allow_duplicates</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to allow resampling to randomly generate the same data twice.
Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>max_tries</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The maximum number of tries to try ot generate unique data
when allow_duplicates is set to True. Defaults to 100.</p>
              </div>
            </td>
            <td>
                  <code>100</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>verbose</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to print progress. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>parallel_processing</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to use parallel processing. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>**kwargs</code></td>
            <td>
                  <code>Any</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Additional keyword arguments. Includes deprecated parameters.
- posCols (list): Deprecated. Use position_columns instead.
- id_column (str): Deprecated. Use obj_id_column instead.
- meas_column (str): Deprecated. Use measurement_column instead.
- paralell_processing (bool): Deprecated. Use parallel_processing instead.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="pandas.DataFrame">DataFrame</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pd.DataFrame: The resampled data.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

            <details class="quote">
              <summary>Source code in <code>arcos4py/validation/_resampling.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">resample_data</span><span class="p">(</span>  <span class="c1"># noqa: C901</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span>
    <span class="n">position_columns</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">],</span>
    <span class="n">frame_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span>
    <span class="n">obj_id_column</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;obj_id&#39;</span><span class="p">,</span>
    <span class="n">measurement_column</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">,</span>
    <span class="n">n</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">allow_duplicates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">max_tries</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">show_progress</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">parallel_processing</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Resamples data in order to perform bootstrapping analysis.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        data (pd.Dataframe): The data to resample.</span>
<span class="sd">        position_columns (list): The columns to use for the position.</span>
<span class="sd">        frame_column (str): The column to use for the frame.</span>
<span class="sd">        obj_id_column (str): The column to use for the object ID.</span>
<span class="sd">        measurement_column (str, optional): The column to use for the measurement.</span>
<span class="sd">            Only needed for &#39;activity_blocks_shuffle&#39;. Defaults to None.</span>
<span class="sd">        method (str, optional): The method to use for resampling. Defaults to &#39;shuffle_tracks&#39;.</span>
<span class="sd">            Available methods are: &quot;shuffle_tracks&quot;, &#39;shuffle_timepoints&#39;,</span>
<span class="sd">            &#39;shift_timepoints&#39;, &#39;shuffle_binary_blocks&#39;, &#39;shuffle_coordinates_timepoint&#39;</span>
<span class="sd">        n (int, optional): The number of resample iterations. Defaults to 100.</span>
<span class="sd">        seed (int, optional): The random seed. Defaults to 42.</span>
<span class="sd">        allow_duplicates (bool, optional): Whether to allow resampling to randomly generate the same data twice.</span>
<span class="sd">            Defaults to False.</span>
<span class="sd">        max_tries (int, optional): The maximum number of tries to try ot generate unique data</span>
<span class="sd">            when allow_duplicates is set to True. Defaults to 100.</span>
<span class="sd">        verbose (bool, optional): Whether to print progress. Defaults to False.</span>
<span class="sd">        parallel_processing (bool, optional): Whether to use parallel processing. Defaults to True.</span>
<span class="sd">        **kwargs (Any): Additional keyword arguments. Includes deprecated parameters.</span>
<span class="sd">            - posCols (list): Deprecated. Use position_columns instead.</span>
<span class="sd">            - id_column (str): Deprecated. Use obj_id_column instead.</span>
<span class="sd">            - meas_column (str): Deprecated. Use measurement_column instead.</span>
<span class="sd">            - paralell_processing (bool): Deprecated. Use parallel_processing instead.</span>

<span class="sd">    Returns:</span>
<span class="sd">        pd.DataFrame: The resampled data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">map_deprecated_params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;posCols&quot;</span><span class="p">:</span> <span class="s2">&quot;position_columns&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id_column&quot;</span><span class="p">:</span> <span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;meas_column&quot;</span><span class="p">:</span> <span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span>
        <span class="s2">&quot;paralell_processing&quot;</span><span class="p">:</span> <span class="s2">&quot;parallel_processing&quot;</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="c1"># check allowed kwargs</span>
    <span class="n">allowed_kwargs</span> <span class="o">=</span> <span class="n">map_deprecated_params</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">allowed_kwargs</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Got an unexpected keyword argument &#39;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">&#39;&quot;</span><span class="p">)</span>
    <span class="n">updated_kwargs</span> <span class="o">=</span> <span class="n">handle_deprecated_params</span><span class="p">(</span><span class="n">map_deprecated_params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="n">position_columns</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;position_columns&quot;</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">)</span>
    <span class="n">obj_id_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;obj_id_column&quot;</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">)</span>
    <span class="n">measurement_column</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;measurement_column&quot;</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">)</span>
    <span class="n">parallel_processing</span> <span class="o">=</span> <span class="n">updated_kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;parallel_processing&quot;</span><span class="p">,</span> <span class="n">parallel_processing</span><span class="p">)</span>

    <span class="c1"># validate the input</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;data must be a pandas.DataFrame&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">position_columns</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;posCols must be a list&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">frame_column</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;frame_column must be a string&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">obj_id_column</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;id_column must be a string&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">measurement_column</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="n">measurement_column</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;meas_column must be a string or None&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;method must be a string or list&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;n must be a positive integer&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;seed must be an integer&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">verbose</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;verbose must be a boolean&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">parallel_processing</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;paralell_processing must be a boolean&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">position_columns</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;posCols must contain at least one column&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;n must be a positive integer&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">seed</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;seed must be a positive integer&#39;</span><span class="p">)</span>

    <span class="n">method_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">:</span> <span class="n">shuffle_tracks</span><span class="p">,</span>
        <span class="s1">&#39;shuffle_timepoints&#39;</span><span class="p">:</span> <span class="n">shuffle_timepoints</span><span class="p">,</span>
        <span class="s1">&#39;shift_timepoints&#39;</span><span class="p">:</span> <span class="n">shift_timepoints_per_trajectory</span><span class="p">,</span>
        <span class="s1">&#39;shuffle_binary_blocks&#39;</span><span class="p">:</span> <span class="n">shuffle_activity_bocks_per_trajectory</span><span class="p">,</span>
        <span class="s1">&#39;shuffle_coordinates_timepoint&#39;</span><span class="p">:</span> <span class="n">shuffle_coordinates_per_timepoint</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">function_args</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;shuffle_tracks&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">obj_id_column</span><span class="p">,</span> <span class="n">position_columns</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
        <span class="s1">&#39;shuffle_timepoints&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">obj_id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
        <span class="s1">&#39;shift_timepoints&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">obj_id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
        <span class="s1">&#39;shuffle_binary_blocks&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">obj_id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">),</span>
        <span class="s1">&#39;shuffle_coordinates_timepoint&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">position_columns</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">),</span>
    <span class="p">}</span>

    <span class="n">resampling_func_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># convert method to list if necessary</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="n">method</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">methods</span> <span class="o">=</span> <span class="n">method</span>

    <span class="c1"># Check if the method is valid</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">method</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">method_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;method must be one of </span><span class="si">{</span><span class="n">method_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;shuffle_binary_blocks&#39;</span> <span class="ow">and</span> <span class="n">measurement_column</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;meas_column must be set for binary_blocks_shuffle&#39;</span><span class="p">)</span>

    <span class="c1"># Check if the columns are in the data</span>
    <span class="k">if</span> <span class="s1">&#39;shuffle_binary_blocks&#39;</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
        <span class="n">relevant_columns</span> <span class="o">=</span> <span class="n">position_columns</span> <span class="o">+</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">,</span> <span class="n">measurement_column</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">relevant_columns</span> <span class="o">=</span> <span class="n">position_columns</span> <span class="o">+</span> <span class="p">[</span><span class="n">frame_column</span><span class="p">,</span> <span class="n">obj_id_column</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">relevant_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> not in df.columns&#39;</span><span class="p">)</span>

    <span class="c1"># check if there are any Nan in the columns selected</span>
    <span class="n">na_cols</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">relevant_columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="n">position_columns</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
            <span class="n">na_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">na_cols</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;NaN values in </span><span class="si">{</span><span class="n">na_cols</span><span class="si">}</span><span class="s1">, default behaviour is to drop these rows&#39;</span><span class="p">)</span>
        <span class="n">data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">na_cols</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Sort the data</span>
    <span class="n">data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="n">obj_id_column</span><span class="p">,</span> <span class="n">frame_column</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="c1"># create a list of random numbers between 0 and 1000000</span>
    <span class="n">seed_list</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">integers</span><span class="p">(</span><span class="mi">1_000_000_000</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="n">n</span><span class="p">)</span>
    <span class="n">df_out</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># shuffle xy position for each object</span>
    <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Resampling for each object </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1"> times&#39;</span><span class="p">)</span>

    <span class="c1"># create a list of functions to call</span>
    <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">methods</span><span class="p">:</span>
        <span class="n">resampling_func_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">method_dict</span><span class="p">[</span><span class="n">method</span><span class="p">])</span>
    <span class="n">iter_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">parallel_processing</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">joblib</span> <span class="kn">import</span> <span class="n">Parallel</span><span class="p">,</span> <span class="n">delayed</span>

        <span class="c1"># iterate over the number of resamples</span>
        <span class="n">df_out</span> <span class="o">=</span> <span class="n">Parallel</span><span class="p">(</span><span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">)(</span>
            <span class="n">delayed</span><span class="p">(</span><span class="n">_apply_resampling</span><span class="p">)(</span>
                <span class="n">iter_number</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                <span class="n">methods</span><span class="o">=</span><span class="n">methods</span><span class="p">,</span>
                <span class="n">resampling_func_list</span><span class="o">=</span><span class="n">resampling_func_list</span><span class="p">,</span>
                <span class="n">seed_list</span><span class="o">=</span><span class="n">seed_list</span><span class="p">,</span>
                <span class="n">function_args</span><span class="o">=</span><span class="n">function_args</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iter_range</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># iterate over the number of resamples</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">iter_range</span><span class="p">,</span> <span class="n">disable</span><span class="o">=</span><span class="ow">not</span> <span class="n">show_progress</span><span class="p">):</span>
            <span class="n">data_new</span> <span class="o">=</span> <span class="n">_apply_resampling</span><span class="p">(</span>
                <span class="n">iter_number</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                <span class="n">methods</span><span class="o">=</span><span class="n">methods</span><span class="p">,</span>
                <span class="n">resampling_func_list</span><span class="o">=</span><span class="n">resampling_func_list</span><span class="p">,</span>
                <span class="n">seed_list</span><span class="o">=</span><span class="n">seed_list</span><span class="p">,</span>
                <span class="n">function_args</span><span class="o">=</span><span class="n">function_args</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">allow_duplicates</span><span class="p">:</span>
                <span class="n">current_try</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="c1"># make sure that data_new is not already in df_out,</span>
                <span class="c1"># but they are both dataframes, else redo the resampling</span>
                <span class="k">while</span> <span class="nb">any</span><span class="p">(</span>
                    <span class="n">data_new</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">data_new</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="s1">&#39;iteration&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">i</span><span class="o">.</span><span class="n">columns</span> <span class="o">!=</span> <span class="s1">&#39;iteration&#39;</span><span class="p">])</span>
                    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">df_out</span>
                <span class="p">):</span>
                    <span class="n">current_try</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="n">data_new</span> <span class="o">=</span> <span class="n">_apply_resampling</span><span class="p">(</span>
                        <span class="n">iter_number</span><span class="o">=</span><span class="n">i</span><span class="p">,</span>
                        <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span>
                        <span class="n">methods</span><span class="o">=</span><span class="n">methods</span><span class="p">,</span>
                        <span class="n">resampling_func_list</span><span class="o">=</span><span class="n">resampling_func_list</span><span class="p">,</span>
                        <span class="n">seed_list</span><span class="o">=</span><span class="n">seed_list</span><span class="p">,</span>
                        <span class="n">function_args</span><span class="o">=</span><span class="n">function_args</span><span class="p">,</span>
                    <span class="p">)</span>
                    <span class="k">if</span> <span class="n">current_try</span> <span class="o">&gt;</span> <span class="n">max_tries</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="s1">&#39;Could not find a unique resampling after 100 tries, try increasing n or allow_duplicates&#39;</span>
                        <span class="p">)</span>

            <span class="n">df_out</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_new</span><span class="p">)</span>

    <span class="n">data_it0</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">data_it0</span><span class="p">[</span><span class="s1">&#39;iteration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_it0</span><span class="p">))</span>
    <span class="n">df_out</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">data_it0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">df_out</span><span class="p">)[</span><span class="n">data</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;iteration&#39;</span><span class="p">]]</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


  </div>

    </div>

</div>









  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thanks for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="..." target=_blank>feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://twitter.com/PertzL" target="_blank" rel="noopener" title="Twitter" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.pertzlab.net/" target="_blank" rel="noopener" title="Lab Website" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M160 32c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32 17.7 0 32 14.3 32 32v224c0 17.7-14.3 32-32 32 0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32M32 448h288c70.7 0 128-57.3 128-128s-57.3-128-128-128v-64c106 0 192 86 192 192 0 49.2-18.5 94-48.9 128H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32m80-64h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg>
    </a>
  
    
    
    
    
    <a href="https://github.com/bgraedel/arcos4py" target="_blank" rel="noopener" title="Github" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:benjamin.graedel@unibe.ch" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>